!function n(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(o)return o(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=u[t]={exports:{}},a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,n,a,u,s)}return u[t].exports}for(var o="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,r){var n=e("./arrayLikeToArray.js");t.exports=function(e){if(Array.isArray(e))return n(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],4:[function(e,t,r){function o(e,t,r,n,a,u,s){try{var c=e[u](s),o=c.value}catch(e){return void r(e)}c.done?t(o):Promise.resolve(o).then(n,a)}t.exports=function(c){return function(){var e=this,s=arguments;return new Promise(function(t,r){var n=c.apply(e,s);function a(e){o(n,t,r,a,u,"next",e)}function u(e){o(n,t,r,a,u,"throw",e)}a(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,r){t.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,r){t.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,u=[],s=!0,c=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(u.push(n.value),!t||u.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(c)throw a}}return u}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],10:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],11:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],12:[function(e,t,r){var n=e("./arrayWithHoles.js"),a=e("./iterableToArrayLimit.js"),u=e("./unsupportedIterableToArray.js"),s=e("./nonIterableRest.js");t.exports=function(e,t){return n(e)||a(e,t)||u(e,t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":9,"./nonIterableRest.js":10,"./unsupportedIterableToArray.js":14}],13:[function(e,t,r){var n=e("./arrayWithoutHoles.js"),a=e("./iterableToArray.js"),u=e("./unsupportedIterableToArray.js"),s=e("./nonIterableSpread.js");t.exports=function(e){return n(e)||a(e)||u(e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithoutHoles.js":3,"./iterableToArray.js":8,"./nonIterableSpread.js":11,"./unsupportedIterableToArray.js":14}],14:[function(e,t,r){var n=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],15:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":16}],16:[function(e,t,r){t=function(s){"use strict";var o,e=Object.prototype,i=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",a=t.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a,u,s,c,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),n=new T(n||[]);return t._invoke=(a=e,u=r,s=n,c=p,function(e,t){if(c===h)throw new Error("Generator is already running");if(c===d){if("throw"===e)throw t;return I()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){r=function e(t,r){var n=t.iterator[r.method];if(n===o){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=o,e(t,r),"throw"===r.method))return x;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}n=l(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,x;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,x;{if(!n.done)return n;r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=o)}r.delegate=null;return x}(r,s);if(r){if(r===x)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===p)throw c=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=h;r=l(a,u,s);if("normal"===r.type){if(c=s.done?d:f,r.arg!==x)return{value:r.arg,done:s.done}}else"throw"===r.type&&(c=d,s.method="throw",s.arg=r.arg)}}),t}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}s.wrap=c;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",x={};function b(){}function _(){}function g(){}var t={},m=(u(t,n,function(){return this}),Object.getPrototypeOf),m=m&&m(m(S([]))),v=(m&&m!==e&&i.call(m,n)&&(t=m),g.prototype=b.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function w(s,c){var t;this._invoke=function(r,n){function e(){return new c(function(e,t){!function t(e,r,n,a){var u,e=l(s[e],s,r);if("throw"!==e.type)return(r=(u=e.arg).value)&&"object"==typeof r&&i.call(r,"__await")?c.resolve(r.__await).then(function(e){t("next",e,n,a)},function(e){t("throw",e,n,a)}):c.resolve(r).then(function(e){u.value=e,n(u)},function(e){return t("throw",e,n,a)});a(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=o,e.done=!0,e}).next=e}return{next:I}}function I(){return{value:o,done:!0}}return u(v,"constructor",_.prototype=g),u(g,"constructor",_),_.displayName=u(g,a,"GeneratorFunction"),s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},s.awrap=function(e){return{__await:e}},y(w.prototype),u(w.prototype,r,function(){return this}),s.AsyncIterator=w,s.async=function(e,t,r,n,a){void 0===a&&(a=Promise);var u=new w(c(e,t,r,n),a);return s.isGeneratorFunction(t)?u:u.next().then(function(e){return e.done?e.value:u.next()})},y(v),u(v,a,"Generator"),u(v,n,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),s.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return u.type="throw",u.arg=r,n.next=e,t&&(n.method="next",n.arg=o),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],u=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}var u=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,x):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),x}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,a=this.tryEntries[t];if(a.tryLoc===e)return"throw"===(r=a.completion).type&&(n=r.arg,E(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=o),x}},s}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{}],17:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));function _createForOfIteratorHelper(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sleep(t){return new Promise(function(e){return setTimeout(e,t)})}function stringify(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e;var t=e.toString();return"[object Object]"===t?JSON.stringify(e):t}var Browser=function(){function t(e){(0,_classCallCheck2.default)(this,t),this.options=e,this.windowId=null}var r,n,a,u,s,e,c,o,i;return(0,_createClass2.default)(t,[{key:"init",value:(i=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(r=null)!=t&&t)return e.next=5,chrome.windows.getCurrent();e.next=8;break;case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,chrome.windows.create(this.options);case 10:r=e.sent;case 11:return this.windowId=r.id,e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"onClose",value:function(t){chrome.windows.onRemoved.addListener(function(e){t(e),chrome.windows.onRemoved.removeListener(this)})}},{key:"close",value:function(){return chrome.windows.remove(this.windowId)}},{key:"loadingWait",value:(o=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:t=e.sent;case 3:if("loading"===t.status)return e.next=6,sleep(100);e.next=11;break;case 6:return e.next=8,this.getCurrentTab();case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"allTabs",value:(c=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={windowId:this.windowId},e.next=3,chrome.tabs.query(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"getCurrentTab",value:(e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query({active:!0,windowId:this.windowId});case 2:return t=e.sent,t=(0,_slicedToArray2.default)(t,1),t=t[0],e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"loadUrl",value:(s=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:return r=e.sent,e.next=5,chrome.tabs.update(r.id,{url:t});case 5:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"switchTab",value:(u=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.allTabs(this.windowId);case 2:return r=e.sent,e.next=5,chrome.tabs.update(r[t].id,{active:!0});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"closeTab",value:(a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.allTabs(this.windowId);case 2:return r=e.sent,e.next=5,chrome.tabs.remove(r[t].id,{windowId:this.windowId});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"newTab",value:(n=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t)return e.next=3,chrome.tabs.create({windowId:this.windowId});e.next=5;break;case 3:e.next=7;break;case 5:return e.next=7,chrome.tabs.create({url:t,windowId:this.windowId});case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"executeScript",value:(r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:return n=e.sent,e.next=5,chrome.scripting.executeScript({target:{tabId:n.id},func:t,args:r,world:"MAIN"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})}]),t}(),go_to_website=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.t0=stringify,e.next=5,this.executeStatement(n);case 5:if(e.t1=e.sent,(a=(0,e.t0)(e.t1)).startsWith("http://")||a.startsWith("https://"))return e.next=10,this.browser.loadUrl(a);e.next=12;break;case 10:e.next=14;break;case 12:return e.next=14,this.browser.loadUrl("http://".concat(a));case 14:return e.next=16,this.browser.loadingWait();case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),r(e.t2);case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(e,t){return r.apply(this,arguments)}}(),download_from_url=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.t0=stringify,e.next=5,this.executeStatement(n);case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),console.log(n),e.next=10,chrome.downloads.download({url:n});case 10:e.next=15;break;case 12:e.prev=12,e.t2=e.catch(0),r(e.t2);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}(),set_user_agent=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"DESKTOP"===(n=stringify(t.pointer)))return e.next=5,chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:["desktop_user_agent_rule"],disableRulesetIds:["mobile_user_agent_rule"]});e.next=7;break;case 5:e.next=10;break;case 7:if("MOBILE"===n)return e.next=10,chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:["mobile_user_agent_rule"],disableRulesetIds:["desktop_user_agent_rule"]});e.next=10;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}(),execute_javascript=function(){var _ref4=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee13(statement,onError){var pointer;return _regenerator.default.wrap(function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.prev=0,_context13.next=3,this.executeStatement(stringify(statement.pointer));case 3:return pointer=_context13.sent,_context13.next=6,this.browser.executeScript(function(code){return eval(code),!0},[pointer]);case 6:_context13.next=11;break;case 8:_context13.prev=8,_context13.t0=_context13.catch(0),onError(_context13.t0);case 11:case"end":return _context13.stop()}},_callee13,this,[[0,8]])}));return function(e,t){return _ref4.apply(this,arguments)}}(),new_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.browser.newTab()}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),switch_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.switchTab(n-1);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),close_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.closeTab(n-1);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),html_elements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],a=_createForOfIteratorHelper(t.pointer),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=23;break}return u=u.value,s=void 0,s=u.xpath||"null",n.push({selector:u.selector,elIndex:u.elIndex,attrs:u.attrs}),e.next=12,this.browser.getCurrentTab();case 12:if(c=e.sent,u.isFindSimilar)return e.next=16,chrome.scripting.executeScript({target:{tabId:c.id},files:["element_selector.js"],world:"MAIN"});e.next=21;break;case 16:return e.next=18,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t,r){e=document.querySelectorAll(e)[t];return(e=void 0===e?window.elementFinder.getElementByXpath(r):e)?(e.style.boxShadow="0 0 0 2px red",t=window.elementFinder.findTree(e),window.elementFinder.findSimilar(e,t)):[]},args:[u.selector,u.elIndex,s],world:"MAIN"});case 18:o=e.sent,i=_createForOfIteratorHelper(o[0].result);try{for(i.s();!(l=i.n()).done;)p=l.value,n.push({selector:p.selector,elIndex:p.elIndex,attrs:p.attrs})}catch(e){i.e(e)}finally{i.f()}case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),a.e(e.t0);case 28:return e.prev=28,a.f(),e.finish(28);case 31:return e.abrupt("return",n);case 34:return e.prev=34,e.t1=e.catch(0),r(e.t1),e.abrupt("return",[]);case 38:case"end":return e.stop()}},e,this,[[0,34],[3,25,28,31]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement(e,t){return _waitForElement.apply(this,arguments)}function _waitForElement(){return(_waitForElement=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e)},args:[r],world:"MAIN"});case 5:if(a=e.sent,10<n&&0===a.length)return e.abrupt("return",!1);e.next=8;break;case 8:if(0===a.length)return e.abrupt("return",waitForElement.call(this,t,r,n+1));e.next=10;break;case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var html_elements_by_selector=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.browser.getCurrentTab();case 3:if(n=e.sent,(a=t.pointer).includes('"'))return r(new Error("Double quotes not allowed in selector")),e.abrupt("return",[]);e.next=8;break;case 8:return e.next=10,waitForElement.call(this,n.id,a);case 10:if(e.sent){e.next=14;break}return r(new Error("HTMLElement not found")),e.abrupt("return",[]);case 14:return e.next=16,chrome.scripting.executeScript({target:{tabId:n.id},func:function(e){for(var t=[],r=document.querySelectorAll(e),n=0;n<r.length;n++)t.push({selector:"body ".concat(e),elIndex:n,attrs:[]});return t},args:[a],world:"MAIN"});case 16:return u=e.sent,e.abrupt("return",u[0].result);case 20:return e.prev=20,e.t0=e.catch(0),r(e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,this,[[0,20]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$1(e,t){return _waitForElement$.apply(this,arguments)}function _waitForElement$(){return(_waitForElement$=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 2:if(e.sent[0].result){e.next=7;break}return e.next=6,sleep(1e3);case 6:return e.abrupt("return",waitForElement$1.call(this,t,r));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var wait_for_elements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,console.log(n),n=n instanceof Array?n:[n],e.next=8,this.browser.getCurrentTab();case 8:a=e.sent,u=_createForOfIteratorHelper(n),e.prev=10,u.s();case 12:if((s=u.n()).done){e.next=18;break}return s=s.value,e.next=16,waitForElement$1.call(this,a.id,s);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),r(e.t1);case 31:case"end":return e.stop()}},e,this,[[0,28],[10,20,23,26]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$2(e,t){return _waitForElement$2.apply(this,arguments)}function _waitForElement$2(){return(_waitForElement$2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=13;break}return e.next=12,sleep(1e3);case 12:return e.abrupt("return",waitForElement$2.call(this,t,r,n+1));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var attribute_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f,h;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:return(a=e.sent)instanceof Array||(a=[a]),u=n.attr.toLowerCase(),s=n.op,c=[],e.next=11,this.browser.getCurrentTab();case 11:o=e.sent,e.t0=s,e.next="FIRST"===e.t0?15:"LAST"===e.t0?19:23;break;case 15:return e.next=17,waitForElement$2.call(this,o.id,a[0]);case 17:return a=[a[0]],e.abrupt("break",40);case 19:return e.next=21,waitForElement$2.call(this,o.id,a[a.length-1]);case 21:return a=[a[a.length-1]],e.abrupt("break",40);case 23:i=_createForOfIteratorHelper(a),e.prev=24,i.s();case 26:if((p=i.n()).done){e.next=32;break}return p=p.value,e.next=30,waitForElement$2.call(this,o.id,p);case 30:e.next=26;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(24),i.e(e.t1);case 37:return e.prev=37,i.f(),e.finish(37);case 40:l=_createForOfIteratorHelper(a),e.prev=41,l.s();case 43:if((p=l.n()).done){e.next=52;break}return f=p.value,h=f.attrs.xpath||"null",e.next=48,chrome.scripting.executeScript({target:{tabId:o.id},func:function(e,t,r){r=document.querySelectorAll(r.selector)[r.elIndex];return(r=r||document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(r.style.boxShadow="0 0 0 2px yellow","src"===e?r.currentSrc:"action"===e?r.action:"href"===e?r.href:r.getAttribute(e)):null},args:[u,h,f],world:"MAIN"});case 48:h=e.sent,c.push(h[0].result);case 50:e.next=43;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(41),l.e(e.t2);case 57:return e.prev=57,l.f(),e.finish(57);case 60:e.t3=s,e.next="FIRST"===e.t3?63:"LAST"===e.t3?64:65;break;case 63:return e.abrupt("return",c[0]);case 64:return e.abrupt("return",c[c.length-1]);case 65:return e.abrupt("return",c);case 66:e.next=72;break;case 68:return e.prev=68,e.t4=e.catch(0),r(e.t4),e.abrupt("return",null);case 72:case"end":return e.stop()}},e,this,[[0,68],[24,34,37,40],[41,54,57,60]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$3(e,t){return _waitForElement$3.apply(this,arguments)}function _waitForElement$3(){return(_waitForElement$3=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=13;break}return e.next=12,sleep(1e3);case 12:return e.abrupt("return",waitForElement$3.call(this,t,r,n+1));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var text_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:return(a=e.sent)instanceof Array||(a=[a]),u=n.op,s=[],e.next=10,this.browser.getCurrentTab();case 10:c=e.sent,e.t0=u,e.next="FIRST"===e.t0?14:"LAST"===e.t0?18:22;break;case 14:return e.next=16,waitForElement$3.call(this,c.id,a[0]);case 16:return a=[a[0]],e.abrupt("break",39);case 18:return e.next=20,waitForElement$3.call(this,c.id,a[a.length-1]);case 20:return a=[a[a.length-1]],e.abrupt("break",39);case 22:o=_createForOfIteratorHelper(a),e.prev=23,o.s();case 25:if((l=o.n()).done){e.next=31;break}return l=l.value,e.next=29,waitForElement$3.call(this,c.id,l);case 29:e.next=25;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(23),o.e(e.t1);case 36:return e.prev=36,o.f(),e.finish(36);case 39:i=_createForOfIteratorHelper(a),e.prev=40,i.s();case 42:if((l=i.n()).done){e.next=52;break}return p=l.value,f=p.attrs.xpath||"null",e.next=47,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];return(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(t.style.boxShadow="0 0 0 2px yellow",t.textContent):null},args:[f,p],world:"MAIN"});case 47:f=e.sent[0].result,s.push(f);case 50:e.next=42;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(40),i.e(e.t2);case 57:return e.prev=57,i.f(),e.finish(57);case 60:e.t3=u,e.next="FIRST"===e.t3?63:"LAST"===e.t3?64:65;break;case 63:return e.abrupt("return",s[0]);case 64:return e.abrupt("return",s[s.length-1]);case 65:return e.abrupt("return",s);case 66:e.next=73;break;case 68:return e.prev=68,e.t4=e.catch(0),console.log(e.t4),r(e.t4),e.abrupt("return",null);case 73:case"end":return e.stop()}},e,this,[[0,68],[23,33,36,39],[40,54,57,60]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$4(e,t){return _waitForElement$4.apply(this,arguments)}function _waitForElement$4(){return(_waitForElement$4=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=13;break}return e.next=12,sleep(1e3);case 12:return e.abrupt("return",waitForElement$4.call(this,t,r,n+1));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var tag_name_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:return(a=e.sent)instanceof Array||(a=[a]),u=n.op,s=[],e.next=10,this.browser.getCurrentTab();case 10:c=e.sent,e.t0=u,e.next="FIRST"===e.t0?14:"LAST"===e.t0?18:22;break;case 14:return e.next=16,waitForElement$4.call(this,c.id,a[0]);case 16:return a=[a[0]],e.abrupt("break",39);case 18:return e.next=20,waitForElement$4.call(this,c.id,a[a.length-1]);case 20:return a=[a[a.length-1]],e.abrupt("break",39);case 22:o=_createForOfIteratorHelper(a),e.prev=23,o.s();case 25:if((l=o.n()).done){e.next=31;break}return l=l.value,e.next=29,waitForElement$4.call(this,c.id,l);case 29:e.next=25;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(23),o.e(e.t1);case 36:return e.prev=36,o.f(),e.finish(36);case 39:i=_createForOfIteratorHelper(a),e.prev=40,i.s();case 42:if((l=i.n()).done){e.next=52;break}return p=l.value,f=p.attrs.xpath||"null",e.next=47,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];return(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(t.style.boxShadow="0 0 0 2px yellow",t.tagName.toLowerCase()):null},args:[f,p],world:"MAIN"});case 47:f=e.sent[0].result,s.push(f);case 50:e.next=42;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(40),i.e(e.t2);case 57:return e.prev=57,i.f(),e.finish(57);case 60:e.t3=u,e.next="FIRST"===e.t3?63:"LAST"===e.t3?64:65;break;case 63:return e.abrupt("return",s[0]);case 64:return e.abrupt("return",s[s.length-1]);case 65:return e.abrupt("return",s);case 66:e.next=73;break;case 68:return e.prev=68,e.t4=e.catch(0),console.log(e.t4),r(e.t4),e.abrupt("return",null);case 73:case"end":return e.stop()}},e,this,[[0,68],[23,33,36,39],[40,54,57,60]])}));return function(e,t){return r.apply(this,arguments)}}(),is_html_element_exist=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return(n=e.sent)instanceof Array||(n=[n]),e.next=7,this.browser.getCurrentTab();case 7:a=e.sent,u=!1,s=_createForOfIteratorHelper(n),e.prev=10,s.s();case 12:if((c=s.n()).done){e.next=23;break}return c=c.value,o=c.attrs.xpath||"null",e.next=17,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e,t){return null!=(t=document.querySelectorAll(t.selector)[t.elIndex]?t:document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)},args:[o,c],world:"MAIN"});case 17:if(o=e.sent,u=o[0].result){e.next=21;break}return e.abrupt("break",23);case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:return e.abrupt("return",u);case 34:return e.prev=34,e.t1=e.catch(0),r(e.t1),e.abrupt("return",!1);case 38:case"end":return e.stop()}},e,this,[[0,34],[10,25,28,31]])}));return function(e,t){return r.apply(this,arguments)}}(),page_source=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="",e.next=4,this.browser.getCurrentTab();case 4:return a=e.sent,e.next=7,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){return document.documentElement.outerHTML},world:"MAIN"});case 7:return a=e.sent,n=a[0].result,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),r(e.t0),e.abrupt("return","");case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$5(e,t){return _waitForElement$5.apply(this,arguments)}function _waitForElement$5(){return(_waitForElement$5=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=13;break}return e.next=12,sleep(1e3);case 12:return e.abrupt("return",waitForElement$5.call(this,t,r,n+1));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var click=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:return(a=e.sent)instanceof Array||(a=[a]),u=n.op,e.next=9,this.browser.getCurrentTab();case 9:s=e.sent,c=_createForOfIteratorHelper(a),e.prev=11,c.s();case 13:if((o=c.n()).done){e.next=30;break}if(o=o.value,i=!0,"WAIT"===u)return e.next=19,waitForElement$5.call(this,s.id,o);e.next=20;break;case 19:i=e.sent;case 20:if(console.log("element: ",o),l=o.attrs.xpath||"null",i)return e.next=25,chrome.scripting.executeScript({target:{tabId:s.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];"svg"===(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue).tagName.toLowerCase()?(t.parentElement.style.boxShadow="0 0 0 2px yellow",t.parentElement.focus(),t.parentElement.click()):(t.style.boxShadow="0 0 0 2px yellow",t.focus(),t.click())},args:[l,o],world:"MAIN"});e.next=27;break;case 25:e.next=28;break;case 27:r(new Error("HTMLElement not found"));case 28:e.next=13;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(11),c.e(e.t0);case 35:return e.prev=35,c.f(),e.finish(35);case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 44:case"end":return e.stop()}},e,this,[[0,40],[11,32,35,38]])}));return function(e,t){return r.apply(this,arguments)}}(),event_type=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.getCurrentTab();case 6:return a=e.sent,e.next=9,chrome.debugger.attach({tabId:a.id},"1.2");case 9:u=_createForOfIteratorHelper(n),e.prev=10,u.s();case 12:if((s=u.n()).done){e.next=18;break}return s=s.value,e.next=16,chrome.debugger.sendCommand({tabId:a.id},"Input.dispatchKeyEvent",{type:"char",text:s,modifiers:0});case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.next=28,chrome.debugger.detach({tabId:a.id});case 28:e.next=34;break;case 30:e.prev=30,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 34:case"end":return e.stop()}},e,this,[[0,30],[10,20,23,26]])}));return function(e,t){return r.apply(this,arguments)}}(),press_key=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.browser.getCurrentTab();case 3:return n=e.sent,e.next=6,chrome.debugger.attach({tabId:n.id},"1.2");case 6:e.t0=t.pointer,e.next="ENTER"===e.t0?9:"SHIFT"===e.t0?12:"CTRL"===e.t0?15:"CAPS_LOCK"===e.t0?18:"TAB"===e.t0?21:"ESC"===e.t0?24:27;break;case 9:return e.next=11,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(13),modifiers:0});case 11:return e.abrupt("break",27);case 12:return e.next=14,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(16),modifiers:0});case 14:return e.abrupt("break",27);case 15:return e.next=17,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(17),modifiers:0});case 17:return e.abrupt("break",27);case 18:return e.next=20,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(20),modifiers:0});case 20:return e.abrupt("break",27);case 21:return e.next=23,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(9),modifiers:0});case 23:return e.abrupt("break",27);case 24:return e.next=26,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(27),modifiers:0});case 26:return e.abrupt("break",27);case 27:return e.next=29,chrome.debugger.detach({tabId:n.id});case 29:return e.next=31,sleep(1e3);case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 37:case"end":return e.stop()}},e,this,[[0,33]])}));return function(e,t){return r.apply(this,arguments)}}(),wait_for=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=parseFloat(t.pointer),e.next=4,sleep(parseInt(1e3*n));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}(),scroll=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.browser.getCurrentTab();case 4:if(a=e.sent,"UP"===n)return e.next=8,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){window.scrollTo({top:0,behavior:"smooth"})},world:"MAIN"});e.next=10;break;case 8:e.next=13;break;case 10:if("DOWN"===n)return e.next=13,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){var e=document.body,t=document.documentElement,e=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);window.scrollTo({top:e,behavior:"smooth"})},world:"MAIN"});e.next=13;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_if=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=_createForOfIteratorHelper(t.pointer),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=22;break}if("else"in(a=a.value))return e.next=9,this.execute(stringify(a.else));e.next=11;break;case 9:e.next=20;break;case 11:return e.next=13,this.executeStatement(stringify(a.cond));case 13:if("boolean"!=typeof(u=e.sent)||!u){e.next=20;break}if(""!==(u=stringify(a.do).trim()))return e.next=19,this.execute(u);e.next=19;break;case 19:return e.abrupt("break",22);case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),n.e(e.t0);case 27:return e.prev=27,n.f(),e.finish(27);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),r(e.t1);case 35:case"end":return e.stop()}},e,this,[[0,32],[2,24,27,30]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_compare=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=n.op,e.next=5,this.executeStatement(stringify(n.value1));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return u=e.t0,e.next=11,this.executeStatement(stringify(n.value2));case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1=null;case 14:s=e.t1,e.t2=a,e.next="=="===e.t2?18:"!="===e.t2?19:">"===e.t2?20:"<"===e.t2?21:">="===e.t2?22:"<="===e.t2?23:24;break;case 18:return e.abrupt("return",u===s);case 19:return e.abrupt("return",u!==s);case 20:return e.abrupt("return",s<u);case 21:return e.abrupt("return",u<s);case 22:return e.abrupt("return",s<=u);case 23:return e.abrupt("return",u<=s);case 24:return e.abrupt("return",!1);case 25:e.next=30;break;case 27:e.prev=27,e.t3=e.catch(0),r(e.t3);case 30:case"end":return e.stop()}},e,this,[[0,27]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_operation=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=n.op,e.next=5,this.executeStatement(stringify(n.value1));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return u=e.t0,e.next=11,this.executeStatement(stringify(n.value2));case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1=null;case 14:if(s=e.t1,"&&"===a)return e.abrupt("return",u&&s);e.next=19;break;case 19:if("||"===a)return e.abrupt("return",u||s);e.next=21;break;case 21:e.next=26;break;case 23:e.prev=23,e.t2=e.catch(0),r(e.t2);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,this,[[0,23]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_negate=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:if("boolean"==typeof(n=e.sent))return e.abrupt("return",!n);e.next=6;break;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_boolean=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.pointer);case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_ternary=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.cond));case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=!1;case 7:if(e.t0)return e.next=11,this.executeStatement(stringify(n.value1));e.next=12;break;case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeStatement(stringify(n.value2));case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t1=e.catch(0),e.abrupt("return",r(e.t1));case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_repeat_ext=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.times));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=0;case 8:if(a=e.t0,a=parseInt(a),""===(u=stringify(n.loopBlock).trim())){e.next=31;break}s=0;case 13:if(s<a)return e.next=16,this.execute(u);e.next=31;break;case 16:if(this.isTerminated)return e.abrupt("break",31);e.next=18;break;case 18:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",31);e.next=23;break;case 23:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",28);e.next=26;break;case 26:if(null!=this.isFunctionReturn)return e.abrupt("break",31);e.next=28;break;case 28:s++,e.next=13;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),r(e.t1);case 36:case"end":return e.stop()}},e,this,[[0,33]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_whileUntil=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.loopFlow=null,n=t.pointer,a=stringify(n.loopBlock),u=stringify(n.mode);case 5:return s=void 0,e.prev=7,e.next=10,this.executeStatement(stringify(n.cond));case 10:s=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s=!1;case 16:if("UNTIL"!==u){e.next=21;break}if(s)return e.abrupt("break",39);e.next=19;break;case 19:e.next=23;break;case 21:if(s){e.next=23;break}return e.abrupt("break",39);case 23:return e.next=25,this.execute(a);case 25:if(this.isTerminated)return e.abrupt("break",39);e.next=27;break;case 27:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",39);e.next=32;break;case 32:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",5);e.next=35;break;case 35:if(null!==this.isFunctionReturn)return e.abrupt("break",39);e.next=37;break;case 37:e.next=5;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(0),r(e.t1);case 44:case"end":return e.stop()}},e,this,[[0,41],[7,13]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_for=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.from));case 5:return a=e.sent,a=parseInt(a),e.next=9,this.executeStatement(stringify(n.to));case 9:return u=e.sent,u=parseInt(u),e.next=13,this.executeStatement(stringify(n.step));case 13:s=e.sent,s=parseInt(s),c=stringify(n.variable),o=stringify(n.loopBlock).trim(),i=a;case 18:if(!(i<=u)){e.next=38;break}if(this.VARIABLE_STACK[c]=i,""!==o)return e.next=23,this.execute(o);e.next=23;break;case 23:if(this.isTerminated)return e.abrupt("break",38);e.next=25;break;case 25:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",38);e.next=30;break;case 30:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",35);e.next=33;break;case 33:if(null!==this.isFunctionReturn)return e.abrupt("break",38);e.next=35;break;case 35:i+=s,e.next=18;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),r(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_forEach=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.list));case 5:a=e.sent,u=stringify(n.loopBlock).trim(),s=stringify(n.variable),c=0;case 9:if(!(c<a.length)){e.next=29;break}if(this.VARIABLE_STACK[s]=a[c],""!==u)return e.next=14,this.execute(u);e.next=14;break;case 14:if(this.isTerminated)return e.abrupt("break",29);e.next=16;break;case 16:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",29);e.next=21;break;case 21:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",26);e.next=24;break;case 24:if(null!==this.isFunctionReturn)return e.abrupt("break",29);e.next=26;break;case 26:c++,e.next=9;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),r(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_flow_statements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.loopFlow=stringify(t.pointer.flow)}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),math_number=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.pointer);case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),math_arithmetic=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value1));case 5:return u=e.sent,e.next=8,this.executeStatement(stringify(n.value2));case 8:s=e.sent,e.t0=a,e.next="ADD"===e.t0?12:"MINUS"===e.t0?13:"MULTIPLY"===e.t0?14:"DIVIDE"===e.t0?15:"POWER"===e.t0?16:17;break;case 12:return e.abrupt("return",u+s);case 13:return e.abrupt("return",u-s);case 14:return e.abrupt("return",u*s);case 15:return e.abrupt("return",u/s);case 16:return e.abrupt("return",Math.pow(u,s));case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),r(e.t1);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(e,t){return r.apply(this,arguments)}}(),math_single=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value));case 5:u=e.sent,e.t0=a,e.next="ROOT"===e.t0?9:"ABS"===e.t0?10:"NEG"===e.t0?11:"LN"===e.t0?12:"LOG10"===e.t0?13:"EXP"===e.t0?14:"POW10"===e.t0?15:16;break;case 9:return e.abrupt("return",Math.sqrt(u));case 10:return e.abrupt("return",Math.abs(u));case 11:return e.abrupt("return",-u);case 12:return e.abrupt("return",Math.log(u));case 13:return e.abrupt("return",Math.log10(u));case 14:return e.abrupt("return",Math.exp(u));case 15:return e.abrupt("return",Math.pow(10,u));case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),r(e.t1);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(e,t){return r.apply(this,arguments)}}(),math_trig=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value));case 5:u=e.sent,e.t0=a,e.next="SIN"===e.t0?9:"COS"===e.t0?10:"TAN"===e.t0?11:"ASIN"===e.t0?12:"ACOS"===e.t0?13:"ATAN"===e.t0?14:15;break;case 9:return e.abrupt("return",Math.sin(u/180*Math.PI));case 10:return e.abrupt("return",Math.cos(u/180*Math.PI));case 11:return e.abrupt("return",Math.tan(u/180*Math.PI));case 12:return e.abrupt("return",Math.asin(u)/Math.PI*180);case 13:return e.abrupt("return",Math.acos(u)/Math.PI*180);case 14:return e.abrupt("return",Math.atan(u)/Math.PI*180);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),r(e.t1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),math_constant=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=t.pointer,n=stringify(n.const),e.t0=n,e.next="PI"===e.t0?6:"E"===e.t0?7:"GOLDEN_RATIO"===e.t0?8:"SQRT2"===e.t0?9:"SQRT1_2"===e.t0?10:"INFINITY"===e.t0?11:12;break;case 6:return e.abrupt("return",Math.PI);case 7:return e.abrupt("return",Math.E);case 8:return e.abrupt("return",(1+Math.sqrt(5))/2);case 9:return e.abrupt("return",Math.SQRT2);case 10:return e.abrupt("return",Math.SQRT1_2);case 11:return e.abrupt("return",1/0);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function isPrime(e){for(var t=2;t<e;t++)if(e%t==0)return!1;return 1<e}var math_number_property=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value1));case 4:a=e.sent,u=stringify(n.property),e.t0=u,e.next="EVEN"===e.t0?9:"ODD"===e.t0?10:"PRIME"===e.t0?11:"WHOLE"===e.t0?12:"POSITIVE"===e.t0?13:"NEGATIVE"===e.t0?14:"DIVISIBLE_BY"===e.t0?15:19;break;case 9:return e.abrupt("return",a%2==0);case 10:return e.abrupt("return",a%2!=0);case 11:return e.abrupt("return",isPrime(a));case 12:return e.abrupt("return",a%1==0);case 13:return e.abrupt("return",0<a);case 14:return e.abrupt("return",a<0);case 15:return e.next=17,this.executeStatement(stringify(n.value2));case 17:return u=e.sent,e.abrupt("return",a%u==0);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),r(e.t1);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}},e,this,[[0,21]])}));return function(e,t){return r.apply(this,arguments)}}(),convert_text_to_number=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.abrupt("return",Number(n));case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(e,t){return r.apply(this,arguments)}}(),math_round=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(n.value);case 5:u=e.sent,e.t0=a,e.next="ROUND"===e.t0?9:"ROUNDUP"===e.t0?10:"ROUNDDOWN"===e.t0?11:12;break;case 9:return e.abrupt("return",Math.round(u));case 10:return e.abrupt("return",Math.ceil(u));case 11:return e.abrupt("return",Math.floor(u));case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function mathModes(e){for(var t=[],r=[],n=0,a=0;a<e.length;a++){for(var u,s=e[a],c=!1,o=0;o<r.length;o++)if(r[o][0]===s){u=++r[o][1],c=!0;break}c||(r.push([s,1]),u=1),n=Math.max(u,n)}for(o=0;o<r.length;o++)r[o][1]===n&&t.push(r[o][0]);return t}function mathStandardDeviation(e){var t=e.length;if(!t)return null;for(var r=e.reduce(function(e,t){return e+t})/t,n=0,a=0;a<t;a++)n+=Math.pow(e[a]-r,2);return n/=t,Math.sqrt(n)}var math_on_list=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.list));case 5:u=e.sent,e.t0=a,e.next="SUM"===e.t0?9:"MIN"===e.t0?10:"MAX"===e.t0?11:"AVERAGE"===e.t0?12:"MEDIAN"===e.t0?13:"MODE"===e.t0?18:"STD_DEV"===e.t0?19:"RANDOM"===e.t0?20:21;break;case 9:return e.abrupt("return",u.reduce(function(e,t){return e+t},0));case 10:return e.abrupt("return",Math.min.apply(Math,(0,_toConsumableArray2.default)(u)));case 11:return e.abrupt("return",Math.max.apply(Math,(0,_toConsumableArray2.default)(u)));case 12:return e.abrupt("return",u.reduce(function(e,t){return e+t},0)/u.length);case 13:if(u.sort(function(e,t){return e-t}),s=Math.floor(u.length/2),u.length%2)return e.abrupt("return",u[s]);e.next=17;break;case 17:return e.abrupt("return",(u[s-1]+u[s])/2);case 18:return e.abrupt("return",mathModes(u));case 19:return e.abrupt("return",mathStandardDeviation(u));case 20:return e.abrupt("return",u[Math.floor(Math.random()*u.length)]);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(0),r(e.t1);case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}},e,this,[[0,23]])}));return function(e,t){return r.apply(this,arguments)}}(),math_modulo=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value1));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.value2));case 7:return u=e.sent,e.abrupt("return",a%u);case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),math_constrain=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.min));case 7:return u=e.sent,e.next=10,this.executeStatement(stringify(n.max));case 10:return s=e.sent,e.abrupt("return",Math.min(Math.max(a,u),s));case 14:e.prev=14,e.t0=e.catch(0),r(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function mathRandomInt(e,t){var r;return t<e&&(r=e,e=t,t=r),Math.floor(Math.random()*(t-e+1)+e)}var math_random_int=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.min));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.max));case 7:return u=e.sent,e.abrupt("return",mathRandomInt(a,u));case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),text=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",stringify(t.pointer).replace("\\n","\n").replace("\\t","\t").replace("\\r","\r"));case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),text_join=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n=[],a=_createForOfIteratorHelper(a),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return u=u.value,e.next=10,this.executeStatement(stringify(u));case 10:u=e.sent,n.push(u);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",n.join(""));case 25:e.prev=25,e.t1=e.catch(0),r(e.t1);case 28:case"end":return e.stop()}},e,this,[[0,25],[4,16,19,22]])}));return function(e,t){return r.apply(this,arguments)}}(),text_append=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.text));case 5:a=stringify(e.sent),n in this.VARIABLE_STACK?this.VARIABLE_STACK[n]+=a:this.VARIABLE_STACK[n]=a,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(e,t){return r.apply(this,arguments)}}(),text_length=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n));case 4:return n=e.sent,e.abrupt("return",stringify(n).length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),text_isEmpty=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,n=stringify(n),e.abrupt("return",0===n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),convert_to_text=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.abrupt("return",stringify(n));case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(e,t){return r.apply(this,arguments)}}(),text_indexOf=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.substring));case 8:if(u=stringify(u=e.sent),"FIRST"===(s=stringify(n.indexOf)))return e.abrupt("return",a.indexOf(u)+1);e.next=15;break;case 15:if("LAST"===s)return e.abrupt("return",a.lastIndexOf(u)+1);e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),r(e.t0);case 22:return e.abrupt("return",0);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(e,t){return r.apply(this,arguments)}}(),text_charAt=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.at));case 8:u=e.sent,e.t0=stringify(n.action),e.next="FROM_START"===e.t0?12:"FROM_END"===e.t0?14:"FIRST"===e.t0?16:"LAST"===e.t0?17:"RANDOM"===e.t0?18:19;break;case 12:return u=parseInt(u),e.abrupt("return",a[u-1]);case 14:return u=parseInt(u),e.abrupt("return",a[a.length-u]);case 16:return e.abrupt("return",a[0]);case 17:return e.abrupt("return",a[a.length-1]);case 18:return e.abrupt("return",a[Math.floor(Math.random()*a.length)]);case 19:e.next=25;break;case 21:e.prev=21,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}},e,this,[[0,21]])}));return function(e,t){return r.apply(this,arguments)}}();function subsequenceFromStartFromEnd(e,t,r){r=e.length-1-r+1;return e.slice(t,r)}function subsequenceFromStartLast(e,t){var r=e.length-1+1;return e.slice(t,r)}function subsequenceFromEndFromStart(e,t,r){t=e.length-1-t;return e.slice(t,r+1)}function subsequenceFromEndFromEnd(e,t,r){t=e.length-1-t,r=e.length-1-r+1;return e.slice(t,r)}function subsequenceFromEndLast(e,t){var t=e.length-1-t,r=e.length-1+1;return e.slice(t,r)}function subsequenceFirstFromEnd(e,t){t=e.length-1-t+1;return e.slice(0,t)}var text_getSubstring=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.at1));case 8:return u=e.sent,u=parseInt(stringify(u)),e.next=12,this.executeStatement(stringify(n.at2));case 12:if(s=e.sent,s=parseInt(stringify(s)),c=stringify(n.action1),o=stringify(n.action2),"FROM_START"===c&&"FROM_START"===o)return e.abrupt("return",a.slice(u-1,s));e.next=20;break;case 20:if("FROM_START"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFromStartFromEnd(a,u-1,s-1));e.next=24;break;case 24:if("FROM_START"===c&&"LAST"===o)return e.abrupt("return",subsequenceFromStartLast(a,u-1));e.next=28;break;case 28:if("FROM_END"===c&&"FROM_START"===o)return e.abrupt("return",subsequenceFromEndFromStart(a,u-1,s-1));e.next=32;break;case 32:if("FROM_END"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFromEndFromEnd(a,u-1,s-1));e.next=36;break;case 36:if("FROM_END"===c&&"LAST"===o)return e.abrupt("return",subsequenceFromEndLast(a,u-1));e.next=40;break;case 40:if("FIRST"===c&&"FROM_START"===o)return e.abrupt("return",a.slice(0,s));e.next=44;break;case 44:if("FIRST"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFirstFromEnd(a,s-1));e.next=48;break;case 48:return e.abrupt("return",a);case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(0),r(e.t0);case 54:return e.abrupt("return",null);case 55:case"end":return e.stop()}},e,this,[[0,51]])}));return function(e,t){return r.apply(this,arguments)}}();function titleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var text_changeCase=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:a=e.sent,e.t0=stringify(n.action),e.next="UPPERCASE"===e.t0?8:"LOWERCASE"===e.t0?9:"TITLECASE"===e.t0?10:11;break;case 8:return e.abrupt("return",a.toUpperCase());case 9:return e.abrupt("return",a.toLowerCase());case 10:return e.abrupt("return",titleCase(a));case 11:return e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),text_trim=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:a=e.sent,e.t0=stringify(n.action),e.next="LEFT"===e.t0?8:"RIGHT"===e.t0?9:"BOTH"===e.t0?10:11;break;case 8:return e.abrupt("return",a.trimLeft());case 9:return e.abrupt("return",a.trimRight());case 10:return e.abrupt("return",a.trim());case 11:return e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),text_print=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return(n=e.sent)===1/0&&(n="Infinity"),e.next=7,this.browser.getCurrentTab();case 7:return a=e.sent,e.next=10,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e){return alert(e)},args:[n],world:"MAIN"});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}(),prompt$1=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.message));case 7:return u=e.sent,e.next=10,this.browser.getCurrentTab();case 10:return s=e.sent,e.next=13,chrome.scripting.executeScript({target:{tabId:s.id},func:function(e,t){return prompt(e,t)},args:[u,a],world:"MAIN"});case 13:return s=e.sent,e.abrupt("return",s[0].result);case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_create_with=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n=[],a=_createForOfIteratorHelper(a),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return u=u.value,e.next=10,this.executeStatement(stringify(u));case 10:u=e.sent,n.push(u);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",n);case 25:return e.prev=25,e.t1=e.catch(0),r(e.t1),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[0,25],[4,16,19,22]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_chooser=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.getCurrentTab();case 6:return a=e.sent,e.next=9,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e){for(var t="",r=0;r<e.length;r++)t+=r+1+". "+e[r],r<e.length-1&&(t+="\n");var n=prompt("Enter the index of the item to select:\n"+t,"1");return parseInt(n)},args:[n],world:"MAIN"});case 9:return a=e.sent,e.abrupt("return",a[0].result);case 13:e.prev=13,e.t0=e.catch(0),r(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_repeat=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.times));case 4:return a=e.sent,a=parseInt(a),e.next=8,this.executeStatement(stringify(n.value));case 8:for(u=e.sent,s=[],c=0;c<a;c++)s.push(u);return e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(0),r(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_length=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.next=4,this.executeStatement(n);case 4:return n=e.sent,e.abrupt("return",n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_isEmpty=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.next=4,this.executeStatement(n);case 4:return n=e.sent,e.abrupt("return",0===n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_indexOf=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.item));case 7:u=e.sent,e.t0=stringify(n.indexOf),e.next="FIRST"===e.t0?11:"LAST"===e.t0?12:13;break;case 11:return e.abrupt("return",a.indexOf(u)+1);case 12:return e.abrupt("return",a.lastIndexOf(u)+1);case 13:return e.abrupt("return",-1);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),r(e.t1);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_getIndex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.index));case 7:if(u=e.sent,u=parseInt(u),s=stringify(n.mode),"FROM_START"!==(c=stringify(n.where))){e.next=23;break}if("GET"===s)return e.abrupt("return",a[u-1]);e.next=16;break;case 16:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(u-1,1)[0]);e.next=20;break;case 20:"REMOVE"===s&&a.splice(u-1,1);case 21:e.next=70;break;case 23:if("FROM_END"!==c){e.next=35;break}if("GET"===s)return e.abrupt("return",a[a.length-u]);e.next=28;break;case 28:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(a.length-u,1)[0]);e.next=32;break;case 32:"REMOVE"===s&&a.splice(a.length-u,1);case 33:e.next=70;break;case 35:if("FIRST"!==c){e.next=47;break}if("GET"===s)return e.abrupt("return",a[0]);e.next=40;break;case 40:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(0,1)[0]);e.next=44;break;case 44:"REMOVE"===s&&a.splice(0,1);case 45:e.next=70;break;case 47:if("LAST"!==c){e.next=59;break}if("GET"===s)return e.abrupt("return",a[a.length-1]);e.next=52;break;case 52:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(a.length-1,1)[0]);e.next=56;break;case 56:"REMOVE"===s&&a.splice(a.length-1,1);case 57:e.next=70;break;case 59:if("RANDOM"!==c){e.next=70;break}if(o=Math.floor(Math.random()*a.length),"GET"===s)return e.abrupt("return",a[o]);e.next=65;break;case 65:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(o,1)[0]);e.next=69;break;case 69:"REMOVE"===s&&a.splice(o,1);case 70:e.next=75;break;case 72:e.prev=72,e.t0=e.catch(0),r(e.t0);case 75:return e.abrupt("return",null);case 76:case"end":return e.stop()}},e,this,[[0,72]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_setIndex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.index));case 7:return u=e.sent,u=parseInt(u),e.next=11,this.executeStatement(stringify(n.value));case 11:s=e.sent,c=stringify(n.mode),"FROM_START"===(o=stringify(n.where))?"SET"===c?a[u-1]=s:"INSERT"===c&&a.splice(u-1,0,s):"FROM_END"===o?"SET"===c?a[a.length-u]=s:"INSERT"===c&&a.splice(a.length-u,0,s):"FIRST"===o?"SET"===c?a[0]=s:"INSERT"===c&&a.splice(0,0,s):"LAST"===o?"SET"===c?a[a.length-1]=s:"INSERT"===c&&a.splice(a.length-1,0,s):"RANDOM"===o&&(o=Math.floor(Math.random()*a.length),"SET"===c?a[o]=s:"INSERT"===c&&a.splice(o,0,s)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_getSublist=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,u=stringify(n.where1),s=stringify(n.where2),e.next=9,this.executeStatement(stringify(n.at1));case 9:return c=e.sent,c=parseInt(c),e.next=13,this.executeStatement(stringify(n.at2));case 13:if(o=e.sent,o=parseInt(o),"FROM_START"!==u){e.next=28;break}if("FROM_START"===s)return e.abrupt("return",a.slice(c-1,o));e.next=20;break;case 20:if("FROM_END"===s)return e.abrupt("return",a.slice(c-1,a.length-(o-1)));e.next=24;break;case 24:if("LAST"===s)return e.abrupt("return",a.slice(c-1,a.length));e.next=26;break;case 26:e.next=52;break;case 28:if("FROM_END"!==u){e.next=41;break}if("FROM_START"===s)return e.abrupt("return",a.slice(a.length-c,o));e.next=33;break;case 33:if("FROM_END"===s)return e.abrupt("return",a.slice(a.length-c,a.length-(o-1)));e.next=37;break;case 37:if("LAST"===s)return e.abrupt("return",a.slice(a.length-c,a.length));e.next=39;break;case 39:e.next=52;break;case 41:if("FIRST"!==u){e.next=52;break}if("FROM_START"===s)return e.abrupt("return",a.slice(0,o));e.next=46;break;case 46:if("FROM_END"===s)return e.abrupt("return",a.slice(0,a.length-(o-1)));e.next=50;break;case 50:if("LAST"===s)return e.abrupt("return",a.slice(0,a.length));e.next=52;break;case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(0),r(e.t0);case 57:return e.abrupt("return",null);case 58:case"end":return e.stop()}},e,this,[[0,54]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_split=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.delim));case 7:if(u=e.sent,"SPLIT"===(s=stringify(n.mode)))return e.abrupt("return",a.split(u));e.next=13;break;case 13:if("JOIN"===s)return e.abrupt("return",a.join(u));e.next=15;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_regex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.text));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.regex));case 7:return u=e.sent,u=new RegExp(u,"g"),e.abrupt("return",(0,_toConsumableArray2.default)(a.matchAll(u)));case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}();function listsGetSortCompare(e,r){var n={NUMERIC:function(e,t){return Number(e)-Number(t)},TEXT:function(e,t){return e.toString()>t.toString()?1:-1},IGNORE_CASE:function(e,t){return e.toString().toLowerCase()>t.toString().toLowerCase()?1:-1}}[e];return function(e,t){return n(e,t)*r}}var lists_sort=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,u=n.direction,s=stringify(n.type),e.abrupt("return",a.slice().sort(listsGetSortCompare(s,u)));case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(e,t){return r.apply(this,arguments)}}(),variables_set=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.value));case 5:a=e.sent,this.VARIABLE_STACK[n]=a,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(e,t){return r.apply(this,arguments)}}(),variables_get=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=stringify(t.pointer))in this.VARIABLE_STACK)return e.abrupt("return",this.VARIABLE_STACK[n]);e.next=4;break;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}(),math_change=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.value));case 5:a=e.sent,n in this.VARIABLE_STACK&&"number"==typeof this.VARIABLE_STACK[n]?this.VARIABLE_STACK[n]+=a:this.VARIABLE_STACK[n]=a,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(e,t){return r.apply(this,arguments)}}(),procedures_defnoreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.pointer,a=stringify(n.name),u=n.args,s=stringify(n.functionBlock),c=_createForOfIteratorHelper(u);try{for(c.s();!(o=c.n()).done;)i=o.value,this.VARIABLE_STACK[i]=null}catch(e){c.e(e)}finally{c.f()}this.FUNCTION_STACK.push({name:a,functionBlock:s})}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),procedures_defreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.pointer,a=stringify(n.name),u=n.args,s=stringify(n.functionBlock),c=stringify(n.ret),o=_createForOfIteratorHelper(u);try{for(o.s();!(i=o.n()).done;)l=i.value,this.VARIABLE_STACK[l]=null}catch(e){o.e(e)}finally{o.f()}this.FUNCTION_STACK.push({name:a,functionBlock:s,ret:c})}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),Piper=function(){function r(e){var t=this;(0,_classCallCheck2.default)(this,r),this.browser=e,this.UA=null,this.loopFlow=null,this.currentFunctionName=null,this.isFunctionReturn=null,this.functionReturnValue=null,this.VARIABLE_STACK={},this.FUNCTION_STACK=[],this.isTerminated=!1,this.canShowErrorAlert=!0,this.browser.onClose(function(e){t.isTerminated=!0})}var t,n,a,u,e,s;return(0,_createClass2.default)(r,[{key:"showError",value:(s=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canShowErrorAlert)return e.next=3,this.browser.getCurrentTab();e.next=6;break;case 3:return n=e.sent,e.next=6,chrome.scripting.executeScript({target:{tabId:n.id},func:function(e){return alert(e)},args:[String(r)],world:"MAIN"});case 6:this.isTerminated=!0;case 7:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"onScriptComplete",value:(e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.browser.getCurrentTab();case 2:return t=e.sent,e.next=5,chrome.scripting.executeScript({target:{tabId:t.id},func:function(){return alert("Script execution completed.")},world:"MAIN"});case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"init",value:(u=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initFunctions(t))return e.next=4,this.execute(t);e.next=4;break;case 4:return e.next=6,this.onScriptComplete();case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"initFunctions",value:(a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r,n,a,u,s=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=null,e.prev=1,r=JSON.parse(t),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),this.showError({cmd:"function_init"},e.t0),e.abrupt("return",!1);case 9:n=_createForOfIteratorHelper(r),e.prev=10,u=_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("procedures_defnoreturn"===(t=a.value).cmd)return e.next=4,procedures_defnoreturn.call(s,t,function(e){s.showError(t,e)});e.next=6;break;case 4:e.next=9;break;case 6:if("procedures_defreturn"===t.cmd)return e.next=9,procedures_defreturn.call(s,t,function(e){s.showError(t,e)});e.next=9;break;case 9:case"end":return e.stop()}},e)}),n.s();case 13:if((a=n.n()).done){e.next=17;break}return e.delegateYield(u(),"t1",15);case 15:e.next=13;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(10),n.e(e.t2);case 22:return e.prev=22,n.f(),e.finish(22);case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}},e,this,[[1,5],[10,19,22,25]])})),function(e){return a.apply(this,arguments)})},{key:"execute",value:(n=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r,n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(t),r=_createForOfIteratorHelper(r),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=20;break}if(n=n.value,this.isTerminated)return e.abrupt("break",20);e.next=8;break;case 8:if("BREAK"===this.loopFlow)return e.abrupt("break",20);e.next=12;break;case 12:if("CONTINUE"===this.loopFlow)return e.abrupt("continue",18);e.next=14;break;case 14:if(null!==this.isFunctionReturn)return e.abrupt("break",20);e.next=16;break;case 16:return e.next=18,this.executeStatement(n);case 18:e.next=4;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[2,22,25,28]])})),function(e){return n.apply(this,arguments)})},{key:"executeStatement",value:(t=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.browser.loadingWait();case 2:if("string"!=typeof t){e.next=10;break}e.prev=3,t=JSON.parse(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",t);case 10:if(void 0===t.cmd)return e.abrupt("return",t);e.next=12;break;case 12:console.log(t),e.t1=t.cmd,e.next="go_to_website"===e.t1?16:"download_from_url"===e.t1?19:"set_user_agent"===e.t1?22:"execute_javascript"===e.t1?25:"new_tab"===e.t1?28:"switch_tab"===e.t1?31:"close_tab"===e.t1?34:"html_elements"===e.t1?37:"html_elements_by_selector"===e.t1?40:"wait_for_elements"===e.t1?43:"attribute_of"===e.t1?46:"text_of"===e.t1?49:"tag_name_of"===e.t1?52:"is_html_element_exist"===e.t1?55:"page_source"===e.t1?58:"click"===e.t1?61:"type"===e.t1?64:"press_key"===e.t1?67:"wait_for"===e.t1?70:"scroll"===e.t1?73:"controls_if"===e.t1?76:"logic_compare"===e.t1?79:"logic_operation"===e.t1?82:"logic_negate"===e.t1?85:"logic_boolean"===e.t1?88:"logic_null"===e.t1?91:"logic_ternary"===e.t1?92:"controls_repeat_ext"===e.t1?95:"controls_whileUntil"===e.t1?98:"controls_for"===e.t1?101:"controls_forEach"===e.t1?104:"controls_flow_statements"===e.t1?107:"math_number"===e.t1?110:"math_arithmetic"===e.t1?113:"math_single"===e.t1?116:"math_trig"===e.t1?119:"math_constant"===e.t1?122:"math_number_property"===e.t1?125:"convert_text_to_number"===e.t1?128:"math_round"===e.t1?131:"math_on_list"===e.t1?134:"math_modulo"===e.t1?137:"math_constrain"===e.t1?140:"math_random_int"===e.t1?143:"math_random_float"===e.t1?146:"text"===e.t1?149:"text_join"===e.t1?152:"text_append"===e.t1?155:"text_length"===e.t1?158:"text_isEmpty"===e.t1?161:"convert_to_text"===e.t1?164:"text_indexOf"===e.t1?167:"text_charAt"===e.t1?170:"text_getSubstring"===e.t1?173:"text_changeCase"===e.t1?176:"text_trim"===e.t1?179:"text_print"===e.t1?182:"prompt"===e.t1?185:"lists_create_with"===e.t1?188:"lists_chooser"===e.t1?191:"lists_repeat"===e.t1?194:"lists_length"===e.t1?197:"lists_isEmpty"===e.t1?200:"lists_indexOf"===e.t1?203:"lists_getIndex"===e.t1?206:"lists_setIndex"===e.t1?209:"lists_getSublist"===e.t1?212:"lists_split"===e.t1?215:"lists_regex"===e.t1?218:"lists_sort"===e.t1?221:"variables_set"===e.t1?224:"variables_get"===e.t1?227:"math_change"===e.t1?230:233;break;case 16:return e.next=18,go_to_website.call(this,t,function(e){r.showError(t,e)});case 18:return e.abrupt("return",e.sent);case 19:return e.next=21,download_from_url.call(this,t,function(e){r.showError(t,e)});case 21:return e.abrupt("return",e.sent);case 22:return e.next=24,set_user_agent.call(this,t,function(e){r.showError(t,e)});case 24:return e.abrupt("return",e.sent);case 25:return e.next=27,execute_javascript.call(this,t,function(e){r.showError(t,e)});case 27:return e.abrupt("return",e.sent);case 28:return e.next=30,new_tab.call(this,t,function(e){r.showError(t,e)});case 30:return e.abrupt("return",e.sent);case 31:return e.next=33,switch_tab.call(this,t,function(e){r.showError(t,e)});case 33:return e.abrupt("return",e.sent);case 34:return e.next=36,close_tab.call(this,t,function(e){r.showError(t,e)});case 36:return e.abrupt("return",e.sent);case 37:return e.next=39,html_elements.call(this,t,function(e){r.showError(t,e)});case 39:return e.abrupt("return",e.sent);case 40:return e.next=42,html_elements_by_selector.call(this,t,function(e){r.showError(t,e)});case 42:return e.abrupt("return",e.sent);case 43:return e.next=45,wait_for_elements.call(this,t,function(e){r.showError(t,e)});case 45:return e.abrupt("return",e.sent);case 46:return e.next=48,attribute_of.call(this,t,function(e){r.showError(t,e)});case 48:return e.abrupt("return",e.sent);case 49:return e.next=51,text_of.call(this,t,function(e){r.showError(t,e)});case 51:return e.abrupt("return",e.sent);case 52:return e.next=54,tag_name_of.call(this,t,function(e){r.showError(t,e)});case 54:return e.abrupt("return",e.sent);case 55:return e.next=57,is_html_element_exist.call(this,t,function(e){r.showError(t,e)});case 57:return e.abrupt("return",e.sent);case 58:return e.next=60,page_source.call(this,t,function(e){r.showError(t,e)});case 60:return e.abrupt("return",e.sent);case 61:return e.next=63,click.call(this,t,function(e){r.showError(t,e)});case 63:return e.abrupt("return",e.sent);case 64:return e.next=66,event_type.call(this,t,function(e){r.showError(t,e)});case 66:return e.abrupt("return",e.sent);case 67:return e.next=69,press_key.call(this,t,function(e){r.showError(t,e)});case 69:return e.abrupt("return",e.sent);case 70:return e.next=72,wait_for.call(this,t,function(e){r.showError(t,e)});case 72:return e.abrupt("return",e.sent);case 73:return e.next=75,scroll.call(this,t,function(e){r.showError(t,e)});case 75:return e.abrupt("return",e.sent);case 76:return e.next=78,controls_if.call(this,t,function(e){r.showError(t,e)});case 78:return e.abrupt("return",e.sent);case 79:return e.next=81,logic_compare.call(this,t,function(e){r.showError(t,e)});case 81:return e.abrupt("return",e.sent);case 82:return e.next=84,logic_operation.call(this,t,function(e){r.showError(t,e)});case 84:return e.abrupt("return",e.sent);case 85:return e.next=87,logic_negate.call(this,t,function(e){r.showError(t,e)});case 87:return e.abrupt("return",e.sent);case 88:return e.next=90,logic_boolean.call(this,t,function(e){r.showError(t,e)});case 90:return e.abrupt("return",e.sent);case 91:return e.abrupt("return",null);case 92:return e.next=94,logic_ternary.call(this,t,function(e){r.showError(t,e)});case 94:return e.abrupt("return",e.sent);case 95:return e.next=97,controls_repeat_ext.call(this,t,function(e){r.showError(t,e)});case 97:return e.abrupt("return",e.sent);case 98:return e.next=100,controls_whileUntil.call(this,t,function(e){r.showError(t,e)});case 100:return e.abrupt("return",e.sent);case 101:return e.next=103,controls_for.call(this,t,function(e){r.showError(t,e)});case 103:return e.abrupt("return",e.sent);case 104:return e.next=106,controls_forEach.call(this,t,function(e){r.showError(t,e)});case 106:return e.abrupt("return",e.sent);case 107:return e.next=109,controls_flow_statements.call(this,t,function(e){r.showError(t,e)});case 109:return e.abrupt("return",e.sent);case 110:return e.next=112,math_number.call(this,t,function(e){r.showError(t,e)});case 112:return e.abrupt("return",e.sent);case 113:return e.next=115,math_arithmetic.call(this,t,function(e){r.showError(t,e)});case 115:return e.abrupt("return",e.sent);case 116:return e.next=118,math_single.call(this,t,function(e){r.showError(t,e)});case 118:return e.abrupt("return",e.sent);case 119:return e.next=121,math_trig.call(this,t,function(e){r.showError(t,e)});case 121:return e.abrupt("return",e.sent);case 122:return e.next=124,math_constant.call(this,t,function(e){r.showError(t,e)});case 124:return e.abrupt("return",e.sent);case 125:return e.next=127,math_number_property.call(this,t,function(e){r.showError(t,e)});case 127:return e.abrupt("return",e.sent);case 128:return e.next=130,convert_text_to_number.call(this,t,function(e){r.showError(t,e)});case 130:return e.abrupt("return",e.sent);case 131:return e.next=133,math_round.call(this,t,function(e){r.showError(t,e)});case 133:return e.abrupt("return",e.sent);case 134:return e.next=136,math_on_list.call(this,t,function(e){r.showError(t,e)});case 136:return e.abrupt("return",e.sent);case 137:return e.next=139,math_modulo.call(this,t,function(e){r.showError(t,e)});case 139:return e.abrupt("return",e.sent);case 140:return e.next=142,math_constrain.call(this,t,function(e){r.showError(t,e)});case 142:return e.abrupt("return",e.sent);case 143:return e.next=145,math_random_int.call(this,t,function(e){r.showError(t,e)});case 145:return e.abrupt("return",e.sent);case 146:return e.next=148,math_random_float.call(this,t,function(e){r.showError(t,e)});case 148:return e.abrupt("return",e.sent);case 149:return e.next=151,text.call(this,t,function(e){r.showError(t,e)});case 151:return e.abrupt("return",e.sent);case 152:return e.next=154,text_join.call(this,t,function(e){r.showError(t,e)});case 154:return e.abrupt("return",e.sent);case 155:return e.next=157,text_append.call(this,t,function(e){r.showError(t,e)});case 157:return e.abrupt("return",e.sent);case 158:return e.next=160,text_length.call(this,t,function(e){r.showError(t,e)});case 160:return e.abrupt("return",e.sent);case 161:return e.next=163,text_isEmpty.call(this,t,function(e){r.showError(t,e)});case 163:return e.abrupt("return",e.sent);case 164:return e.next=166,convert_to_text.call(this,t,function(e){r.showError(t,e)});case 166:return e.abrupt("return",e.sent);case 167:return e.next=169,text_indexOf.call(this,t,function(e){r.showError(t,e)});case 169:return e.abrupt("return",e.sent);case 170:return e.next=172,text_charAt.call(this,t,function(e){r.showError(t,e)});case 172:return e.abrupt("return",e.sent);case 173:return e.next=175,text_getSubstring.call(this,t,function(e){r.showError(t,e)});case 175:return e.abrupt("return",e.sent);case 176:return e.next=178,text_changeCase.call(this,t,function(e){r.showError(t,e)});case 178:return e.abrupt("return",e.sent);case 179:return e.next=181,text_trim.call(this,t,function(e){r.showError(t,e)});case 181:return e.abrupt("return",e.sent);case 182:return e.next=184,text_print.call(this,t,function(e){r.showError(t,e)});case 184:return e.abrupt("return",e.sent);case 185:return e.next=187,prompt$1.call(this,t,function(e){r.showError(t,e)});case 187:return e.abrupt("return",e.sent);case 188:return e.next=190,lists_create_with.call(this,t,function(e){r.showError(t,e)});case 190:return e.abrupt("return",e.sent);case 191:return e.next=193,lists_chooser.call(this,t,function(e){r.showError(t,e)});case 193:return e.abrupt("return",e.sent);case 194:return e.next=196,lists_repeat.call(this,t,function(e){r.showError(t,e)});case 196:return e.abrupt("return",e.sent);case 197:return e.next=199,lists_length.call(this,t,function(e){r.showError(t,e)});case 199:return e.abrupt("return",e.sent);case 200:return e.next=202,lists_isEmpty.call(this,t,function(e){r.showError(t,e)});case 202:return e.abrupt("return",e.sent);case 203:return e.next=205,lists_indexOf.call(this,t,function(e){r.showError(t,e)});case 205:return e.abrupt("return",e.sent);case 206:return e.next=208,lists_getIndex.call(this,t,function(e){r.showError(t,e)});case 208:return e.abrupt("return",e.sent);case 209:return e.next=211,lists_setIndex.call(this,t,function(e){r.showError(t,e)});case 211:return e.abrupt("return",e.sent);case 212:return e.next=214,lists_getSublist.call(this,t,function(e){r.showError(t,e)});case 214:return e.abrupt("return",e.sent);case 215:return e.next=217,lists_split.call(this,t,function(e){r.showError(t,e)});case 217:return e.abrupt("return",e.sent);case 218:return e.next=220,lists_regex.call(this,t,function(e){r.showError(t,e)});case 220:return e.abrupt("return",e.sent);case 221:return e.next=223,lists_sort.call(this,t,function(e){r.showError(t,e)});case 223:return e.abrupt("return",e.sent);case 224:return e.next=226,variables_set.call(this,t,function(e){r.showError(t,e)});case 226:return e.abrupt("return",e.sent);case 227:return e.next=229,variables_get.call(this,t,function(e){r.showError(t,e)});case 229:return e.abrupt("return",e.sent);case 230:return e.next=232,math_change.call(this,t,function(e){r.showError(t,e)});case 232:return e.abrupt("return",e.sent);case 233:return e.abrupt("return",null);case 234:case"end":return e.stop()}},e,this,[[3,7]])})),function(e){return t.apply(this,arguments)})}]),r}();function runScript(e){_runScript.apply(this,arguments)}function _runScript(){return(_runScript=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Browser({incognito:t.incognito||!1,state:t.state||"normal"}).init(!1);case 2:return r=e.sent,r=new Piper(r),e.prev=4,e.next=7,r.init(t.code);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("Error:",e.t0);case 12:return e.next=14,chrome.declarativeNetRequest.updateEnabledRulesets({disableRulesetIds:["mobile_user_agent_rule","desktop_user_agent_rule"]});case 14:case"end":return e.stop()}},e,null,[[4,9]])}))).apply(this,arguments)}function switchToHome(){chrome.action.setIcon({path:{16:"icons/16.png",48:"icons/48.png",128:"icons/128.png"}}),chrome.storage.sync.set({page:"home"}),chrome.storage.sync.set({is_record_injected:!1})}function switchToElementSelection(){chrome.action.setIcon({path:"icons/record.png"}),chrome.storage.sync.set({page:"html_elements"}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.set({editor_tab_id:e[0].id})})}chrome.runtime.onMessage.addListener(function(e,t,r){switch(e.event){case"remove_html_elements":r({message:"OK"}),switchToHome();break;case"editor_tab":chrome.storage.sync.get("editor_tab_id",function(e){r({message:"OK",tabId:e.editor_tab_id}),switchToHome()});break;case"open_piper":chrome.tabs.create({active:!0,url:"https://suyambu.net/piper"})}return!0}),chrome.runtime.onMessageExternal.addListener(function(e,t,r){switch(e.event){case"html_elements":switchToElementSelection();break;case"remove_html_elements":switchToHome();break;case"start":runScript(e)}return r({message:"OK"}),!0})},{"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/slicedToArray":12,"@babel/runtime/helpers/toConsumableArray":13,"@babel/runtime/regenerator":15}]},{},[17]);
//# sourceMappingURL=.maps/worker.min.js.map
