!function n(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(o)return o(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=u[t]={exports:{}},a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,n,a,u,s)}return u[t].exports}for(var o="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,r){var n=e("./arrayLikeToArray.js");t.exports=function(e){if(Array.isArray(e))return n(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],4:[function(e,t,r){function o(e,t,r,n,a,u,s){try{var c=e[u](s),o=c.value}catch(e){return void r(e)}c.done?t(o):Promise.resolve(o).then(n,a)}t.exports=function(c){return function(){var e=this,s=arguments;return new Promise(function(t,r){var n=c.apply(e,s);function a(e){o(n,t,r,a,u,"next",e)}function u(e){o(n,t,r,a,u,"throw",e)}a(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],7:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,r){t.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,r){t.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,u=[],s=!0,c=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(u.push(n.value),!t||u.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(c)throw a}}return u}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],10:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],11:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],12:[function(e,t,r){var n=e("./arrayWithHoles.js"),a=e("./iterableToArrayLimit.js"),u=e("./unsupportedIterableToArray.js"),s=e("./nonIterableRest.js");t.exports=function(e,t){return n(e)||a(e,t)||u(e,t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":9,"./nonIterableRest.js":10,"./unsupportedIterableToArray.js":14}],13:[function(e,t,r){var n=e("./arrayWithoutHoles.js"),a=e("./iterableToArray.js"),u=e("./unsupportedIterableToArray.js"),s=e("./nonIterableSpread.js");t.exports=function(e){return n(e)||a(e)||u(e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayWithoutHoles.js":3,"./iterableToArray.js":8,"./nonIterableSpread.js":11,"./unsupportedIterableToArray.js":14}],14:[function(e,t,r){var n=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},{"./arrayLikeToArray.js":1}],15:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":16}],16:[function(e,t,r){t=function(s){"use strict";var o,e=Object.prototype,i=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",a=t.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a,u,s,c,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),n=new T(n||[]);return t._invoke=(a=e,u=r,s=n,c=p,function(e,t){if(c===h)throw new Error("Generator is already running");if(c===d){if("throw"===e)throw t;return I()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){r=function e(t,r){var n=t.iterator[r.method];if(n===o){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=o,e(t,r),"throw"===r.method))return x;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}n=l(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,x;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,x;{if(!n.done)return n;r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=o)}r.delegate=null;return x}(r,s);if(r){if(r===x)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===p)throw c=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=h;r=l(a,u,s);if("normal"===r.type){if(c=s.done?d:f,r.arg!==x)return{value:r.arg,done:s.done}}else"throw"===r.type&&(c=d,s.method="throw",s.arg=r.arg)}}),t}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}s.wrap=c;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",x={};function b(){}function _(){}function g(){}var t={},v=(u(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(S([]))),m=(v&&v!==e&&i.call(v,n)&&(t=v),g.prototype=b.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function w(s,c){var t;this._invoke=function(r,n){function e(){return new c(function(e,t){!function t(e,r,n,a){var u,e=l(s[e],s,r);if("throw"!==e.type)return(r=(u=e.arg).value)&&"object"==typeof r&&i.call(r,"__await")?c.resolve(r.__await).then(function(e){t("next",e,n,a)},function(e){t("throw",e,n,a)}):c.resolve(r).then(function(e){u.value=e,n(u)},function(e){return t("throw",e,n,a)});a(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=o,e.done=!0,e}).next=e}return{next:I}}function I(){return{value:o,done:!0}}return u(m,"constructor",_.prototype=g),u(g,"constructor",_),_.displayName=u(g,a,"GeneratorFunction"),s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},s.awrap=function(e){return{__await:e}},y(w.prototype),u(w.prototype,r,function(){return this}),s.AsyncIterator=w,s.async=function(e,t,r,n,a){void 0===a&&(a=Promise);var u=new w(c(e,t,r,n),a);return s.isGeneratorFunction(t)?u:u.next().then(function(e){return e.done?e.value:u.next()})},y(m),u(m,a,"Generator"),u(m,n,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),s.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return u.type="throw",u.arg=r,n.next=e,t&&(n.method="next",n.arg=o),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],u=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}var u=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,x):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),x}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,a=this.tryEntries[t];if(a.tryLoc===e)return"throw"===(r=a.completion).type&&(n=r.arg,E(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=o),x}},s}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{}],17:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));function _createForOfIteratorHelper(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sleep(t){return new Promise(function(e){return setTimeout(e,t)})}function stringify(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e;var t=e.toString();return"[object Object]"===t||t.includes("[object Object]")?JSON.stringify(e):t}function xpathToCssSelectorInjector(e){var t,r={tag:"([a-zA-Z][a-zA-Z0-9]{0,10}|\\*)",attribute:"[.a-zA-Z_:][-\\w:.]*(\\(\\))?)",value:"\\s*[\\w/:][-/\\w\\s,:;.]*"},h="(?P<node>(^id\\([\"\\']?(?P<idvalue>%(value)s)[\"\\']?\\)|(?P<nav>//?(?:following-sibling::)?)(?P<tag>%(tag)s)(\\[((?P<matched>(?P<mattr>@?%(attribute)s=[\"\\'](?P<mvalue>%(value)s))[\"\\']|(?P<contained>contains\\((?P<cattr>@?%(attribute)s,\\s*[\"\\'](?P<cvalue>%(value)s)[\"\\']\\)))\\])?(\\[\\s*(?P<nth>\\d|last\\(\\s*\\))\\s*\\])?))";for(t in r)h=h.replace(new RegExp("%\\("+t+"\\)s","gi"),r[t]);function d(e){this.message=e,this.name="[XPathException]"}var h=h.replace(/\?P<node>|\?P<idvalue>|\?P<nav>|\?P<tag>|\?P<matched>|\?P<mattr>|\?P<mvalue>|\?P<contained>|\?P<cattr>|\?P<cvalue>|\?P<nth>/gi,""),x=window.console.log.bind(console);window.cssify=function(e){var t,r,n,a,u,s,c,o,i=[],l=0,p=0;if(void 0===(e=e.replace(/contains\s*\(\s*concat\(["']\s+["']\s*,\s*@class\s*,\s*["']\s+["']\)\s*,\s*["']\s+([a-zA-Z0-9-_]+)\s+["']\)/gi,'@class="$1"'))||""===e.replace(/[\s-_=]/g,"")||e.length!==e.replace(/[-_\w:.]+\(\)\s*=|=\s*[-_\w:.]+\(\)|\sor\s|\sand\s|\[(?:[^\/\]]+[\/\[]\/?.+)+\]|starts-with\(|\[.*last\(\)\s*[-\+<>=].+\]|number\(\)|not\(|count\(|text\(|first\(|normalize-space|[^\/]following-sibling|concat\(|descendant::|parent::|self::|child::|/gi,"").length)throw new d("Invalid or unsupported XPath: "+e);for(var f=e.split("|");f[l];){for(t=new RegExp(h,"gi"),c=[],x("working with xpath: "+f[l]);o=t.exec(f[l]);){if(!o&&0===p)throw new d("Invalid or unsupported XPath: "+e);if(x("node found: "+JSON.stringify(o)),r={node:o[5],idvalue:o[12]||o[3],nav:o[4],tag:o[5],matched:o[7],mattr:o[10]||o[14],mvalue:o[12]||o[16],contained:o[13],cattr:o[14],cvalue:o[16],nth:o[18]},x("broke node down to: "+JSON.stringify(r)),o=0!=p&&r.nav?~r.nav.indexOf("following-sibling::")?" + ":"//"==r.nav?" ":" > ":"",a="*"!==r.tag&&r.tag||"",r.contained){if(0!==r.cattr.indexOf("@"))throw new d("Invalid or unsupported XPath attribute: "+r.cattr);u="["+r.cattr.replace(/^@/,"")+"*="+r.cvalue+"]"}else if(r.matched)switch(r.mattr){case"@id":u="#"+r.mvalue.replace(/^\s+|\s+$/,"").replace(/\s/g,"#");break;case"@class":u="."+r.mvalue.replace(/^\s+|\s+$/,"").replace(/\s/g,".");break;case"text()":case".":throw new d("Invalid or unsupported XPath attribute: "+r.mattr);default:if(0!==r.mattr.indexOf("@"))throw new d("Invalid or unsupported XPath attribute: "+r.mattr);-1!==r.mvalue.indexOf(" ")&&(r.mvalue='"'+r.mvalue.replace(/^\s+|\s+$/,"")+'"'),u="["+r.mattr.replace("@","")+"="+r.mvalue+"]"}else u=r.idvalue?"#"+r.idvalue.replace(/\s/,"#"):"";if(r.nth)if(-1===r.nth.indexOf("last")){if(isNaN(parseInt(r.nth,10)))throw new d("Invalid or unsupported XPath attribute: "+r.nth);s=1!==parseInt(r.nth,10)?":nth-of-type("+r.nth+")":":first-of-type"}else s=":last-of-type";else s="";x("final node css: "+(o=o+a+u+s)),c.push(o),p++}if(""===(n=c.join("")))throw new d("Invalid or unsupported XPath: "+r.node);i.push(n),l++}return i.join(", ")}}var Browser=function(){function t(e){(0,_classCallCheck2.default)(this,t),this.options=e,this.windowId=null,this.window=null,this.isWindowCreated=!1}var r,n,a,u,s,e,c,o,i,l;return(0,_createClass2.default)(t,[{key:"init",value:(l=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null==t&&(t=!1),e.next=3,chrome.windows.getCurrent();case 3:return this.window=e.sent,t&&(this.options.useCurrent=!0),this.windowId=this.window.id,e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createNewWindow",value:(i=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.useCurrent||this.isWindowCreated){e.next=6;break}return e.next=3,chrome.windows.create(this.options);case 3:this.window=e.sent,this.windowId=this.window.id,this.isWindowCreated=!0;case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onClose",value:function(t){chrome.windows.onRemoved.addListener(function(e){t(e),chrome.windows.onRemoved.removeListener(this)})}},{key:"close",value:function(){return chrome.windows.remove(this.windowId)}},{key:"loadingWait",value:(o=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:t=e.sent;case 3:if("loading"===t.status)return e.next=6,sleep(100);e.next=11;break;case 6:return e.next=8,this.getCurrentTab();case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"allTabs",value:(c=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={windowId:this.windowId},e.next=3,chrome.tabs.query(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"getCurrentTab",value:(e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query({active:!0,windowId:this.windowId});case 2:return t=e.sent,t=(0,_slicedToArray2.default)(t,1),t=t[0],e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"loadUrl",value:(s=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:return r=e.sent,e.next=5,chrome.tabs.update(r.id,{url:t});case 5:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"switchTab",value:(u=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.allTabs(this.windowId);case 2:return r=e.sent,e.next=5,chrome.tabs.update(r[t].id,{active:!0});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"closeTab",value:(a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.allTabs(this.windowId);case 2:return r=e.sent,e.next=5,chrome.tabs.remove(r[t].id,{windowId:this.windowId});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"newTab",value:(n=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t)return e.next=3,chrome.tabs.create({windowId:this.windowId});e.next=5;break;case 3:e.next=7;break;case 5:return e.next=7,chrome.tabs.create({url:t,windowId:this.windowId});case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"executeScript",value:(r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentTab();case 2:return n=e.sent,e.next=5,chrome.scripting.executeScript({target:{tabId:n.id},func:t,args:r,world:"MAIN"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})}]),t}(),go_to_website=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.t0=stringify,e.next=5,this.executeStatement(n);case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=9,this.browser.createNewWindow();case 9:return console.log("Opening ".concat(a)),e.next=12,sleep(1e3);case 12:if(a.startsWith("http://")||a.startsWith("https://"))return e.next=15,this.browser.loadUrl(a);e.next=17;break;case 15:e.next=19;break;case 17:return e.next=19,this.browser.loadUrl("http://".concat(a));case 19:return e.next=21,this.browser.loadingWait();case 21:e.next=26;break;case 23:e.prev=23,e.t2=e.catch(0),r(e.t2);case 26:case"end":return e.stop()}},e,this,[[0,23]])}));return function(e,t){return r.apply(this,arguments)}}();function isJson(e){try{return console.log(JSON.parse(e)),1}catch(e){return}}var download_from_url=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.t0=stringify,e.next=5,this.executeStatement(n.input);case 5:if(e.t1=e.sent,a=(0,e.t0)(e.t1),"URL"===n.op)return e.next=11,chrome.downloads.download({url:a});e.next=13;break;case 11:e.next=16;break;case 13:return u=isJson(a)?"data:application/json,"+encodeURI(a):"data:text/plain,"+encodeURI(a),e.next=16,chrome.downloads.download({url:u});case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),r(e.t2);case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(e,t){return r.apply(this,arguments)}}(),set_user_agent=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"DESKTOP"===(n=stringify(t.pointer)))return e.next=5,chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:["desktop_user_agent_rule"],disableRulesetIds:["mobile_user_agent_rule"]});e.next=7;break;case 5:e.next=10;break;case 7:if("MOBILE"===n)return e.next=10,chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:["mobile_user_agent_rule"],disableRulesetIds:["desktop_user_agent_rule"]});e.next=10;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}(),execute_javascript=function(){var _ref4=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee14(statement,onError){var pointer;return _regenerator.default.wrap(function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.prev=0,_context14.next=3,this.executeStatement(stringify(statement.pointer));case 3:return pointer=_context14.sent,_context14.next=6,this.browser.executeScript(function(code){return eval(code),!0},[pointer]);case 6:_context14.next=11;break;case 8:_context14.prev=8,_context14.t0=_context14.catch(0),onError(_context14.t0);case 11:case"end":return _context14.stop()}},_callee14,this,[[0,8]])}));return function(e,t){return _ref4.apply(this,arguments)}}(),new_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.browser.createNewWindow();case 3:return e.next=5,this.browser.newTab();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(e,t){return r.apply(this,arguments)}}(),switch_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.switchTab(n-1);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),close_tab=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.closeTab(n-1);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),html_elements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=[],a=_createForOfIteratorHelper(t.pointer),e.prev=3,a.s();case 5:if((u=a.n()).done){e.next=25;break}return u=u.value,s=void 0,s=u.xpath||"null",n.push({selector:u.selector,elIndex:u.elIndex,attrs:u.attrs}),e.next=12,this.browser.getCurrentTab();case 12:if(c=e.sent,u.isFindSimilar)return e.next=16,chrome.scripting.executeScript({target:{tabId:c.id},func:xpathToCssSelectorInjector,world:"MAIN"});e.next=23;break;case 16:return e.next=18,chrome.scripting.executeScript({target:{tabId:c.id},files:["element_selector.js"],world:"MAIN"});case 18:return e.next=20,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t,r){var e=document.querySelectorAll(e)[t],t=!1,n=null;return void 0===e&&(e=window.elementFinder.getElementByXpath(r))&&(t=!0,n=cssify(r)),e?(e.style.boxShadow="0 0 0 2px red",r=window.elementFinder.findTree(e),e=window.elementFinder.findSimilar(e,r),t&&(e[0].selector=n),e):[]},args:[u.selector,u.elIndex,s],world:"MAIN"});case 20:o=e.sent,i=_createForOfIteratorHelper(o[0].result);try{for(i.s();!(l=i.n()).done;)p=l.value,n.push({selector:p.selector,elIndex:p.elIndex,attrs:p.attrs})}catch(e){i.e(e)}finally{i.f()}case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),a.e(e.t0);case 30:return e.prev=30,a.f(),e.finish(30);case 33:return console.log(n),e.abrupt("return",n);case 37:return e.prev=37,e.t1=e.catch(0),r(e.t1),e.abrupt("return",[]);case 41:case"end":return e.stop()}},e,this,[[0,37],[3,27,30,33]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement(e,t){return _waitForElement.apply(this,arguments)}function _waitForElement(){return(_waitForElement=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){document.querySelectorAll(atob(e.selector))},args:[r],world:"MAIN"});case 5:if(a=e.sent,10<n&&0===a.length)return e.abrupt("return",!1);e.next=8;break;case 8:if(0===a.length)return e.abrupt("return",waitForElement.call(this,t,r,n+1));e.next=10;break;case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var html_elements_by_selector=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.browser.getCurrentTab();case 3:if(n=e.sent,u=t.pointer,a={selector:btoa(u),isXpath:!1},u.includes("/"))return a.isXpath=!0,e.next=10,chrome.scripting.executeScript({target:{tabId:n.id},func:xpathToCssSelectorInjector,world:"MAIN"});e.next=14;break;case 10:return e.next=12,chrome.scripting.executeScript({target:{tabId:n.id},func:function(e){e=atob(e.selector);return cssify(e)},args:[a],world:"MAIN"});case 12:u=e.sent,a.selector=btoa(u[0].result);case 14:return e.next=16,waitForElement.call(this,n.id,a);case 16:if(e.sent){e.next=20;break}return r(new Error("HTMLElement not found")),e.abrupt("return",[]);case 20:return e.next=22,chrome.scripting.executeScript({target:{tabId:n.id},func:function(e){for(var t=[],r=atob(e.selector),n=document.querySelectorAll(r),a=0;a<n.length;a++)e.isXpath?t.push({selector:r,elIndex:a,attrs:[]}):t.push({selector:"body ".concat(r),elIndex:a,attrs:[]});return t},args:[a],world:"MAIN"});case 22:return s=e.sent,e.abrupt("return",s[0].result);case 26:return e.prev=26,e.t0=e.catch(0),r(e.t0),e.abrupt("return",[]);case 30:case"end":return e.stop()}},e,this,[[0,26]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$1(e,t){return _waitForElement$.apply(this,arguments)}function _waitForElement$(){return(_waitForElement$=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 2:if(e.sent[0].result){e.next=5;break}return e.abrupt("return",waitForElement$1.call(this,t,r));case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var wait_for_elements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,console.log(n),n=n instanceof Array?n:[n],e.next=8,this.browser.getCurrentTab();case 8:a=e.sent,u=_createForOfIteratorHelper(n),e.prev=10,u.s();case 12:if((s=u.n()).done){e.next=18;break}return s=s.value,e.next=16,waitForElement$1.call(this,a.id,s);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),r(e.t1);case 31:case"end":return e.stop()}},e,this,[[0,28],[10,20,23,26]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$2(e,t){return _waitForElement$2.apply(this,arguments)}function _waitForElement$2(){return(_waitForElement$2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=11;break}return e.abrupt("return",waitForElement$2.call(this,t,r,n+1));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var attribute_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f,h;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:if(0===(a=(a=e.sent)instanceof Array?a:[a]).length)throw new Error("No elements found");e.next=8;break;case 8:return u=n.attr.toLowerCase(),s=n.op,c=[],e.next=13,this.browser.getCurrentTab();case 13:o=e.sent,e.t0=s,e.next="FIRST"===e.t0?17:"LAST"===e.t0?21:25;break;case 17:return e.next=19,waitForElement$2.call(this,o.id,a[0]);case 19:return a=[a[0]],e.abrupt("break",42);case 21:return e.next=23,waitForElement$2.call(this,o.id,a[a.length-1]);case 23:return a=[a[a.length-1]],e.abrupt("break",42);case 25:i=_createForOfIteratorHelper(a),e.prev=26,i.s();case 28:if((p=i.n()).done){e.next=34;break}return p=p.value,e.next=32,waitForElement$2.call(this,o.id,p);case 32:e.next=28;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(26),i.e(e.t1);case 39:return e.prev=39,i.f(),e.finish(39);case 42:l=_createForOfIteratorHelper(a),e.prev=43,l.s();case 45:if((p=l.n()).done){e.next=55;break}return f=p.value,h=f.attrs.xpath||"null",e.next=50,chrome.scripting.executeScript({target:{tabId:o.id},func:function(e,t,r){r=document.querySelectorAll(r.selector)[r.elIndex];return(r=r||document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(r.style.boxShadow="0 0 0 2px yellow","src"===e?r.currentSrc:"action"===e?r.action:"href"===e?r.href:r.getAttribute(e)):null},args:[u,h,f],world:"MAIN"});case 50:h=e.sent,h[0].result&&c.push(h[0].result);case 53:e.next=45;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(43),l.e(e.t2);case 60:return e.prev=60,l.f(),e.finish(60);case 63:e.t3=s,e.next="FIRST"===e.t3?66:"LAST"===e.t3?67:68;break;case 66:return e.abrupt("return",c[0]);case 67:return e.abrupt("return",c[c.length-1]);case 68:return e.abrupt("return",c);case 69:e.next=75;break;case 71:return e.prev=71,e.t4=e.catch(0),r(e.t4),e.abrupt("return",null);case 75:case"end":return e.stop()}},e,this,[[0,71],[26,36,39,42],[43,57,60,63]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$3(e,t){return _waitForElement$3.apply(this,arguments)}function _waitForElement$3(){return(_waitForElement$3=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=11;break}return e.abrupt("return",waitForElement$3.call(this,t,r,n+1));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var text_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:if(0===(a=(a=e.sent)instanceof Array?a:[a]).length)throw new Error("No elements found");e.next=8;break;case 8:return u=n.op,s=[],e.next=12,this.browser.getCurrentTab();case 12:c=e.sent,e.t0=u,e.next="FIRST"===e.t0?16:"LAST"===e.t0?20:24;break;case 16:return e.next=18,waitForElement$3.call(this,c.id,a[0]);case 18:return a=[a[0]],e.abrupt("break",41);case 20:return e.next=22,waitForElement$3.call(this,c.id,a[a.length-1]);case 22:return a=[a[a.length-1]],e.abrupt("break",41);case 24:o=_createForOfIteratorHelper(a),e.prev=25,o.s();case 27:if((l=o.n()).done){e.next=33;break}return l=l.value,e.next=31,waitForElement$3.call(this,c.id,l);case 31:e.next=27;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(25),o.e(e.t1);case 38:return e.prev=38,o.f(),e.finish(38);case 41:i=_createForOfIteratorHelper(a),e.prev=42,i.s();case 44:if((l=i.n()).done){e.next=54;break}return p=l.value,f=p.attrs.xpath||"null",e.next=49,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];return(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(t.style.boxShadow="0 0 0 2px yellow",t.textContent):null},args:[f,p],world:"MAIN"});case 49:f=e.sent[0].result,s.push(f);case 52:e.next=44;break;case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(42),i.e(e.t2);case 59:return e.prev=59,i.f(),e.finish(59);case 62:e.t3=u,e.next="FIRST"===e.t3?65:"LAST"===e.t3?66:67;break;case 65:return e.abrupt("return",s[0]);case 66:return e.abrupt("return",s[s.length-1]);case 67:return e.abrupt("return",s);case 68:e.next=74;break;case 70:return e.prev=70,e.t4=e.catch(0),r(e.t4),e.abrupt("return",null);case 74:case"end":return e.stop()}},e,this,[[0,70],[25,35,38,41],[42,56,59,62]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$4(e,t){return _waitForElement$4.apply(this,arguments)}function _waitForElement$4(){return(_waitForElement$4=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=11;break}return e.abrupt("return",waitForElement$4.call(this,t,r,n+1));case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var tag_name_of=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l,p,f;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:if(0===(a=(a=e.sent)instanceof Array?a:[a]).length)throw new Error("No elements found");e.next=8;break;case 8:return u=n.op,s=[],e.next=12,this.browser.getCurrentTab();case 12:c=e.sent,e.t0=u,e.next="FIRST"===e.t0?16:"LAST"===e.t0?20:24;break;case 16:return e.next=18,waitForElement$4.call(this,c.id,a[0]);case 18:return a=[a[0]],e.abrupt("break",41);case 20:return e.next=22,waitForElement$4.call(this,c.id,a[a.length-1]);case 22:return a=[a[a.length-1]],e.abrupt("break",41);case 24:o=_createForOfIteratorHelper(a),e.prev=25,o.s();case 27:if((l=o.n()).done){e.next=33;break}return l=l.value,e.next=31,waitForElement$4.call(this,c.id,l);case 31:e.next=27;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(25),o.e(e.t1);case 38:return e.prev=38,o.f(),e.finish(38);case 41:i=_createForOfIteratorHelper(a),e.prev=42,i.s();case 44:if((l=i.n()).done){e.next=54;break}return p=l.value,f=p.attrs.xpath||"null",e.next=49,chrome.scripting.executeScript({target:{tabId:c.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];return(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(t.style.boxShadow="0 0 0 2px yellow",t.tagName.toLowerCase()):null},args:[f,p],world:"MAIN"});case 49:f=e.sent[0].result,s.push(f);case 52:e.next=44;break;case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(42),i.e(e.t2);case 59:return e.prev=59,i.f(),e.finish(59);case 62:e.t3=u,e.next="FIRST"===e.t3?65:"LAST"===e.t3?66:67;break;case 65:return e.abrupt("return",s[0]);case 66:return e.abrupt("return",s[s.length-1]);case 67:return e.abrupt("return",s);case 68:e.next=75;break;case 70:return e.prev=70,e.t4=e.catch(0),console.log(e.t4),r(e.t4),e.abrupt("return",null);case 75:case"end":return e.stop()}},e,this,[[0,70],[25,35,38,41],[42,56,59,62]])}));return function(e,t){return r.apply(this,arguments)}}(),is_html_element_exist=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return(n=e.sent)instanceof Array||(n=[n]),e.next=7,this.browser.getCurrentTab();case 7:a=e.sent,u=!1,s=_createForOfIteratorHelper(n),e.prev=10,s.s();case 12:if((c=s.n()).done){e.next=23;break}return c=c.value,o=c.attrs.xpath||"null",e.next=17,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e,t){return null!=(t=document.querySelectorAll(t.selector)[t.elIndex]?t:document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)},args:[o,c],world:"MAIN"});case 17:if(o=e.sent,u=o[0].result){e.next=21;break}return e.abrupt("break",23);case 21:e.next=12;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(10),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:return e.abrupt("return",u);case 34:return e.prev=34,e.t1=e.catch(0),r(e.t1),e.abrupt("return",!1);case 38:case"end":return e.stop()}},e,this,[[0,34],[10,25,28,31]])}));return function(e,t){return r.apply(this,arguments)}}(),page_source=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="",e.next=4,this.browser.getCurrentTab();case 4:return a=e.sent,e.next=7,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){return document.documentElement.outerHTML},world:"MAIN"});case 7:return a=e.sent,n=a[0].result,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),r(e.t0),e.abrupt("return","");case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}();function waitForElement$5(e,t){return _waitForElement$5.apply(this,arguments)}function _waitForElement$5(){return(_waitForElement$5=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<u.length&&void 0!==u[2]?u[2]:0,this.isTerminated)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,chrome.scripting.executeScript({target:{tabId:t},func:function(e){return document.querySelectorAll(e.selector)[e.elIndex]},args:[r],world:"MAIN"});case 5:if(a=(a=e.sent)[0].result,10<n&&!a)return e.abrupt("return",!1);e.next=9;break;case 9:if(a){e.next=13;break}return e.next=12,sleep(1e3);case 12:return e.abrupt("return",waitForElement$5.call(this,t,r,n+1));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var click=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.elements));case 4:return(a=e.sent)instanceof Array||(a=[a]),u=n.op,e.next=9,this.browser.getCurrentTab();case 9:s=e.sent,c=_createForOfIteratorHelper(a),e.prev=11,c.s();case 13:if((o=c.n()).done){e.next=30;break}if(o=o.value,i=!0,"WAIT"===u)return e.next=19,waitForElement$5.call(this,s.id,o);e.next=20;break;case 19:i=e.sent;case 20:if(console.log("element: ",o),l=o.attrs.xpath||"null",i)return e.next=25,chrome.scripting.executeScript({target:{tabId:s.id},func:function(e,t){t=document.querySelectorAll(t.selector)[t.elIndex];"svg"===(t=t||document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue).tagName.toLowerCase()?(t.parentElement.style.boxShadow="0 0 0 2px yellow",t.parentElement.focus(),t.parentElement.click()):(t.style.boxShadow="0 0 0 2px yellow",t.focus(),t.click())},args:[l,o],world:"MAIN"});e.next=27;break;case 25:e.next=28;break;case 27:r(new Error("HTMLElement not found"));case 28:e.next=13;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(11),c.e(e.t0);case 35:return e.prev=35,c.f(),e.finish(35);case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 44:case"end":return e.stop()}},e,this,[[0,40],[11,32,35,38]])}));return function(e,t){return r.apply(this,arguments)}}(),event_type=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.getCurrentTab();case 6:return a=e.sent,e.next=9,chrome.debugger.attach({tabId:a.id},"1.2");case 9:u=_createForOfIteratorHelper(n),e.prev=10,u.s();case 12:if((s=u.n()).done){e.next=18;break}return s=s.value,e.next=16,chrome.debugger.sendCommand({tabId:a.id},"Input.dispatchKeyEvent",{type:"char",text:s,modifiers:0});case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.next=28,chrome.debugger.detach({tabId:a.id});case 28:e.next=34;break;case 30:e.prev=30,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 34:case"end":return e.stop()}},e,this,[[0,30],[10,20,23,26]])}));return function(e,t){return r.apply(this,arguments)}}(),press_key=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.browser.getCurrentTab();case 3:return n=e.sent,e.next=6,chrome.debugger.attach({tabId:n.id},"1.2");case 6:e.t0=t.pointer,e.next="ENTER"===e.t0?9:"SHIFT"===e.t0?12:"CTRL"===e.t0?15:"CAPS_LOCK"===e.t0?18:"TAB"===e.t0?21:"ESC"===e.t0?24:27;break;case 9:return e.next=11,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(13),modifiers:0});case 11:return e.abrupt("break",27);case 12:return e.next=14,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(16),modifiers:0});case 14:return e.abrupt("break",27);case 15:return e.next=17,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(17),modifiers:0});case 17:return e.abrupt("break",27);case 18:return e.next=20,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(20),modifiers:0});case 20:return e.abrupt("break",27);case 21:return e.next=23,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(9),modifiers:0});case 23:return e.abrupt("break",27);case 24:return e.next=26,chrome.debugger.sendCommand({tabId:n.id},"Input.dispatchKeyEvent",{type:"char",text:String.fromCharCode(27),modifiers:0});case 26:return e.abrupt("break",27);case 27:return e.next=29,chrome.debugger.detach({tabId:n.id});case 29:return e.next=31,sleep(1e3);case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 37:case"end":return e.stop()}},e,this,[[0,33]])}));return function(e,t){return r.apply(this,arguments)}}(),wait_for=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=parseFloat(t.pointer),e.next=4,sleep(parseInt(1e3*n));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}(),scroll=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.browser.getCurrentTab();case 4:if(a=e.sent,"UP"===n)return e.next=8,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){window.scrollTo({top:0,behavior:"smooth"})},world:"MAIN"});e.next=10;break;case 8:e.next=13;break;case 10:if("DOWN"===n)return e.next=13,chrome.scripting.executeScript({target:{tabId:a.id},func:function(){var e=document.body,t=document.documentElement,e=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);window.scrollTo({top:e,behavior:"smooth"})},world:"MAIN"});e.next=13;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_if=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=_createForOfIteratorHelper(t.pointer),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=22;break}if("else"in(a=a.value))return e.next=9,this.execute(stringify(a.else));e.next=11;break;case 9:e.next=20;break;case 11:return e.next=13,this.executeStatement(stringify(a.cond));case 13:if("boolean"!=typeof(u=e.sent)||!u){e.next=20;break}if(""!==(u=stringify(a.do).trim()))return e.next=19,this.execute(u);e.next=19;break;case 19:return e.abrupt("break",22);case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),n.e(e.t0);case 27:return e.prev=27,n.f(),e.finish(27);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),r(e.t1);case 35:case"end":return e.stop()}},e,this,[[0,32],[2,24,27,30]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_compare=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=n.op,e.next=5,this.executeStatement(stringify(n.value1));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return u=e.t0,e.next=11,this.executeStatement(stringify(n.value2));case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1=null;case 14:s=e.t1,e.t2=a,e.next="=="===e.t2?18:"!="===e.t2?19:">"===e.t2?20:"<"===e.t2?21:">="===e.t2?22:"<="===e.t2?23:24;break;case 18:return e.abrupt("return",u===s);case 19:return e.abrupt("return",u!==s);case 20:return e.abrupt("return",s<u);case 21:return e.abrupt("return",u<s);case 22:return e.abrupt("return",s<=u);case 23:return e.abrupt("return",u<=s);case 24:return e.abrupt("return",!1);case 25:e.next=30;break;case 27:e.prev=27,e.t3=e.catch(0),r(e.t3);case 30:case"end":return e.stop()}},e,this,[[0,27]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_operation=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=n.op,e.next=5,this.executeStatement(stringify(n.value1));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return u=e.t0,e.next=11,this.executeStatement(stringify(n.value2));case 11:if(e.t1=e.sent,e.t1){e.next=14;break}e.t1=null;case 14:if(s=e.t1,"&&"===a)return e.abrupt("return",u&&s);e.next=19;break;case 19:if("||"===a)return e.abrupt("return",u||s);e.next=21;break;case 21:e.next=26;break;case 23:e.prev=23,e.t2=e.catch(0),r(e.t2);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}},e,this,[[0,23]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_negate=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:if("boolean"==typeof(n=e.sent))return e.abrupt("return",!n);e.next=6;break;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_boolean=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.pointer);case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),logic_ternary=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.cond));case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=!1;case 7:if(e.t0)return e.next=11,this.executeStatement(stringify(n.value1));e.next=12;break;case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeStatement(stringify(n.value2));case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t1=e.catch(0),e.abrupt("return",r(e.t1));case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_repeat_ext=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.times));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=0;case 8:if(a=e.t0,a=parseInt(a),""===(u=stringify(n.loopBlock).trim())){e.next=31;break}s=0;case 13:if(s<a)return e.next=16,this.execute(u);e.next=31;break;case 16:if(this.isTerminated)return e.abrupt("break",31);e.next=18;break;case 18:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",31);e.next=23;break;case 23:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",28);e.next=26;break;case 26:if(null!=this.isFunctionReturn)return e.abrupt("break",31);e.next=28;break;case 28:s++,e.next=13;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(0),r(e.t1);case 36:case"end":return e.stop()}},e,this,[[0,33]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_whileUntil=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.loopFlow=null,n=t.pointer,a=stringify(n.loopBlock),u=stringify(n.mode);case 5:return s=void 0,e.prev=7,e.next=10,this.executeStatement(stringify(n.cond));case 10:s=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s=!1;case 16:if("UNTIL"!==u){e.next=21;break}if(s)return e.abrupt("break",39);e.next=19;break;case 19:e.next=23;break;case 21:if(s){e.next=23;break}return e.abrupt("break",39);case 23:return e.next=25,this.execute(a);case 25:if(this.isTerminated)return e.abrupt("break",39);e.next=27;break;case 27:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",39);e.next=32;break;case 32:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",5);e.next=35;break;case 35:if(null!==this.isFunctionReturn)return e.abrupt("break",39);e.next=37;break;case 37:e.next=5;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(0),r(e.t1);case 44:case"end":return e.stop()}},e,this,[[0,41],[7,13]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_for=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.from));case 5:return a=e.sent,a=parseInt(a),e.next=9,this.executeStatement(stringify(n.to));case 9:return u=e.sent,u=parseInt(u),e.next=13,this.executeStatement(stringify(n.step));case 13:s=e.sent,s=parseInt(s),c=stringify(n.variable),o=stringify(n.loopBlock).trim(),i=a;case 18:if(!(i<=u)){e.next=38;break}if(this.VARIABLE_STACK[c]=i,""!==o)return e.next=23,this.execute(o);e.next=23;break;case 23:if(this.isTerminated)return e.abrupt("break",38);e.next=25;break;case 25:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",38);e.next=30;break;case 30:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",35);e.next=33;break;case 33:if(null!==this.isFunctionReturn)return e.abrupt("break",38);e.next=35;break;case 35:i+=s,e.next=18;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),r(e.t0);case 43:case"end":return e.stop()}},e,this,[[0,40]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_forEach=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loopFlow=null,n=t.pointer,e.next=5,this.executeStatement(stringify(n.list));case 5:a=e.sent,u=stringify(n.loopBlock).trim(),s=stringify(n.variable),c=0;case 9:if(!(c<a.length)){e.next=29;break}if(this.VARIABLE_STACK[s]=a[c],""!==u)return e.next=14,this.execute(u);e.next=14;break;case 14:if(this.isTerminated)return e.abrupt("break",29);e.next=16;break;case 16:if("BREAK"===this.loopFlow)return this.loopFlow=null,e.abrupt("break",29);e.next=21;break;case 21:if("CONTINUE"===this.loopFlow)return this.loopFlow=null,e.abrupt("continue",26);e.next=24;break;case 24:if(null!==this.isFunctionReturn)return e.abrupt("break",29);e.next=26;break;case 26:c++,e.next=9;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),r(e.t0);case 34:case"end":return e.stop()}},e,this,[[0,31]])}));return function(e,t){return r.apply(this,arguments)}}(),controls_flow_statements=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.loopFlow=stringify(t.pointer.flow)}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),math_number=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.pointer);case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),math_arithmetic=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value1));case 5:return u=e.sent,e.next=8,this.executeStatement(stringify(n.value2));case 8:s=e.sent,e.t0=a,e.next="ADD"===e.t0?12:"MINUS"===e.t0?13:"MULTIPLY"===e.t0?14:"DIVIDE"===e.t0?15:"POWER"===e.t0?16:17;break;case 12:return e.abrupt("return",u+s);case 13:return e.abrupt("return",u-s);case 14:return e.abrupt("return",u*s);case 15:return e.abrupt("return",u/s);case 16:return e.abrupt("return",Math.pow(u,s));case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),r(e.t1);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(e,t){return r.apply(this,arguments)}}(),math_single=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value));case 5:u=e.sent,e.t0=a,e.next="ROOT"===e.t0?9:"ABS"===e.t0?10:"NEG"===e.t0?11:"LN"===e.t0?12:"LOG10"===e.t0?13:"EXP"===e.t0?14:"POW10"===e.t0?15:16;break;case 9:return e.abrupt("return",Math.sqrt(u));case 10:return e.abrupt("return",Math.abs(u));case 11:return e.abrupt("return",-u);case 12:return e.abrupt("return",Math.log(u));case 13:return e.abrupt("return",Math.log10(u));case 14:return e.abrupt("return",Math.exp(u));case 15:return e.abrupt("return",Math.pow(10,u));case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),r(e.t1);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(e,t){return r.apply(this,arguments)}}(),math_trig=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.value));case 5:u=e.sent,e.t0=a,e.next="SIN"===e.t0?9:"COS"===e.t0?10:"TAN"===e.t0?11:"ASIN"===e.t0?12:"ACOS"===e.t0?13:"ATAN"===e.t0?14:15;break;case 9:return e.abrupt("return",Math.sin(u/180*Math.PI));case 10:return e.abrupt("return",Math.cos(u/180*Math.PI));case 11:return e.abrupt("return",Math.tan(u/180*Math.PI));case 12:return e.abrupt("return",Math.asin(u)/Math.PI*180);case 13:return e.abrupt("return",Math.acos(u)/Math.PI*180);case 14:return e.abrupt("return",Math.atan(u)/Math.PI*180);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),r(e.t1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),math_constant=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=t.pointer,n=stringify(n.const),e.t0=n,e.next="PI"===e.t0?6:"E"===e.t0?7:"GOLDEN_RATIO"===e.t0?8:"SQRT2"===e.t0?9:"SQRT1_2"===e.t0?10:"INFINITY"===e.t0?11:12;break;case 6:return e.abrupt("return",Math.PI);case 7:return e.abrupt("return",Math.E);case 8:return e.abrupt("return",(1+Math.sqrt(5))/2);case 9:return e.abrupt("return",Math.SQRT2);case 10:return e.abrupt("return",Math.SQRT1_2);case 11:return e.abrupt("return",1/0);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function isPrime(e){for(var t=2;t<e;t++)if(e%t==0)return!1;return 1<e}var math_number_property=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value1));case 4:a=e.sent,u=stringify(n.property),e.t0=u,e.next="EVEN"===e.t0?9:"ODD"===e.t0?10:"PRIME"===e.t0?11:"WHOLE"===e.t0?12:"POSITIVE"===e.t0?13:"NEGATIVE"===e.t0?14:"DIVISIBLE_BY"===e.t0?15:19;break;case 9:return e.abrupt("return",a%2==0);case 10:return e.abrupt("return",a%2!=0);case 11:return e.abrupt("return",isPrime(a));case 12:return e.abrupt("return",a%1==0);case 13:return e.abrupt("return",0<a);case 14:return e.abrupt("return",a<0);case 15:return e.next=17,this.executeStatement(stringify(n.value2));case 17:return u=e.sent,e.abrupt("return",a%u==0);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),r(e.t1);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}},e,this,[[0,21]])}));return function(e,t){return r.apply(this,arguments)}}(),convert_text_to_number=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.abrupt("return",Number(n));case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(e,t){return r.apply(this,arguments)}}(),math_round=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(n.value);case 5:u=e.sent,e.t0=a,e.next="ROUND"===e.t0?9:"ROUNDUP"===e.t0?10:"ROUNDDOWN"===e.t0?11:12;break;case 9:return e.abrupt("return",Math.round(u));case 10:return e.abrupt("return",Math.ceil(u));case 11:return e.abrupt("return",Math.floor(u));case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function mathModes(e){for(var t=[],r=[],n=0,a=0;a<e.length;a++){for(var u,s=e[a],c=!1,o=0;o<r.length;o++)if(r[o][0]===s){u=++r[o][1],c=!0;break}c||(r.push([s,1]),u=1),n=Math.max(u,n)}for(o=0;o<r.length;o++)r[o][1]===n&&t.push(r[o][0]);return t}function mathStandardDeviation(e){var t=e.length;if(!t)return null;for(var r=e.reduce(function(e,t){return e+t})/t,n=0,a=0;a<t;a++)n+=Math.pow(e[a]-r,2);return n/=t,Math.sqrt(n)}var math_on_list=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,a=stringify(n.op),e.next=5,this.executeStatement(stringify(n.list));case 5:u=e.sent,e.t0=a,e.next="SUM"===e.t0?9:"MIN"===e.t0?10:"MAX"===e.t0?11:"AVERAGE"===e.t0?12:"MEDIAN"===e.t0?13:"MODE"===e.t0?18:"STD_DEV"===e.t0?19:"RANDOM"===e.t0?20:21;break;case 9:return e.abrupt("return",u.reduce(function(e,t){return e+t},0));case 10:return e.abrupt("return",Math.min.apply(Math,(0,_toConsumableArray2.default)(u)));case 11:return e.abrupt("return",Math.max.apply(Math,(0,_toConsumableArray2.default)(u)));case 12:return e.abrupt("return",u.reduce(function(e,t){return e+t},0)/u.length);case 13:if(u.sort(function(e,t){return e-t}),s=Math.floor(u.length/2),u.length%2)return e.abrupt("return",u[s]);e.next=17;break;case 17:return e.abrupt("return",(u[s-1]+u[s])/2);case 18:return e.abrupt("return",mathModes(u));case 19:return e.abrupt("return",mathStandardDeviation(u));case 20:return e.abrupt("return",u[Math.floor(Math.random()*u.length)]);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(0),r(e.t1);case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}},e,this,[[0,23]])}));return function(e,t){return r.apply(this,arguments)}}(),math_modulo=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value1));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.value2));case 7:return u=e.sent,e.abrupt("return",a%u);case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),math_constrain=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.min));case 7:return u=e.sent,e.next=10,this.executeStatement(stringify(n.max));case 10:return s=e.sent,e.abrupt("return",Math.min(Math.max(a,u),s));case 14:e.prev=14,e.t0=e.catch(0),r(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}();function mathRandomInt(e,t){var r;return t<e&&(r=e,e=t,t=r),Math.floor(Math.random()*(t-e+1)+e)}var math_random_int=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.min));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.max));case 7:return u=e.sent,e.abrupt("return",mathRandomInt(a,u));case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),text=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",stringify(t.pointer).replace("\\n","\n").replace("\\t","\t").replace("\\r","\r"));case 4:e.prev=4,e.t0=e.catch(0),r(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(e,t){return r.apply(this,arguments)}}(),text_join=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n=[],a=_createForOfIteratorHelper(a),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return u=u.value,e.next=10,this.executeStatement(stringify(u));case 10:u=e.sent,n.push(u);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",n.join(""));case 25:e.prev=25,e.t1=e.catch(0),r(e.t1);case 28:case"end":return e.stop()}},e,this,[[0,25],[4,16,19,22]])}));return function(e,t){return r.apply(this,arguments)}}(),text_append=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.text));case 5:a=stringify(e.sent),n in this.VARIABLE_STACK?this.VARIABLE_STACK[n]+=a:this.VARIABLE_STACK[n]=a,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(e,t){return r.apply(this,arguments)}}(),text_length=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n));case 4:return n=e.sent,e.abrupt("return",stringify(n).length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),text_isEmpty=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,n=stringify(n),e.abrupt("return",0===n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),convert_to_text=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.abrupt("return",stringify(n));case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(e,t){return r.apply(this,arguments)}}(),text_indexOf=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.substring));case 8:if(u=stringify(u=e.sent),"FIRST"===(s=stringify(n.indexOf)))return e.abrupt("return",a.indexOf(u)+1);e.next=15;break;case 15:if("LAST"===s)return e.abrupt("return",a.lastIndexOf(u)+1);e.next=17;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),r(e.t0);case 22:return e.abrupt("return",0);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(e,t){return r.apply(this,arguments)}}(),text_charAt=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.at));case 8:u=e.sent,e.t0=stringify(n.action),e.next="FROM_START"===e.t0?12:"FROM_END"===e.t0?14:"FIRST"===e.t0?16:"LAST"===e.t0?17:"RANDOM"===e.t0?18:19;break;case 12:return u=parseInt(u),e.abrupt("return",a[u-1]);case 14:return u=parseInt(u),e.abrupt("return",a[a.length-u]);case 16:return e.abrupt("return",a[0]);case 17:return e.abrupt("return",a[a.length-1]);case 18:return e.abrupt("return",a[Math.floor(Math.random()*a.length)]);case 19:e.next=25;break;case 21:e.prev=21,e.t1=e.catch(0),console.log(e.t1),r(e.t1);case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}},e,this,[[0,21]])}));return function(e,t){return r.apply(this,arguments)}}();function subsequenceFromStartFromEnd(e,t,r){r=e.length-1-r+1;return e.slice(t,r)}function subsequenceFromStartLast(e,t){var r=e.length-1+1;return e.slice(t,r)}function subsequenceFromEndFromStart(e,t,r){t=e.length-1-t;return e.slice(t,r+1)}function subsequenceFromEndFromEnd(e,t,r){t=e.length-1-t,r=e.length-1-r+1;return e.slice(t,r)}function subsequenceFromEndLast(e,t){var t=e.length-1-t,r=e.length-1+1;return e.slice(t,r)}function subsequenceFirstFromEnd(e,t){t=e.length-1-t+1;return e.slice(0,t)}var text_getSubstring=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=stringify(a=e.sent),e.next=8,this.executeStatement(stringify(n.at1));case 8:return u=e.sent,u=parseInt(stringify(u)),e.next=12,this.executeStatement(stringify(n.at2));case 12:if(s=e.sent,s=parseInt(stringify(s)),c=stringify(n.action1),o=stringify(n.action2),"FROM_START"===c&&"FROM_START"===o)return e.abrupt("return",a.slice(u-1,s));e.next=20;break;case 20:if("FROM_START"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFromStartFromEnd(a,u-1,s-1));e.next=24;break;case 24:if("FROM_START"===c&&"LAST"===o)return e.abrupt("return",subsequenceFromStartLast(a,u-1));e.next=28;break;case 28:if("FROM_END"===c&&"FROM_START"===o)return e.abrupt("return",subsequenceFromEndFromStart(a,u-1,s-1));e.next=32;break;case 32:if("FROM_END"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFromEndFromEnd(a,u-1,s-1));e.next=36;break;case 36:if("FROM_END"===c&&"LAST"===o)return e.abrupt("return",subsequenceFromEndLast(a,u-1));e.next=40;break;case 40:if("FIRST"===c&&"FROM_START"===o)return e.abrupt("return",a.slice(0,s));e.next=44;break;case 44:if("FIRST"===c&&"FROM_END"===o)return e.abrupt("return",subsequenceFirstFromEnd(a,s-1));e.next=48;break;case 48:return e.abrupt("return",a);case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(0),r(e.t0);case 54:return e.abrupt("return",null);case 55:case"end":return e.stop()}},e,this,[[0,51]])}));return function(e,t){return r.apply(this,arguments)}}();function titleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var text_changeCase=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:a=e.sent,e.t0=stringify(n.action),e.next="UPPERCASE"===e.t0?8:"LOWERCASE"===e.t0?9:"TITLECASE"===e.t0?10:11;break;case 8:return e.abrupt("return",a.toUpperCase());case 9:return e.abrupt("return",a.toLowerCase());case 10:return e.abrupt("return",titleCase(a));case 11:return e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),text_trim=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:a=e.sent,e.t0=stringify(n.action),e.next="LEFT"===e.t0?8:"RIGHT"===e.t0?9:"BOTH"===e.t0?10:11;break;case 8:return e.abrupt("return",a.trimLeft());case 9:return e.abrupt("return",a.trimRight());case 10:return e.abrupt("return",a.trim());case 11:return e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),r(e.t1);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),text_print=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return(n=e.sent)===1/0&&(n="Infinity"),e.next=7,this.browser.getCurrentTab();case 7:return a=e.sent,e.next=10,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e){return alert(e)},args:[stringify(n)],world:"MAIN"});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}(),prompt$1=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.message));case 7:return u=e.sent,e.next=10,this.browser.getCurrentTab();case 10:return s=e.sent,e.next=13,chrome.scripting.executeScript({target:{tabId:s.id},func:function(e,t){return prompt(e,t)},args:[u,a],world:"MAIN"});case 13:return s=e.sent,e.abrupt("return",s[0].result);case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_create_with=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n=[],a=_createForOfIteratorHelper(a),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=14;break}return u=u.value,e.next=10,this.executeStatement(stringify(u));case 10:u=e.sent,n.push(u);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",n);case 25:return e.prev=25,e.t1=e.catch(0),r(e.t1),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[0,25],[4,16,19,22]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_chooser=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.executeStatement(stringify(t.pointer));case 3:return n=e.sent,e.next=6,this.browser.getCurrentTab();case 6:return a=e.sent,e.next=9,chrome.scripting.executeScript({target:{tabId:a.id},func:function(e){for(var t="",r=0;r<e.length;r++)t+=r+1+". "+e[r],r<e.length-1&&(t+="\n");var n=prompt("Enter the index of the item to select:\n"+t,"1");return parseInt(n)},args:[n],world:"MAIN"});case 9:return a=e.sent,e.abrupt("return",a[0].result);case 13:e.prev=13,e.t0=e.catch(0),r(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_repeat=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.times));case 4:return a=e.sent,a=parseInt(a),e.next=8,this.executeStatement(stringify(n.value));case 8:for(u=e.sent,s=[],c=0;c<a;c++)s.push(u);return e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(0),r(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_length=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.next=4,this.executeStatement(n);case 4:return n=e.sent,e.abrupt("return",n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_isEmpty=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=stringify(t.pointer),e.next=4,this.executeStatement(n);case 4:return n=e.sent,e.abrupt("return",0===n.length);case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_indexOf=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.item));case 7:u=e.sent,e.t0=stringify(n.indexOf),e.next="FIRST"===e.t0?11:"LAST"===e.t0?12:13;break;case 11:return e.abrupt("return",a.indexOf(u)+1);case 12:return e.abrupt("return",a.lastIndexOf(u)+1);case 13:return e.abrupt("return",-1);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),r(e.t1);case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_getIndex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.index));case 7:if(u=e.sent,u=parseInt(u),s=stringify(n.mode),"FROM_START"!==(c=stringify(n.where))){e.next=23;break}if("GET"===s)return e.abrupt("return",a[u-1]);e.next=16;break;case 16:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(u-1,1)[0]);e.next=20;break;case 20:"REMOVE"===s&&a.splice(u-1,1);case 21:e.next=70;break;case 23:if("FROM_END"!==c){e.next=35;break}if("GET"===s)return e.abrupt("return",a[a.length-u]);e.next=28;break;case 28:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(a.length-u,1)[0]);e.next=32;break;case 32:"REMOVE"===s&&a.splice(a.length-u,1);case 33:e.next=70;break;case 35:if("FIRST"!==c){e.next=47;break}if("GET"===s)return e.abrupt("return",a[0]);e.next=40;break;case 40:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(0,1)[0]);e.next=44;break;case 44:"REMOVE"===s&&a.splice(0,1);case 45:e.next=70;break;case 47:if("LAST"!==c){e.next=59;break}if("GET"===s)return e.abrupt("return",a[a.length-1]);e.next=52;break;case 52:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(a.length-1,1)[0]);e.next=56;break;case 56:"REMOVE"===s&&a.splice(a.length-1,1);case 57:e.next=70;break;case 59:if("RANDOM"!==c){e.next=70;break}if(o=Math.floor(Math.random()*a.length),"GET"===s)return e.abrupt("return",a[o]);e.next=65;break;case 65:if("GET_REMOVE"===s)return e.abrupt("return",a.splice(o,1)[0]);e.next=69;break;case 69:"REMOVE"===s&&a.splice(o,1);case 70:e.next=75;break;case 72:e.prev=72,e.t0=e.catch(0),r(e.t0);case 75:return e.abrupt("return",null);case 76:case"end":return e.stop()}},e,this,[[0,72]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_setIndex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.index));case 7:return u=e.sent,u=parseInt(u),e.next=11,this.executeStatement(stringify(n.value));case 11:s=e.sent,c=stringify(n.mode),"FROM_START"===(o=stringify(n.where))?"SET"===c?a[u-1]=s:"INSERT"===c&&a.splice(u-1,0,s):"FROM_END"===o?"SET"===c?a[a.length-u]=s:"INSERT"===c&&a.splice(a.length-u,0,s):"FIRST"===o?"SET"===c?a[0]=s:"INSERT"===c&&a.splice(0,0,s):"LAST"===o?"SET"===c?a[a.length-1]=s:"INSERT"===c&&a.splice(a.length-1,0,s):"RANDOM"===o&&(o=Math.floor(Math.random()*a.length),"SET"===c?a[o]=s:"INSERT"===c&&a.splice(o,0,s)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_getSublist=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,u=stringify(n.where1),s=stringify(n.where2),e.next=9,this.executeStatement(stringify(n.at1));case 9:return c=e.sent,c=parseInt(c),e.next=13,this.executeStatement(stringify(n.at2));case 13:if(o=e.sent,o=parseInt(o),"FROM_START"!==u){e.next=28;break}if("FROM_START"===s)return e.abrupt("return",a.slice(c-1,o));e.next=20;break;case 20:if("FROM_END"===s)return e.abrupt("return",a.slice(c-1,a.length-(o-1)));e.next=24;break;case 24:if("LAST"===s)return e.abrupt("return",a.slice(c-1,a.length));e.next=26;break;case 26:e.next=52;break;case 28:if("FROM_END"!==u){e.next=41;break}if("FROM_START"===s)return e.abrupt("return",a.slice(a.length-c,o));e.next=33;break;case 33:if("FROM_END"===s)return e.abrupt("return",a.slice(a.length-c,a.length-(o-1)));e.next=37;break;case 37:if("LAST"===s)return e.abrupt("return",a.slice(a.length-c,a.length));e.next=39;break;case 39:e.next=52;break;case 41:if("FIRST"!==u){e.next=52;break}if("FROM_START"===s)return e.abrupt("return",a.slice(0,o));e.next=46;break;case 46:if("FROM_END"===s)return e.abrupt("return",a.slice(0,a.length-(o-1)));e.next=50;break;case 50:if("LAST"===s)return e.abrupt("return",a.slice(0,a.length));e.next=52;break;case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(0),r(e.t0);case 57:return e.abrupt("return",null);case 58:case"end":return e.stop()}},e,this,[[0,54]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_split=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.value));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.delim));case 7:if(u=e.sent,"SPLIT"===(s=stringify(n.mode)))return e.abrupt("return",a.split(u));e.next=13;break;case 13:if("JOIN"===s)return e.abrupt("return",a.join(u));e.next=15;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(e,t){return r.apply(this,arguments)}}(),lists_regex=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.text));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.regex));case 7:return u=e.sent,u=new RegExp(u,"g"),e.abrupt("return",(0,_toConsumableArray2.default)(a.matchAll(u)));case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(e,t){return r.apply(this,arguments)}}();function listsGetSortCompare(e,r){var n={NUMERIC:function(e,t){return Number(e)-Number(t)},TEXT:function(e,t){return e.toString()>t.toString()?1:-1},IGNORE_CASE:function(e,t){return e.toString().toLowerCase()>t.toString().toLowerCase()?1:-1}}[e];return function(e,t){return n(e,t)*r}}var lists_sort=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.list));case 4:return a=e.sent,u=n.direction,s=stringify(n.type),e.abrupt("return",a.slice().sort(listsGetSortCompare(s,u)));case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_create_with=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n={},a=_createForOfIteratorHelper(a),e.prev=4,a.s();case 6:if((c=a.n()).done){e.next=19;break}return c=c.value,console.log(c),e.next=11,this.executeStatement(stringify(c));case 11:if(u=e.sent,1!==(s=Object.keys(u)).length)throw new Error("Dict pair must have exactly one key");e.next=15;break;case 15:c=s[0],n[c]=u[c];case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),a.e(e.t0);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",n);case 30:e.prev=30,e.t1=e.catch(0),r(e.t1);case 33:return e.abrupt("return",{});case 34:case"end":return e.stop()}},e,this,[[0,30],[4,21,24,27]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_pair=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.key));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.value));case 7:return u=e.sent,(s={})[a]=u,e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(0),r(e.t0);case 16:return e.abrupt("return",{});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_get_value=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.key));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.dict));case 7:return u=e.sent,e.abrupt("return",u[a]);case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_set_value=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.dict));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.key));case 7:return u=e.sent,e.next=10,this.executeStatement(stringify(n.value));case 10:s=e.sent,a[u]=s,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),r(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_get_all_keys=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n));case 4:return n=e.sent,e.abrupt("return",Object.keys(n));case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(e,t){return r.apply(this,arguments)}}(),dict_key_exist=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.dict));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.key));case 7:return u=e.sent,e.abrupt("return",Object.keys(a).includes(u));case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),variables_set=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.value));case 5:a=e.sent,this.VARIABLE_STACK[n]=a,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(e,t){return r.apply(this,arguments)}}(),variables_get=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=stringify(t.pointer))in this.VARIABLE_STACK)return e.abrupt("return",this.VARIABLE_STACK[n]);e.next=4;break;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}(),math_change=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.pointer,n=stringify(a.variable),e.next=5,this.executeStatement(stringify(a.value));case 5:a=e.sent,n in this.VARIABLE_STACK&&"number"==typeof this.VARIABLE_STACK[n]?this.VARIABLE_STACK[n]+=a:this.VARIABLE_STACK[n]=a,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(e,t){return r.apply(this,arguments)}}(),procedures_defnoreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.pointer,a=stringify(n.name),u=n.args,s=stringify(n.functionBlock),c=_createForOfIteratorHelper(u);try{for(c.s();!(o=c.n()).done;)i=o.value,this.VARIABLE_STACK[i]=null}catch(e){c.e(e)}finally{c.f()}this.FUNCTION_STACK.push({name:a,functionBlock:s})}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),procedures_defreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.pointer,a=stringify(n.name),u=n.args,s=stringify(n.functionBlock),c=stringify(n.ret),o=_createForOfIteratorHelper(u);try{for(o.s();!(i=o.n()).done;)l=i.value,this.VARIABLE_STACK[l]=null}catch(e){o.e(e)}finally{o.f()}this.FUNCTION_STACK.push({name:a,functionBlock:s,ret:c})}catch(e){r(e)}case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}(),procedures_callnoreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u,s,c,o,i,l;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.pointer,a=stringify(n.name),n=n.args,this.currentFunctionName=a,a=this.findFunction(a),u=null,!a){e.next=28;break}c=Object.keys(n),s=0,c=c;case 10:if(s<c.length)return o=c[s],i=(i="a"<=(l=(i=o)[0])&&l<="z"||"A"<=l&&l<="Z"||"_"===l?i:"_"+(i=i.substring(1))).replace(/[^A-Za-z0-9]/g,"_"),e.next=18,this.executeStatement(stringify(n[o]));e.next=22;break;case 18:this.VARIABLE_STACK[i]=e.sent;case 19:s++,e.next=10;break;case 22:return e.next=24,this.execute(a.functionBlock);case 24:if(null!=a.ret)return e.next=27,this.executeStatement(stringify(a.ret));e.next=28;break;case 27:u=e.sent;case 28:return null!==this.functionReturnValue&&(u=functionReturnValue),this.currentFunctionName=null,this.isFunctionReturn=null,e.abrupt("return",u);case 34:e.prev=34,e.t0=e.catch(0),r(e.t0);case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}},e,this,[[0,34]])}));return function(e,t){return r.apply(this,arguments)}}(),procedures_ifreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a,u;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.pointer,e.next=4,this.executeStatement(stringify(n.condition));case 4:return a=e.sent,e.next=7,this.executeStatement(stringify(n.value));case 7:u=e.sent,a&&(this.functionReturnValue=u,this.isFunctionReturn=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}(),procedures_callreturn=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,procedures_callnoreturn(t,r);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}(),utils_tryCatch=function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=t.pointer,n=stringify(a.try),a=stringify(a.catch),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),r(e.t0),e.abrupt("return");case 10:return e.prev=10,this.canShowErrorAlert=!1,e.next=14,this.execute(n);case 14:if(this.canShowErrorAlert=!0,this.isTerminated)throw this.isTerminated=!1,new Error("Try failed");e.next=18;break;case 18:e.next=30;break;case 20:return e.prev=20,e.t1=e.catch(10),e.prev=22,e.next=25,this.execute(a);case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(22),r(e.t2);case 30:case"end":return e.stop()}},e,this,[[0,6],[10,20],[22,27]])}));return function(e,t){return r.apply(this,arguments)}}(),Piper=function(){function r(e){var t=this;(0,_classCallCheck2.default)(this,r),this.browser=e,this.UA=null,this.loopFlow=null,this.currentFunctionName=null,this.isFunctionReturn=null,this.functionReturnValue=null,this.VARIABLE_STACK={},this.FUNCTION_STACK=[],this.isTerminated=!1,this.canShowErrorAlert=!0,this.browser.onClose(function(e){t.isTerminated=!0})}var t,n,a,u,e;return(0,_createClass2.default)(r,[{key:"showError",value:function(e,r){var n=this;this.canShowErrorAlert&&(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.browser.getCurrentTab();case 3:return t=e.sent,e.next=6,chrome.scripting.executeScript({target:{tabId:t.id},func:function(e){return alert(e)},args:[String(r)],world:"MAIN"});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}))(),this.isTerminated=!0}},{key:"onScriptComplete",value:(e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.browser.getCurrentTab();case 2:return t=e.sent,e.next=5,chrome.scripting.executeScript({target:{tabId:t.id},func:function(){return alert("Script execution completed.")},world:"MAIN"});case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"init",value:(u=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initFunctions(t))return e.next=4,this.execute(t);e.next=4;break;case 4:return e.next=6,this.onScriptComplete();case 6:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"findFunction",value:function(e){if(!e)return null;var t,r=_createForOfIteratorHelper(this.FUNCTION_STACK);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.name===e)return n}}catch(e){r.e(e)}finally{r.f()}return null}},{key:"initFunctions",value:(a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r,n,a,u,s=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=null,e.prev=1,r=JSON.parse(t),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),this.showError({cmd:"function_init"},e.t0),e.abrupt("return",!1);case 9:n=_createForOfIteratorHelper(r),e.prev=10,u=_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("procedures_defnoreturn"===(t=a.value).cmd)return e.next=4,procedures_defnoreturn.call(s,t,function(e){s.showError(t,e)});e.next=6;break;case 4:e.next=9;break;case 6:if("procedures_defreturn"===t.cmd)return e.next=9,procedures_defreturn.call(s,t,function(e){s.showError(t,e)});e.next=9;break;case 9:case"end":return e.stop()}},e)}),n.s();case 13:if((a=n.n()).done){e.next=17;break}return e.delegateYield(u(),"t1",15);case 15:e.next=13;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(10),n.e(e.t2);case 22:return e.prev=22,n.f(),e.finish(22);case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}},e,this,[[1,5],[10,19,22,25]])})),function(e){return a.apply(this,arguments)})},{key:"execute",value:(n=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r,n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=JSON.parse(t),r=_createForOfIteratorHelper(r),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=20;break}if(n=n.value,this.isTerminated)return e.abrupt("break",20);e.next=8;break;case 8:if("BREAK"===this.loopFlow)return e.abrupt("break",20);e.next=12;break;case 12:if("CONTINUE"===this.loopFlow)return e.abrupt("continue",18);e.next=14;break;case 14:if(null!==this.isFunctionReturn)return e.abrupt("break",20);e.next=16;break;case 16:return e.next=18,this.executeStatement(n);case 18:e.next=4;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[2,22,25,28]])})),function(e){return n.apply(this,arguments)})},{key:"executeStatement",value:(t=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.browser.loadingWait();case 2:if("string"!=typeof t){e.next=10;break}e.prev=3,t=JSON.parse(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",t);case 10:if(void 0===t.cmd)return e.abrupt("return",t);e.next=12;break;case 12:e.t1=t.cmd,e.next="go_to_website"===e.t1?15:"download_from_url"===e.t1?18:"set_user_agent"===e.t1?21:"execute_javascript"===e.t1?24:"new_tab"===e.t1?27:"switch_tab"===e.t1?30:"close_tab"===e.t1?33:"html_elements"===e.t1?36:"html_elements_by_selector"===e.t1?39:"wait_for_elements"===e.t1?42:"attribute_of"===e.t1?45:"text_of"===e.t1?48:"tag_name_of"===e.t1?51:"is_html_element_exist"===e.t1?54:"page_source"===e.t1?57:"click"===e.t1?60:"type"===e.t1?63:"press_key"===e.t1?66:"wait_for"===e.t1?69:"scroll"===e.t1?72:"controls_if"===e.t1?75:"logic_compare"===e.t1?78:"logic_operation"===e.t1?81:"logic_negate"===e.t1?84:"logic_boolean"===e.t1?87:"logic_null"===e.t1?90:"logic_ternary"===e.t1?91:"controls_repeat_ext"===e.t1?94:"controls_whileUntil"===e.t1?97:"controls_for"===e.t1?100:"controls_forEach"===e.t1?103:"controls_flow_statements"===e.t1?106:"math_number"===e.t1?109:"math_arithmetic"===e.t1?112:"math_single"===e.t1?115:"math_trig"===e.t1?118:"math_constant"===e.t1?121:"math_number_property"===e.t1?124:"convert_text_to_number"===e.t1?127:"math_round"===e.t1?130:"math_on_list"===e.t1?133:"math_modulo"===e.t1?136:"math_constrain"===e.t1?139:"math_random_int"===e.t1?142:"math_random_float"===e.t1?145:"text"===e.t1?148:"text_join"===e.t1?151:"text_append"===e.t1?154:"text_length"===e.t1?157:"text_isEmpty"===e.t1?160:"convert_to_text"===e.t1?163:"text_indexOf"===e.t1?166:"text_charAt"===e.t1?169:"text_getSubstring"===e.t1?172:"text_changeCase"===e.t1?175:"text_trim"===e.t1?178:"text_print"===e.t1?181:"prompt"===e.t1?184:"lists_create_with"===e.t1?187:"lists_chooser"===e.t1?190:"lists_repeat"===e.t1?193:"lists_length"===e.t1?196:"lists_isEmpty"===e.t1?199:"lists_indexOf"===e.t1?202:"lists_getIndex"===e.t1?205:"lists_setIndex"===e.t1?208:"lists_getSublist"===e.t1?211:"lists_split"===e.t1?214:"lists_regex"===e.t1?217:"lists_sort"===e.t1?220:"dict_create_with"===e.t1?223:"dict_pair"===e.t1?226:"dict_get_value"===e.t1?229:"dict_set_value"===e.t1?232:"dict_get_all_keys"===e.t1?235:"dict_key_exist"===e.t1?238:"variables_set"===e.t1?241:"variables_get"===e.t1?244:"math_change"===e.t1?247:"procedures_callnoreturn"===e.t1?250:"procedures_ifreturn"===e.t1?253:"procedures_callreturn"===e.t1?256:"utils_tryCatch"===e.t1?259:262;break;case 15:return e.next=17,go_to_website.call(this,t,function(e){r.showError(t,e)});case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,download_from_url.call(this,t,function(e){r.showError(t,e)});case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,set_user_agent.call(this,t,function(e){r.showError(t,e)});case 23:return e.abrupt("return",e.sent);case 24:return e.next=26,execute_javascript.call(this,t,function(e){r.showError(t,e)});case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,new_tab.call(this,t,function(e){r.showError(t,e)});case 29:return e.abrupt("return",e.sent);case 30:return e.next=32,switch_tab.call(this,t,function(e){r.showError(t,e)});case 32:return e.abrupt("return",e.sent);case 33:return e.next=35,close_tab.call(this,t,function(e){r.showError(t,e)});case 35:return e.abrupt("return",e.sent);case 36:return e.next=38,html_elements.call(this,t,function(e){r.showError(t,e)});case 38:return e.abrupt("return",e.sent);case 39:return e.next=41,html_elements_by_selector.call(this,t,function(e){r.showError(t,e)});case 41:return e.abrupt("return",e.sent);case 42:return e.next=44,wait_for_elements.call(this,t,function(e){r.showError(t,e)});case 44:return e.abrupt("return",e.sent);case 45:return e.next=47,attribute_of.call(this,t,function(e){r.showError(t,e)});case 47:return e.abrupt("return",e.sent);case 48:return e.next=50,text_of.call(this,t,function(e){r.showError(t,e)});case 50:return e.abrupt("return",e.sent);case 51:return e.next=53,tag_name_of.call(this,t,function(e){r.showError(t,e)});case 53:return e.abrupt("return",e.sent);case 54:return e.next=56,is_html_element_exist.call(this,t,function(e){r.showError(t,e)});case 56:return e.abrupt("return",e.sent);case 57:return e.next=59,page_source.call(this,t,function(e){r.showError(t,e)});case 59:return e.abrupt("return",e.sent);case 60:return e.next=62,click.call(this,t,function(e){r.showError(t,e)});case 62:return e.abrupt("return",e.sent);case 63:return e.next=65,event_type.call(this,t,function(e){r.showError(t,e)});case 65:return e.abrupt("return",e.sent);case 66:return e.next=68,press_key.call(this,t,function(e){r.showError(t,e)});case 68:return e.abrupt("return",e.sent);case 69:return e.next=71,wait_for.call(this,t,function(e){r.showError(t,e)});case 71:return e.abrupt("return",e.sent);case 72:return e.next=74,scroll.call(this,t,function(e){r.showError(t,e)});case 74:return e.abrupt("return",e.sent);case 75:return e.next=77,controls_if.call(this,t,function(e){r.showError(t,e)});case 77:return e.abrupt("return",e.sent);case 78:return e.next=80,logic_compare.call(this,t,function(e){r.showError(t,e)});case 80:return e.abrupt("return",e.sent);case 81:return e.next=83,logic_operation.call(this,t,function(e){r.showError(t,e)});case 83:return e.abrupt("return",e.sent);case 84:return e.next=86,logic_negate.call(this,t,function(e){r.showError(t,e)});case 86:return e.abrupt("return",e.sent);case 87:return e.next=89,logic_boolean.call(this,t,function(e){r.showError(t,e)});case 89:return e.abrupt("return",e.sent);case 90:return e.abrupt("return",null);case 91:return e.next=93,logic_ternary.call(this,t,function(e){r.showError(t,e)});case 93:return e.abrupt("return",e.sent);case 94:return e.next=96,controls_repeat_ext.call(this,t,function(e){r.showError(t,e)});case 96:return e.abrupt("return",e.sent);case 97:return e.next=99,controls_whileUntil.call(this,t,function(e){r.showError(t,e)});case 99:return e.abrupt("return",e.sent);case 100:return e.next=102,controls_for.call(this,t,function(e){r.showError(t,e)});case 102:return e.abrupt("return",e.sent);case 103:return e.next=105,controls_forEach.call(this,t,function(e){r.showError(t,e)});case 105:return e.abrupt("return",e.sent);case 106:return e.next=108,controls_flow_statements.call(this,t,function(e){r.showError(t,e)});case 108:return e.abrupt("return",e.sent);case 109:return e.next=111,math_number.call(this,t,function(e){r.showError(t,e)});case 111:return e.abrupt("return",e.sent);case 112:return e.next=114,math_arithmetic.call(this,t,function(e){r.showError(t,e)});case 114:return e.abrupt("return",e.sent);case 115:return e.next=117,math_single.call(this,t,function(e){r.showError(t,e)});case 117:return e.abrupt("return",e.sent);case 118:return e.next=120,math_trig.call(this,t,function(e){r.showError(t,e)});case 120:return e.abrupt("return",e.sent);case 121:return e.next=123,math_constant.call(this,t,function(e){r.showError(t,e)});case 123:return e.abrupt("return",e.sent);case 124:return e.next=126,math_number_property.call(this,t,function(e){r.showError(t,e)});case 126:return e.abrupt("return",e.sent);case 127:return e.next=129,convert_text_to_number.call(this,t,function(e){r.showError(t,e)});case 129:return e.abrupt("return",e.sent);case 130:return e.next=132,math_round.call(this,t,function(e){r.showError(t,e)});case 132:return e.abrupt("return",e.sent);case 133:return e.next=135,math_on_list.call(this,t,function(e){r.showError(t,e)});case 135:return e.abrupt("return",e.sent);case 136:return e.next=138,math_modulo.call(this,t,function(e){r.showError(t,e)});case 138:return e.abrupt("return",e.sent);case 139:return e.next=141,math_constrain.call(this,t,function(e){r.showError(t,e)});case 141:return e.abrupt("return",e.sent);case 142:return e.next=144,math_random_int.call(this,t,function(e){r.showError(t,e)});case 144:return e.abrupt("return",e.sent);case 145:return e.next=147,math_random_float.call(this,t,function(e){r.showError(t,e)});case 147:return e.abrupt("return",e.sent);case 148:return e.next=150,text.call(this,t,function(e){r.showError(t,e)});case 150:return e.abrupt("return",e.sent);case 151:return e.next=153,text_join.call(this,t,function(e){r.showError(t,e)});case 153:return e.abrupt("return",e.sent);case 154:return e.next=156,text_append.call(this,t,function(e){r.showError(t,e)});case 156:return e.abrupt("return",e.sent);case 157:return e.next=159,text_length.call(this,t,function(e){r.showError(t,e)});case 159:return e.abrupt("return",e.sent);case 160:return e.next=162,text_isEmpty.call(this,t,function(e){r.showError(t,e)});case 162:return e.abrupt("return",e.sent);case 163:return e.next=165,convert_to_text.call(this,t,function(e){r.showError(t,e)});case 165:return e.abrupt("return",e.sent);case 166:return e.next=168,text_indexOf.call(this,t,function(e){r.showError(t,e)});case 168:return e.abrupt("return",e.sent);case 169:return e.next=171,text_charAt.call(this,t,function(e){r.showError(t,e)});case 171:return e.abrupt("return",e.sent);case 172:return e.next=174,text_getSubstring.call(this,t,function(e){r.showError(t,e)});case 174:return e.abrupt("return",e.sent);case 175:return e.next=177,text_changeCase.call(this,t,function(e){r.showError(t,e)});case 177:return e.abrupt("return",e.sent);case 178:return e.next=180,text_trim.call(this,t,function(e){r.showError(t,e)});case 180:return e.abrupt("return",e.sent);case 181:return e.next=183,text_print.call(this,t,function(e){r.showError(t,e)});case 183:return e.abrupt("return",e.sent);case 184:return e.next=186,prompt$1.call(this,t,function(e){r.showError(t,e)});case 186:return e.abrupt("return",e.sent);case 187:return e.next=189,lists_create_with.call(this,t,function(e){r.showError(t,e)});case 189:return e.abrupt("return",e.sent);case 190:return e.next=192,lists_chooser.call(this,t,function(e){r.showError(t,e)});case 192:return e.abrupt("return",e.sent);case 193:return e.next=195,lists_repeat.call(this,t,function(e){r.showError(t,e)});case 195:return e.abrupt("return",e.sent);case 196:return e.next=198,lists_length.call(this,t,function(e){r.showError(t,e)});case 198:return e.abrupt("return",e.sent);case 199:return e.next=201,lists_isEmpty.call(this,t,function(e){r.showError(t,e)});case 201:return e.abrupt("return",e.sent);case 202:return e.next=204,lists_indexOf.call(this,t,function(e){r.showError(t,e)});case 204:return e.abrupt("return",e.sent);case 205:return e.next=207,lists_getIndex.call(this,t,function(e){r.showError(t,e)});case 207:return e.abrupt("return",e.sent);case 208:return e.next=210,lists_setIndex.call(this,t,function(e){r.showError(t,e)});case 210:return e.abrupt("return",e.sent);case 211:return e.next=213,lists_getSublist.call(this,t,function(e){r.showError(t,e)});case 213:return e.abrupt("return",e.sent);case 214:return e.next=216,lists_split.call(this,t,function(e){r.showError(t,e)});case 216:return e.abrupt("return",e.sent);case 217:return e.next=219,lists_regex.call(this,t,function(e){r.showError(t,e)});case 219:return e.abrupt("return",e.sent);case 220:return e.next=222,lists_sort.call(this,t,function(e){r.showError(t,e)});case 222:return e.abrupt("return",e.sent);case 223:return e.next=225,dict_create_with.call(this,t,function(e){r.showError(t,e)});case 225:return e.abrupt("return",e.sent);case 226:return e.next=228,dict_pair.call(this,t,function(e){r.showError(t,e)});case 228:return e.abrupt("return",e.sent);case 229:return e.next=231,dict_get_value.call(this,t,function(e){r.showError(t,e)});case 231:return e.abrupt("return",e.sent);case 232:return e.next=234,dict_set_value.call(this,t,function(e){r.showError(t,e)});case 234:return e.abrupt("return",e.sent);case 235:return e.next=237,dict_get_all_keys.call(this,t,function(e){r.showError(t,e)});case 237:return e.abrupt("return",e.sent);case 238:return e.next=240,dict_key_exist.call(this,t,function(e){r.showError(t,e)});case 240:return e.abrupt("return",e.sent);case 241:return e.next=243,variables_set.call(this,t,function(e){r.showError(t,e)});case 243:return e.abrupt("return",e.sent);case 244:return e.next=246,variables_get.call(this,t,function(e){r.showError(t,e)});case 246:return e.abrupt("return",e.sent);case 247:return e.next=249,math_change.call(this,t,function(e){r.showError(t,e)});case 249:return e.abrupt("return",e.sent);case 250:return e.next=252,procedures_callnoreturn.call(this,t,function(e){r.showError(t,e)});case 252:return e.abrupt("return",e.sent);case 253:return e.next=255,procedures_ifreturn.call(this,t,function(e){r.showError(t,e)});case 255:return e.abrupt("return",e.sent);case 256:return e.next=258,procedures_callreturn.call(this,t,function(e){r.showError(t,e)});case 258:return e.abrupt("return",e.sent);case 259:return e.next=261,utils_tryCatch.call(this,t,function(e){r.showError(t,e)});case 261:return e.abrupt("return",e.sent);case 262:return e.abrupt("return",null);case 263:case"end":return e.stop()}},e,this,[[3,7]])})),function(e){return t.apply(this,arguments)})}]),r}();function runScript(e){_runScript.apply(this,arguments)}function _runScript(){return(_runScript=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t){var r;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Browser({incognito:t.incognito||!1,state:t.state||"normal"}).init(!1);case 2:return r=e.sent,r=new Piper(r),e.prev=4,e.next=7,r.init(t.code);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("Error:",e.t0);case 12:return e.next=14,chrome.declarativeNetRequest.updateEnabledRulesets({disableRulesetIds:["mobile_user_agent_rule","desktop_user_agent_rule"]});case 14:case"end":return e.stop()}},e,null,[[4,9]])}))).apply(this,arguments)}function switchToHome(){chrome.action.setIcon({path:{16:"icons/16.png",48:"icons/48.png",128:"icons/128.png"}}),chrome.storage.sync.set({page:"home"}),chrome.storage.sync.set({is_record_injected:!1})}function switchToElementSelection(){chrome.action.setIcon({path:"icons/record.png"}),chrome.storage.sync.set({page:"html_elements"}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.set({editor_tab_id:e[0].id})})}chrome.runtime.onMessage.addListener(function(e,t,r){switch(e.event){case"remove_html_elements":r({message:"OK"}),switchToHome();break;case"editor_tab":chrome.storage.sync.get("editor_tab_id",function(e){r({message:"OK",tabId:e.editor_tab_id}),switchToHome()});break;case"open_piper":chrome.tabs.create({active:!0,url:"https://suyambu.net/piper"})}return!0}),chrome.runtime.onMessageExternal.addListener(function(e,t,r){switch(e.event){case"html_elements":switchToElementSelection();break;case"remove_html_elements":switchToHome();break;case"start":runScript(e);break;case"ping":console.log("Wake up!")}r({message:"OK"})})},{"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/slicedToArray":12,"@babel/runtime/helpers/toConsumableArray":13,"@babel/runtime/regenerator":15}]},{},[17]);
//# sourceMappingURL=.maps/worker.min.js.map
