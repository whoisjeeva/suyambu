{"version":3,"file":"../editor.min.js","sources":["editor.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar BLOCKLY_TOOLBOX_XML = BLOCKLY_TOOLBOX_XML || Object.create(null);\nBLOCKLY_TOOLBOX_XML['standard'] = \"\\n<xml id=\\\"toolbox\\\" style=\\\"display: none\\\">\\n    <category name=\\\"Browser\\\" colour=\\\"#E82634\\\">\\n        <block type=\\\"go_to_website\\\">\\n            <value name=\\\"URL\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\"></field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"download_from_url\\\"></block>\\n        <block type=\\\"set_user_agent\\\"></block>\\n        <block type=\\\"custom_user_agent\\\">\\n            <value name=\\\"AGENT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\"></field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"execute_javascript\\\"></block>\\n        <block type=\\\"new_tab\\\"></block>\\n        <block type=\\\"switch_tab\\\">\\n            <value name=\\\"INDEX\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"close_tab\\\">\\n            <value name=\\\"INDEX\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n    </category>\\n    <category name=\\\"HTML\\\" colour=\\\"20\\\">\\n        <block type=\\\"html_elements\\\"></block>\\n        <block type=\\\"html_elements_by_selector\\\"></block>\\n        <block type=\\\"wait_for_elements\\\"></block>\\n        <block type=\\\"attribute_of\\\"></block>\\n        <block type=\\\"text_of\\\"></block>\\n        <block type=\\\"tag_name_of\\\"></block>\\n        <block type=\\\"is_html_element_exist\\\"></block>\\n        <block type=\\\"page_source\\\"></block>\\n    </category>\\n    <category name=\\\"Events\\\" colour=\\\"80\\\">\\n        <block type=\\\"click\\\"></block>\\n        <block type=\\\"type\\\"></block>\\n        <block type=\\\"press_key\\\"></block>\\n        <block type=\\\"wait_for\\\"></block>\\n        <block type=\\\"scroll\\\"></block>\\n    </category>\\n\\n    <sep></sep>\\n\\n    <category id=\\\"catLogic\\\" colour=\\\"210\\\" name=\\\"Logic\\\">\\n        <block type=\\\"controls_if\\\"></block>\\n        <block type=\\\"logic_compare\\\"></block>\\n        <block type=\\\"logic_operation\\\"></block>\\n        <block type=\\\"logic_negate\\\"></block>\\n        <block type=\\\"logic_boolean\\\"></block>\\n        <block type=\\\"logic_null\\\"></block>\\n        <block type=\\\"logic_ternary\\\"></block>\\n    </category>\\n\\n    <category id=\\\"catLoops\\\" colour=\\\"120\\\" name=\\\"Loops\\\">\\n        <block type=\\\"controls_repeat_ext\\\">\\n            <value name=\\\"TIMES\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">10</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"controls_whileUntil\\\"></block>\\n        <block type=\\\"controls_for\\\">\\n            <value name=\\\"FROM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"TO\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">10</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"BY\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"controls_forEach\\\"></block>\\n        <block type=\\\"controls_flow_statements\\\"></block>\\n    </category>\\n\\n\\n    <category id=\\\"catMath\\\" colour=\\\"230\\\" name=\\\"Math\\\">\\n        <block type=\\\"math_number\\\"></block>\\n        <block type=\\\"math_arithmetic\\\">\\n            <value name=\\\"A\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"B\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_single\\\">\\n            <value name=\\\"NUM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">9</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_trig\\\">\\n            <value name=\\\"NUM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">45</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_constant\\\"></block>\\n        <block type=\\\"math_number_property\\\">\\n            <value name=\\\"NUMBER_TO_CHECK\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">0</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"convert_text_to_number\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_change\\\">\\n            <value name=\\\"DELTA\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_round\\\">\\n            <value name=\\\"NUM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">3.1</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_on_list\\\"></block>\\n        <block type=\\\"math_modulo\\\">\\n            <value name=\\\"DIVIDEND\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">64</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"DIVISOR\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">10</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_constrain\\\">\\n            <value name=\\\"VALUE\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">50</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"LOW\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"HIGH\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">100</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_random_int\\\">\\n            <value name=\\\"FROM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">1</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"TO\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">100</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"math_random_float\\\"></block>\\n    </category>\\n\\n\\n    <category id=\\\"catText\\\" colour=\\\"160\\\" name=\\\"Text\\\">\\n        <block type=\\\"text\\\"></block>\\n        <block type=\\\"text_join\\\"></block>\\n        <block type=\\\"text_append\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\"></shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"text_length\\\">\\n            <value name=\\\"VALUE\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">abc</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"text_isEmpty\\\">\\n            <value name=\\\"VALUE\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\"></field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"convert_to_text\\\"></block>\\n        <block type=\\\"text_indexOf\\\">\\n            <value name=\\\"FIND\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">abc</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"text_charAt\\\">\\n\\n        </block>\\n        <block type=\\\"text_getSubstring\\\">\\n\\n        </block>\\n        <block type=\\\"text_changeCase\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">abc</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"text_trim\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">abc</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"text_print\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">abc</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"prompt\\\">\\n            <value name=\\\"MESSAGE\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">Enter a URL</field>\\n                </shadow>\\n            </value>\\n            <value name=\\\"VALUE\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\"></field>\\n                </shadow>\\n            </value>\\n        </block>\\n    </category>\\n\\n\\n\\n    <category id=\\\"catLists\\\" colour=\\\"260\\\" name=\\\"Lists\\\">\\n        <block type=\\\"lists_create_with\\\">\\n            <mutation items=\\\"0\\\"></mutation>\\n        </block>\\n        <block type=\\\"lists_create_with\\\"></block>\\n        <block type=\\\"lists_chooser\\\"></block>\\n        <block type=\\\"lists_repeat\\\">\\n            <value name=\\\"NUM\\\">\\n                <shadow type=\\\"math_number\\\">\\n                    <field name=\\\"NUM\\\">5</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"lists_length\\\"></block>\\n        <block type=\\\"lists_isEmpty\\\"></block>\\n        <block type=\\\"lists_indexOf\\\">\\n            \\n        </block>\\n        <block type=\\\"lists_getIndex\\\">\\n            \\n        </block>\\n        <block type=\\\"lists_setIndex\\\">\\n        </block>\\n        <block type=\\\"lists_getSublist\\\">\\n        </block>\\n        <block type=\\\"lists_split\\\">\\n            <value name=\\\"DELIM\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">,</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"lists_regex\\\">\\n            <value name=\\\"TEXT\\\">\\n                <shadow type=\\\"text\\\">\\n                    <field name=\\\"TEXT\\\">hello, world</field>\\n                </shadow>\\n            </value>\\n        </block>\\n        <block type=\\\"lists_sort\\\"></block>\\n    </category>\\n    \\n    <sep></sep>\\n    \\n    <category id=\\\"catVariables\\\" colour=\\\"330\\\" custom=\\\"VARIABLE\\\" name=\\\"Variables\\\"></category>\\n    <category id=\\\"catFunctions\\\" colour=\\\"290\\\" custom=\\\"PROCEDURE\\\" name=\\\"Functions\\\"></category>\\n\\n    <sep></sep>\\n\\n    <category id=\\\"catUtils\\\" colour=\\\"#e67e22\\\" name=\\\"Utils\\\">\\n        <block type=\\\"utils_tryCatch\\\"></block>\\n    </category>\\n</xml>\\n\"; // <category name=\"File I/O\" colour=\"185\"></category>\n\n/* <value name=\"VALUE\">\n    <block type=\"variables_get\">\n        <field name=\"VAR\">list</field>\n    </block>\n</value> */\n\nBlockly.Blocks['go_to_website'] = {\n  init: function init() {\n    this.appendValueInput(\"URL\").setCheck(\"String\").appendField(\"go to website\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"Navigate to a website\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['go_to_website'] = function (block) {\n  var url = Blockly.JavaScript.valueToCode(block, 'URL', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"go_to_website\",\n    pointer: url\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['download_from_url'] = {\n  init: function init() {\n    this.appendValueInput(\"URL\").setCheck(\"String\").appendField(\"download from url\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"Trigger download of a file from a URL\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['download_from_url'] = function (block) {\n  var url = Blockly.JavaScript.valueToCode(block, 'URL', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"download_from_url\",\n    pointer: url\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['set_user_agent'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"set user-agent to\").appendField(new Blockly.FieldDropdown([[\"desktop\", \"DESKTOP\"], [\"mobile\", \"MOBILE\"]]), \"OP\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['set_user_agent'] = function (block) {\n  var op = block.getFieldValue('OP');\n  var code = {\n    cmd: \"set_user_agent\",\n    pointer: op\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['custom_user_agent'] = {\n  init: function init() {\n    this.appendValueInput(\"AGENT\").setCheck(\"String\").appendField(\"set user-agent to\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['custom_user_agent'] = function (block) {\n  var agent = Blockly.JavaScript.valueToCode(block, 'AGENT', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"custom_user_agent\",\n    pointer: agent\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['execute_javascript'] = {\n  init: function init() {\n    this.appendValueInput(\"SCRIPT\").setCheck(\"String\").appendField(\"execute javascript\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['execute_javascript'] = function (block) {\n  var script = Blockly.JavaScript.valueToCode(block, 'SCRIPT', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"execute_javascript\",\n    pointer: script\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['new_tab'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"open a new tab\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"Open a new tab in the browser\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript[\"new_tab\"] = function (block) {\n  var code = {\n    cmd: \"new_tab\"\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['switch_tab'] = {\n  init: function init() {\n    this.appendValueInput(\"INDEX\").setCheck(\"Number\").appendField(\"switch to tab\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"Switch to a tab in the browser\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript[\"switch_tab\"] = function (block) {\n  var index = Blockly.JavaScript.valueToCode(block, 'INDEX', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"switch_tab\",\n    pointer: index\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['close_tab'] = {\n  init: function init() {\n    this.appendValueInput(\"INDEX\").setCheck(\"Number\").appendField(\"close tab\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#E82634\");\n    this.setTooltip(\"Close a tab in the browser\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript[\"close_tab\"] = function (block) {\n  var index = Blockly.JavaScript.valueToCode(block, 'INDEX', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"close_tab\",\n    pointer: index\n  };\n  return JSON.stringify(code) + \",\";\n};\n/* HTML */\n\n\nBlockly.Blocks['html_elements'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"html elements\");\n    this.setOutput(true, \"Array\");\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['html_elements'] = function (block) {\n  var code = {\n    cmd: \"html_elements\",\n    pointer: JSON.parse(Gumify.stack[block.id])\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['html_elements_by_selector'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"html elements by selector\").appendField(new Blockly.FieldTextInput(\"a[href]\"), \"SELECTOR\");\n    this.setOutput(true, \"Array\");\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['html_elements_by_selector'] = function (block) {\n  var selector = block.getFieldValue('SELECTOR');\n  var code = {\n    cmd: \"html_elements_by_selector\",\n    pointer: selector\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['attribute_of'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(\"attribute\").appendField(new Blockly.FieldTextInput(\"href\"), \"ATTR_NAME\").appendField(\"of\").appendField(new Blockly.FieldDropdown([[\"all\", \"ALL\"], [\"first\", \"FIRST\"], [\"last\", \"LAST\"]]), \"OP\");\n    this.setOutput(true, [\"String\", \"Array\"]);\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['attribute_of'] = function (block) {\n  var attr_name = block.getFieldValue('ATTR_NAME');\n  var op = block.getFieldValue('OP');\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"attribute_of\",\n    pointer: {\n      elements: elements,\n      attr: attr_name,\n      op: op\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['text_of'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(\"text of\").appendField(new Blockly.FieldDropdown([[\"all\", \"ALL\"], [\"first\", \"FIRST\"], [\"last\", \"LAST\"]]), \"OP\");\n    this.setOutput(true, [\"String\", \"Array\"]);\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['text_of'] = function (block) {\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE);\n  var op = block.getFieldValue('OP');\n  var code = {\n    cmd: \"text_of\",\n    pointer: {\n      elements: elements,\n      op: op\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['tag_name_of'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(\"tag name of\").appendField(new Blockly.FieldDropdown([[\"all\", \"ALL\"], [\"first\", \"FIRST\"], [\"last\", \"LAST\"]]), \"OP\");\n    this.setOutput(true, [\"String\", \"Array\"]);\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['tag_name_of'] = function (block) {\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE);\n  var op = block.getFieldValue('OP');\n  var code = {\n    cmd: \"tag_name_of\",\n    pointer: {\n      elements: elements,\n      op: op\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['wait_for_elements'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(\"wait for\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['wait_for_elements'] = function (block) {\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"wait_for_elements\",\n    pointer: elements\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['is_html_element_exist'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(\"is\");\n    this.appendDummyInput().appendField(\"exist?\");\n    this.setInputsInline(true);\n    this.setOutput(true, \"Boolean\");\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['is_html_element_exist'] = function (block) {\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"is_html_element_exist\",\n    pointer: elements\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['page_source'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"page source as text\");\n    this.setOutput(true, \"String\");\n    this.setColour(20);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['page_source'] = function (block) {\n  var code = {\n    cmd: \"page_source\"\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n/* Events */\n\n\nBlockly.Blocks['click'] = {\n  init: function init() {\n    this.appendValueInput(\"ELEMENTS\").setCheck(\"Array\").appendField(new Blockly.FieldDropdown([[\"wait\", \"WAIT\"], [\"don't wait\", \"DONT_WAIT\"]]), \"OP\").appendField(\"and click on\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(80);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['click'] = function (block) {\n  var op = block.getFieldValue('OP');\n  var elements = Blockly.JavaScript.valueToCode(block, 'ELEMENTS', Blockly.JavaScript.ORDER_NONE) || [];\n  var code = {\n    cmd: \"click\",\n    pointer: {\n      elements: elements,\n      op: op\n    }\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['type'] = {\n  init: function init() {\n    this.appendValueInput(\"VALUE\").setCheck(null).appendField(\"type\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(80);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['type'] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"type\",\n    pointer: value\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['press_key'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"press key\").appendField(new Blockly.FieldDropdown([[\"enter\", \"ENTER\"], [\"shift\", \"SHIFT\"], [\"ctrl\", \"CTRL\"], [\"caps lock\", \"CAPS_LOCK\"], [\"tab\", \"TAB\"], [\"esc\", \"ESC\"]]), \"KEY\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(80);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['press_key'] = function (block) {\n  var key = block.getFieldValue('KEY');\n  var code = {\n    cmd: \"press_key\",\n    pointer: key\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['wait_for'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"wait for\").appendField(new Blockly.FieldTextInput(\"1\"), \"SECONDS\").appendField(\"seconds\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(80);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['wait_for'] = function (block) {\n  var number_sec = block.getFieldValue('SECONDS');\n  var code = {\n    cmd: \"wait_for\",\n    pointer: number_sec\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.Blocks['scroll'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"scroll\").appendField(new Blockly.FieldDropdown([[\"up\", \"UP\"], [\"down\", \"DOWN\"]]), \"OP\");\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(80);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['scroll'] = function (block) {\n  var op = block.getFieldValue('OP');\n  var code = {\n    cmd: \"scroll\",\n    pointer: op\n  };\n  return JSON.stringify(code) + \",\";\n};\n/* Logic */\n\n\nBlockly.JavaScript[\"controls_if\"] = function (block) {\n  var code = [];\n\n  var _iterator = _createForOfIteratorHelper(block.inputList),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var input = _step.value;\n\n      if (input.name.startsWith(\"IF\")) {\n        var ifCond = Blockly.JavaScript.valueToCode(block, input.name, Blockly.JavaScript.ORDER_NONE) || \"false\";\n        code.push({\n          cond: ifCond\n        });\n      } else if (input.name.startsWith(\"DO\")) {\n        var ifBlock = Blockly.JavaScript.statementToCode(block, input.name);\n\n        if (ifBlock.endsWith(\",\")) {\n          ifBlock = ifBlock.slice(0, -1);\n        }\n\n        code[code.length - 1][\"do\"] = \"[\" + ifBlock + \"]\";\n      } else if (input.name === \"ELSE\") {\n        var elseBlock = Blockly.JavaScript.statementToCode(block, input.name);\n\n        if (elseBlock.endsWith(\",\")) {\n          elseBlock = elseBlock.slice(0, -1);\n        }\n\n        code.push({\n          \"else\": \"[\" + elseBlock + \"]\"\n        });\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return JSON.stringify({\n    cmd: \"controls_if\",\n    pointer: code\n  }) + \",\";\n};\n/* TODO: Change the default value from \"0\" to object */\n\n\nBlockly.JavaScript[\"logic_compare\"] = function (block) {\n  var op = {\n    EQ: \"==\",\n    NEQ: \"!=\",\n    LT: \"<\",\n    LTE: \"<=\",\n    GT: \">\",\n    GTE: \">=\"\n  }[block.getFieldValue(\"OP\")];\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value1 = Blockly.JavaScript.valueToCode(block, \"A\", order) || \"0\";\n  var value2 = Blockly.JavaScript.valueToCode(block, \"B\", order) || \"0\";\n  var code = {\n    op: op,\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"logic_compare\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"logic_operation\"] = function (block) {\n  var op = {\n    AND: \"&&\",\n    OR: \"||\"\n  }[block.getFieldValue(\"OP\")];\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value1 = Blockly.JavaScript.valueToCode(block, \"A\", order) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  var value2 = Blockly.JavaScript.valueToCode(block, \"B\", order) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  var code = {\n    op: op,\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"logic_operation\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"logic_negate\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"BOOL\", order) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  return [JSON.stringify({\n    cmd: \"logic_negate\",\n    pointer: value\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"logic_boolean\"] = function (block) {\n  var value = block.getFieldValue(\"BOOL\");\n\n  if (value === \"TRUE\") {\n    value = true;\n  } else {\n    value = false;\n  }\n\n  return [JSON.stringify({\n    cmd: \"logic_boolean\",\n    pointer: value\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"logic_null\"] = function (block) {\n  return [JSON.stringify({\n    cmd: \"logic_null\",\n    pointer: null\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"logic_ternary\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var cond = Blockly.JavaScript.valueToCode(block, \"IF\", order) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  var value1 = Blockly.JavaScript.valueToCode(block, \"THEN\", order) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var value2 = Blockly.JavaScript.valueToCode(block, \"ELSE\", order) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var code = {\n    op: \"?\",\n    cond: cond,\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"logic_ternary\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n/* Loops */\n\n\nBlockly.JavaScript[\"controls_repeat_ext\"] = function (block) {\n  var times = Blockly.JavaScript.valueToCode(block, \"TIMES\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var loopBlock = Blockly.JavaScript.statementToCode(block, \"DO\");\n\n  if (loopBlock.endsWith(\",\")) {\n    loopBlock = loopBlock.slice(0, -1);\n  }\n\n  var code = {\n    times: times,\n    loopBlock: \"[\" + loopBlock + \"]\"\n  };\n  return JSON.stringify({\n    cmd: \"controls_repeat_ext\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"controls_whileUntil\"] = function (block) {\n  var mode = block.getFieldValue(\"MODE\");\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"BOOL\", order) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  var loopBlock = Blockly.JavaScript.statementToCode(block, \"DO\");\n\n  if (loopBlock.endsWith(\",\")) {\n    loopBlock = loopBlock.slice(0, -1);\n  }\n\n  var code = {\n    cond: value,\n    value: value,\n    mode: mode,\n    loopBlock: \"[\" + loopBlock + \"]\"\n  };\n  return JSON.stringify({\n    cmd: \"controls_whileUntil\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"controls_for\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.VARIABLE_CATEGORY_NAME);\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var from = Blockly.JavaScript.valueToCode(block, \"FROM\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var to = Blockly.JavaScript.valueToCode(block, \"TO\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var step = Blockly.JavaScript.valueToCode(block, \"BY\", order) || {\n    cmd: \"math_number\",\n    pointer: 1\n  };\n  var loopBlock = Blockly.JavaScript.statementToCode(block, \"DO\");\n\n  if (loopBlock.endsWith(\",\")) {\n    loopBlock = loopBlock.slice(0, -1);\n  }\n\n  var code = {\n    variable: variable,\n    from: from,\n    to: to,\n    step: step,\n    loopBlock: \"[\" + loopBlock + \"]\"\n  };\n  return JSON.stringify({\n    cmd: \"controls_for\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"controls_forEach\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.VARIABLE_CATEGORY_NAME);\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var list = Blockly.JavaScript.valueToCode(block, \"LIST\", order) || {\n    cmd: \"list_create_with\",\n    pointer: []\n  };\n  var loopBlock = Blockly.JavaScript.statementToCode(block, \"DO\");\n\n  if (loopBlock.endsWith(\",\")) {\n    loopBlock = loopBlock.slice(0, -1);\n  }\n\n  var code = {\n    variable: variable,\n    list: list,\n    loopBlock: \"[\" + loopBlock + \"]\"\n  };\n  return JSON.stringify({\n    cmd: \"controls_forEach\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"controls_flow_statements\"] = function (block) {\n  var flow = block.getFieldValue(\"FLOW\");\n  var code = {\n    flow: flow\n  };\n  return JSON.stringify({\n    cmd: \"controls_flow_statements\",\n    pointer: code\n  }) + \",\";\n};\n/* Math */\n\n\nBlockly.JavaScript[\"math_number\"] = function (block) {\n  return [JSON.stringify({\n    cmd: \"math_number\",\n    pointer: block.getFieldValue(\"NUM\")\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_arithmetic\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value1 = Blockly.JavaScript.valueToCode(block, \"A\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var value2 = Blockly.JavaScript.valueToCode(block, \"B\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var op = block.getFieldValue(\"OP\");\n  var code = {\n    op: op,\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"math_arithmetic\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_single\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"NUM\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var op = block.getFieldValue(\"OP\");\n  var code = {\n    op: op,\n    value: value\n  };\n  return [JSON.stringify({\n    cmd: \"math_single\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_trig\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"NUM\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var op = block.getFieldValue(\"OP\");\n  var code = {\n    op: op,\n    value: value\n  };\n  return [JSON.stringify({\n    cmd: \"math_trig\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_constant\"] = function (block) {\n  var code = {\n    \"const\": block.getFieldValue(\"CONSTANT\")\n  };\n  return [JSON.stringify({\n    cmd: \"math_constant\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_number_property\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value1 = Blockly.JavaScript.valueToCode(block, \"NUMBER_TO_CHECK\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var value2 = Blockly.JavaScript.valueToCode(block, \"DIVISOR\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var property = block.getFieldValue(\"PROPERTY\");\n  var code = {\n    property: property,\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"math_number_property\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['convert_text_to_number'] = {\n  init: function init() {\n    this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField(\"convert\");\n    this.appendDummyInput().appendField(\"to number\");\n    this.setOutput(true, \"Number\");\n    this.setColour(230);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['convert_text_to_number'] = function (block) {\n  var text = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"convert_text_to_number\",\n    pointer: text\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_round\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var op = block.getFieldValue(\"OP\");\n  var value = Blockly.JavaScript.valueToCode(block, \"NUM\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    value: value,\n    op: op\n  };\n  return [JSON.stringify({\n    cmd: \"math_round\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_on_list\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var list = Blockly.JavaScript.valueToCode(block, \"LIST\", order) || {\n    cmd: \"list_create_with\",\n    pointer: []\n  };\n  var op = block.getFieldValue(\"OP\");\n  var code = {\n    op: op,\n    list: list\n  };\n  return [JSON.stringify({\n    cmd: \"math_on_list\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_modulo\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value1 = Blockly.JavaScript.valueToCode(block, \"DIVIDEND\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var value2 = Blockly.JavaScript.valueToCode(block, \"DIVISOR\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    value1: value1,\n    value2: value2\n  };\n  return [JSON.stringify({\n    cmd: \"math_modulo\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_constrain\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var min = Blockly.JavaScript.valueToCode(block, \"LOW\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var max = Blockly.JavaScript.valueToCode(block, \"HIGH\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    value: value,\n    min: min,\n    max: max\n  };\n  return [JSON.stringify({\n    cmd: \"math_constrain\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_random_int\"] = function (block) {\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var min = Blockly.JavaScript.valueToCode(block, \"FROM\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var max = Blockly.JavaScript.valueToCode(block, \"TO\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    min: min,\n    max: max\n  };\n  return [JSON.stringify({\n    cmd: \"math_random_int\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"math_random_float\"] = function (block) {\n  return [JSON.stringify({\n    cmd: \"math_random_float\"\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n/* Text */\n\n\nBlockly.JavaScript[\"text\"] = function (block) {\n  return [JSON.stringify({\n    cmd: \"text\",\n    pointer: block.getFieldValue(\"TEXT\")\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_join\"] = function (block) {\n  var list = [];\n\n  for (var i = 0; i < block.inputList.length; i++) {\n    var value = Blockly.JavaScript.valueToCode(block, \"ADD\" + i, Blockly.JavaScript.ORDER_NONE) || {\n      cmd: \"text\",\n      pointer: \"\"\n    };\n    list.push(value);\n  }\n\n  return [JSON.stringify({\n    cmd: \"text_join\",\n    pointer: list\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_append\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.Variables.NAME_TYPE);\n  var text = Blockly.JavaScript.valueToCode(block, \"TEXT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_append\",\n    pointer: {\n      variable: variable,\n      text: text\n    }\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nBlockly.JavaScript[\"text_length\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_length\",\n    pointer: value\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_isEmpty\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_isEmpty\",\n    pointer: value\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['convert_to_text'] = {\n  init: function init() {\n    this.appendValueInput(\"VALUE\").setCheck(null).appendField(\"convert\");\n    this.appendDummyInput().appendField(\"to text\");\n    this.setOutput(true, \"String\");\n    this.setColour(160);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['convert_to_text'] = function (block) {\n  var VALUE = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"convert_to_text\",\n    pointer: VALUE\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_indexOf\"] = function (block) {\n  var indexOf = block.getFieldValue(\"END\");\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var substring = Blockly.JavaScript.valueToCode(block, \"FIND\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_indexOf\",\n    pointer: {\n      value: value,\n      substring: substring,\n      indexOf: indexOf\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_charAt\"] = function (block) {\n  var action = block.getFieldValue(\"WHERE\") || \"FROM_START\";\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var at = Blockly.JavaScript.valueToCode(block, \"AT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    cmd: \"text_charAt\",\n    pointer: {\n      value: value,\n      at: at,\n      action: action\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_getSubstring\"] = function (block) {\n  var action1 = block.getFieldValue(\"WHERE1\") || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var action2 = block.getFieldValue(\"WHERE2\") || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var value = Blockly.JavaScript.valueToCode(block, \"STRING\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var at1 = Blockly.JavaScript.valueToCode(block, \"AT1\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var at2 = Blockly.JavaScript.valueToCode(block, \"AT2\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    cmd: \"text_getSubstring\",\n    pointer: {\n      value: value,\n      at1: at1,\n      at2: at2,\n      action1: action1,\n      action2: action2\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_changeCase\"] = function (block) {\n  var action = block.getFieldValue(\"CASE\");\n  var value = Blockly.JavaScript.valueToCode(block, \"TEXT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_changeCase\",\n    pointer: {\n      value: value,\n      action: action\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_trim\"] = function (block) {\n  var action = block.getFieldValue(\"MODE\");\n  var value = Blockly.JavaScript.valueToCode(block, \"TEXT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_trim\",\n    pointer: {\n      value: value,\n      action: action\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"text_print\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"TEXT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \"\"\n  };\n  var code = {\n    cmd: \"text_print\",\n    pointer: value\n  };\n  return JSON.stringify(code) + \",\";\n}; // Blockly.JavaScript[\"text_prompt_ext\"] = function(block) {\n//     let type = block.getFieldValue(\"TYPE\")\n//     let label = Blockly.JavaScript.valueToCode(block, \"TEXT\", Blockly.JavaScript.ORDER_NONE) || { cmd: \"text\", pointer: \"\" }\n//     let code = { cmd: \"text_prompt_ext\", pointer: { type: type, label: label } }\n//     return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE]\n// }\n\n\nBlockly.Blocks['prompt'] = {\n  init: function init() {\n    this.appendDummyInput().appendField(\"prompt\");\n    this.appendValueInput(\"VALUE\").setCheck(null).appendField(\"with value\");\n    this.appendValueInput(\"MESSAGE\").setCheck(null).appendField(\"with message\");\n    this.setInputsInline(false);\n    this.setOutput(true, \"String\");\n    this.setColour(160);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['prompt'] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE);\n  var message = Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_NONE);\n  var code = {\n    cmd: \"prompt\",\n    pointer: {\n      value: value,\n      message: message\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n/* Lists */\n\n\nBlockly.JavaScript[\"lists_create_with\"] = function (block) {\n  var items = [];\n\n  for (var i = 0; i < block.itemCount_; i++) {\n    var item = Blockly.JavaScript.valueToCode(block, \"ADD\" + i, Blockly.JavaScript.ORDER_NONE) || {\n      cmd: \"logic_null\",\n      pointer: null\n    };\n    items.push(item);\n  }\n\n  return [JSON.stringify({\n    cmd: \"lists_create_with\",\n    pointer: items\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['lists_chooser'] = {\n  init: function init() {\n    this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField(\"prompt options\");\n    this.setOutput(true, \"Number\");\n    this.setColour(260);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['lists_chooser'] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var code = {\n    cmd: \"lists_chooser\",\n    pointer: list\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_repeat\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"ITEM\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var times = Blockly.JavaScript.valueToCode(block, \"NUM\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  return [JSON.stringify({\n    cmd: \"lists_repeat\",\n    pointer: {\n      value: value,\n      times: times\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_length\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  return [JSON.stringify({\n    cmd: \"lists_length\",\n    pointer: value\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_isEmpty\"] = function (block) {\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  return [JSON.stringify({\n    cmd: \"lists_isEmpty\",\n    pointer: value\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_indexOf\"] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var item = Blockly.JavaScript.valueToCode(block, \"FIND\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var indexOf = block.getFieldValue(\"END\");\n  return [JSON.stringify({\n    cmd: \"lists_indexOf\",\n    pointer: {\n      list: list,\n      item: item,\n      indexOf: indexOf\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_getIndex\"] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var mode = block.getFieldValue(\"MODE\");\n  var where = block.getFieldValue(\"WHERE\");\n  var index = Blockly.JavaScript.valueToCode(block, \"AT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 1\n  };\n\n  if (mode === \"REMOVE\") {\n    return JSON.stringify({\n      cmd: \"lists_getIndex\",\n      pointer: {\n        list: list,\n        index: index,\n        mode: mode,\n        where: where\n      }\n    }) + \",\";\n  }\n\n  return [JSON.stringify({\n    cmd: \"lists_getIndex\",\n    pointer: {\n      list: list,\n      index: index,\n      mode: mode,\n      where: where\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_setIndex\"] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, \"LIST\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var value = Blockly.JavaScript.valueToCode(block, \"TO\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var mode = block.getFieldValue(\"MODE\");\n  var where = block.getFieldValue(\"WHERE\");\n  var index = Blockly.JavaScript.valueToCode(block, \"AT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 1\n  };\n  return JSON.stringify({\n    cmd: \"lists_setIndex\",\n    pointer: {\n      list: list,\n      value: value,\n      index: index,\n      mode: mode,\n      where: where\n    }\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"lists_getSublist\"] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, \"LIST\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var where1 = block.getFieldValue(\"WHERE1\");\n  var where2 = block.getFieldValue(\"WHERE2\");\n  var at1 = Blockly.JavaScript.valueToCode(block, \"AT1\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 1\n  };\n  var at2 = Blockly.JavaScript.valueToCode(block, \"AT2\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"math_number\",\n    pointer: 1\n  };\n  return [JSON.stringify({\n    cmd: \"lists_getSublist\",\n    pointer: {\n      list: list,\n      where1: where1,\n      where2: where2,\n      at1: at1,\n      at2: at2\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_split\"] = function (block) {\n  var delim = Blockly.JavaScript.valueToCode(block, \"DELIM\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"text\",\n    pointer: \",\"\n  };\n  var mode = block.getFieldValue(\"MODE\");\n  var value = Blockly.JavaScript.valueToCode(block, \"INPUT\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  return [JSON.stringify({\n    cmd: \"lists_split\",\n    pointer: {\n      value: value,\n      mode: mode,\n      delim: delim\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.Blocks['lists_regex'] = {\n  init: function init() {\n    this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField(\"in\");\n    this.appendDummyInput().appendField(\"find all\").appendField(new Blockly.FieldTextInput(\"[a-z]\"), \"REGEX\");\n    this.setInputsInline(true);\n    this.setOutput(true, \"Array\");\n    this.setColour(260);\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['lists_regex'] = function (block) {\n  var text = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE);\n  var regex = block.getFieldValue('REGEX');\n  var code = {\n    cmd: \"lists_regex\",\n    pointer: {\n      text: text,\n      regex: regex\n    }\n  };\n  return [JSON.stringify(code), Blockly.JavaScript.ORDER_NONE];\n};\n\nBlockly.JavaScript[\"lists_sort\"] = function (block) {\n  var list = Blockly.JavaScript.valueToCode(block, \"LIST\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"lists_create_with\",\n    pointer: []\n  };\n  var direction = block.getFieldValue(\"DIRECTION\");\n  var type = block.getFieldValue(\"TYPE\");\n  return [JSON.stringify({\n    cmd: \"lists_sort\",\n    pointer: {\n      list: list,\n      direction: direction,\n      type: type\n    }\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n/* Variable */\n\n\nBlockly.JavaScript[\"variables_set\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.VARIABLE_CATEGORY_NAME);\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", order) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var code = {\n    variable: variable,\n    value: value\n  };\n  return JSON.stringify({\n    cmd: \"variables_set\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"math_change\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.VARIABLE_CATEGORY_NAME);\n  var order = Blockly.JavaScript.ORDER_NONE;\n  var value = Blockly.JavaScript.valueToCode(block, \"DELTA\", order) || {\n    cmd: \"math_number\",\n    pointer: 0\n  };\n  var code = {\n    variable: variable,\n    value: value\n  };\n  return JSON.stringify({\n    cmd: \"math_change\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"variables_get\"] = function (block) {\n  var variable = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"VAR\"), Blockly.VARIABLE_CATEGORY_NAME);\n  return [JSON.stringify({\n    cmd: \"variables_get\",\n    pointer: variable\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n/* Functions */\n\n\nBlockly.JavaScript[\"procedures_defnoreturn\"] = function (block) {\n  var name = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"NAME\"), Blockly.PROCEDURE_CATEGORY_NAME);\n  var functionBlock = Blockly.JavaScript.statementToCode(block, \"STACK\");\n\n  if (functionBlock.endsWith(\",\")) {\n    functionBlock = functionBlock.slice(0, -1);\n  }\n\n  var args = [];\n\n  for (var i = 0; i < block.arguments_.length; i++) {\n    args[i] = Blockly.JavaScript.variableDB_.getName(block.arguments_[i], Blockly.VARIABLE_CATEGORY_NAME);\n  }\n\n  var code = {\n    name: name,\n    args: args,\n    functionBlock: \"[\" + functionBlock + \"]\"\n  };\n  return JSON.stringify({\n    cmd: \"procedures_defnoreturn\",\n    pointer: code\n  }) + \",\";\n}; // console.log(String(Blockly.JavaScript.procedures_callreturn))\n\n\nBlockly.JavaScript[\"procedures_callnoreturn\"] = function (block) {\n  var name = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"NAME\"), Blockly.PROCEDURE_CATEGORY_NAME);\n  var args = {};\n\n  for (var i = 0; i < block.argumentVarModels_.length; i++) {\n    var variable = Blockly.JavaScript.variableDB_.getName(block.argumentVarModels_[i].id_, Blockly.VARIABLE_CATEGORY_NAME);\n    args[variable] = Blockly.JavaScript.valueToCode(block, \"ARG\" + i, Blockly.JavaScript.ORDER_NONE) || {\n      cmd: \"logic_null\",\n      pointer: null\n    };\n  }\n\n  var code = {\n    name: name,\n    args: args\n  };\n  return JSON.stringify({\n    cmd: \"procedures_callnoreturn\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"procedures_ifreturn\"] = function (block) {\n  var condition = Blockly.JavaScript.valueToCode(block, \"CONDITION\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_boolean\",\n    pointer: false\n  };\n  var value = Blockly.JavaScript.valueToCode(block, \"VALUE\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var code = {\n    condition: condition,\n    value: value\n  };\n  return JSON.stringify({\n    cmd: \"procedures_ifreturn\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"procedures_defreturn\"] = function (block) {\n  var name = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"NAME\"), Blockly.PROCEDURE_CATEGORY_NAME);\n  var ret = Blockly.JavaScript.valueToCode(block, \"RETURN\", Blockly.JavaScript.ORDER_NONE) || {\n    cmd: \"logic_null\",\n    pointer: null\n  };\n  var functionBlock = Blockly.JavaScript.statementToCode(block, \"STACK\");\n\n  if (functionBlock.endsWith(\",\")) {\n    functionBlock = functionBlock.slice(0, -1);\n  }\n\n  var args = [];\n\n  for (var i = 0; i < block.arguments_.length; i++) {\n    args[i] = Blockly.JavaScript.variableDB_.getName(block.arguments_[i], Blockly.VARIABLE_CATEGORY_NAME);\n  }\n\n  var code = {\n    name: name,\n    args: args,\n    functionBlock: \"[\" + functionBlock + \"]\",\n    ret: ret\n  };\n  return JSON.stringify({\n    cmd: \"procedures_defreturn\",\n    pointer: code\n  }) + \",\";\n};\n\nBlockly.JavaScript[\"procedures_callreturn\"] = function (block) {\n  var arg_names = block.arguments_;\n  var name = Blockly.JavaScript.variableDB_.getName(block.getFieldValue(\"NAME\"), Blockly.PROCEDURE_CATEGORY_NAME);\n  var args = {};\n\n  for (var i = 0; i < arg_names.length; i++) {\n    args[arg_names[i]] = Blockly.JavaScript.valueToCode(block, \"ARG\" + i, Blockly.JavaScript.ORDER_NONE) || {\n      cmd: \"logic_null\",\n      pointer: null\n    };\n  }\n\n  var code = {\n    name: name,\n    args: args\n  };\n  return [JSON.stringify({\n    cmd: \"procedures_callreturn\",\n    pointer: code\n  }), Blockly.JavaScript.ORDER_NONE];\n};\n/* Utils */\n\n\nBlockly.Blocks['utils_tryCatch'] = {\n  init: function init() {\n    this.appendStatementInput(\"TRY\").setCheck(null).appendField(\"try\");\n    this.appendStatementInput(\"CATCH\").setCheck(null).appendField(\"catch\");\n    this.setInputsInline(false);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(\"#e67e22\");\n    this.setTooltip(\"\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['utils_tryCatch'] = function (block) {\n  var tryBlock = Blockly.JavaScript.statementToCode(block, 'TRY');\n  var catchBlock = Blockly.JavaScript.statementToCode(block, 'CATCH');\n\n  if (tryBlock.endsWith(\",\")) {\n    tryBlock = tryBlock.slice(0, -1);\n  }\n\n  if (catchBlock.endsWith(\",\")) {\n    catchBlock = catchBlock.slice(0, -1);\n  }\n\n  var code = {\n    cmd: \"utils_tryCatch\",\n    pointer: {\n      \"try\": \"[\" + tryBlock + \"]\",\n      \"catch\": \"[\" + catchBlock + \"]\"\n    }\n  };\n  return JSON.stringify(code) + \",\";\n};\n\nwindow.Gumify = {};\nBlockly.HSV_SATURATION = 1.0; // Blockly.HSV_VALUE = 0.4\n\nBlockly.Scrollbar.scrollbarThickness = 10;\n\ntry {\n  window.Gumify.stack = JSON.parse(localStorage.getItem(\"variableStack\"));\n} catch (e) {\n  window.Gumify.stack = {};\n}\n\nwindow.Gumify.lastBlockId = null;\n\nwindow.getTextColor = function () {\n  if (localStorage.getItem(\"isDark\") === \"true\") {\n    return \"#fff\";\n  }\n\n  return \"#31302e\";\n};\n\nvar darkTheme = Blockly.Theme.defineTheme('PiperDarkTheme', {\n  base: Blockly.Themes.Classic,\n  componentStyles: {\n    workspaceBackgroundColour: \"#31302e\",\n    toolboxBackgroundColour: \"#3c3a38\",\n    toolboxForegroundColour: \"#eee\",\n    flyoutBackgroundColour: \"rgba(60, 58, 56, 0.8)\"\n  },\n  fontStyle: {\n    size: 12\n  }\n});\nvar lightTheme = Blockly.Theme.defineTheme('PiperLightTheme', {\n  base: Blockly.Themes.Classic,\n  componentStyles: {\n    workspaceBackgroundColour: \"#fff\",\n    toolboxBackgroundColour: \"#eee\",\n    toolboxForegroundColour: \"#333\",\n    flyoutBackgroundColour: \"rgba(238, 238, 238, 0.8)\"\n  },\n  fontStyle: {\n    size: 12\n  }\n});\n\nfunction getTheme() {\n  if (localStorage.getItem(\"isDark\") === \"true\") {\n    return darkTheme;\n  }\n\n  return lightTheme;\n}\n\nwindow.workspace = Blockly.inject('blockly-div', {\n  media: '/piper/static/media/',\n  toolbox: BLOCKLY_TOOLBOX_XML['standard'],\n  zoom: {\n    controls: true\n  },\n  move: {\n    drag: true,\n    wheel: false\n  },\n  comments: false,\n  theme: getTheme()\n});\n\nwindow.switchTheme = function (isDark) {\n  localStorage.setItem(\"xml\", Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(workspace)));\n  localStorage.setItem(\"isDark\", isDark);\n  location.reload();\n};\n\nBlockly.JavaScript.init(workspace);\n\nBlockly.JavaScript.workspaceToCode = function (workspace) {\n  var code = \"[\";\n  var blocks = workspace.getTopBlocks(true);\n\n  for (var i = 0, block; block = blocks[i]; i++) {\n    if (block.disabled) continue;\n    var statement = Blockly.JavaScript.blockToCode(block);\n\n    if (statement instanceof Array) {\n      statement = statement[0];\n    }\n\n    if (statement.endsWith(',')) {\n      statement = statement.slice(0, -1);\n    }\n\n    code += statement + ',';\n  }\n\n  if (code.endsWith(',')) {\n    code = code.slice(0, -1);\n  }\n\n  code += \"]\";\n  return code;\n}; // setTimeout(() => {\n//     try {\n//         window.Gumify.stack = JSON.parse(localStorage.getItem(\"variableStack\"))\n//     } catch(e) {\n//         window.Gumify.stack = {}\n//     }\n//     try {\n//         Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(localStorage.getItem(\"xml\")), workspace)\n//         if (!window.isExtension) {\n//             localStorage.setItem(\"xml\", null)\n//         }\n//     } catch(e) {}\n// }, 500)\n\n\nvar isToolbarToggleVisible = localStorage.getItem(\"isToolbarToggleVisible\") === \"true\";\nworkspace.addChangeListener(function (e) {\n  if (window.Gumify.stack === null) {\n    window.Gumify.stack = {};\n  }\n\n  if (e.element === \"dragStop\" || e.element === \"dragStart\") {\n    updateToolbarIconsColor();\n  }\n\n  if (e.element === \"selected\" && e.group === \"\" && e.oldValue !== null && e.newValue !== null) {\n    try {\n      var block = workspace.getBlockById(e.oldValue);\n\n      if (block.type === \"html_elements\" && Gumify.stack[e.newValue] === undefined) {\n        Gumify.stack[e.newValue] = Gumify.stack[e.oldValue];\n      }\n    } catch (e) {}\n  }\n\n  if (e.element === \"dragStop\" && Gumify.stack[e.blockId] === undefined) {\n    try {\n      var _block = workspace.getBlockById(e.blockId);\n\n      Gumify.lastBlockId = _block.id;\n\n      if (_block.type === \"html_elements\") {\n        Gumify.stack[e.blockId] = \"\";\n\n        if (window.Native) {\n          window.Native.openBrowser();\n        } else {\n          if (window.onHtmlElementSelector) window.onHtmlElementSelector();\n        }\n      }\n    } catch (e) {}\n  }\n\n  if (e.element === \"dragStart\" && isToolbarToggleVisible) {\n    workspace.getToolbox().width = 0;\n    workspace.deleteAreaToolbox_.right = 0;\n    document.querySelector(\".blocklyToolboxDiv\").style.display = \"none\";\n    $(\".blocklyTreeHandle\").css(\"left\", \"0px\");\n  }\n});\nvar genBtn = document.querySelector(\"#gen\");\n\nif (genBtn !== null) {\n  genBtn.addEventListener(\"click\", function () {\n    var code = Blockly.JavaScript.workspaceToCode(workspace);\n    console.log(code);\n    document.querySelector(\"#code\").textContent = code;\n    localStorage.setItem(\"xml\", Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(workspace)));\n  });\n}\n\nGumify.generate = function () {\n  var code = JSON.parse(Blockly.JavaScript.workspaceToCode(workspace));\n  var xml = Blockly.Xml.workspaceToDom(workspace);\n  var stack = Gumify.stack;\n\n  for (var key in stack) {\n    if (workspace.getBlockById(key) === null) {\n      delete stack[key];\n    }\n  }\n\n  return {\n    code: code,\n    xml: Blockly.Xml.domToText(xml),\n    stack: stack\n  };\n};\n\nGumify.compile = function () {\n  var code = Blockly.JavaScript.workspaceToCode(workspace);\n  return JSON.parse(code);\n};\n\nGumify.updateLastBlock = function (value) {\n  if (value === null || value === \"null\" || value === \"\") {\n    var block = workspace.getBlockById(Gumify.lastBlockId);\n    block.dispose();\n    return null;\n  }\n\n  var selector = atob(value);\n  Gumify.stack[Gumify.lastBlockId] = selector;\n  return selector;\n};\n\nGumify.updateWorkspace = function (xml, stack) {\n  var xmlFinal = decodeURIComponent(escape(window.atob(xml)));\n  var stackFinal = decodeURIComponent(escape(window.atob(stack)));\n  Gumify.stack = JSON.parse(stackFinal);\n  Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(xmlFinal), workspace);\n};\n\nfunction updateToolbarIconsColor() {\n  var isVisible = false;\n  $(\".blocklyFlyout\").each(function (el) {\n    if (!isVisible && window.getComputedStyle(el).display === \"block\") {\n      isVisible = true;\n    }\n  });\n\n  if (!isVisible) {\n    $(\".blocklyTreeRow .material-icons\").css(\"color\", getTextColor());\n  }\n}\n\n$(\".blocklyTreeSeparator\").css({\n  borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\",\n  borderLeft: \"none\"\n});\ndocument.addEventListener(\"click\", function (e) {\n  updateToolbarIconsColor();\n}, false);\n$(\".blocklyTreeRow .blocklyTreeIcon\").each(function (el) {\n  var parent = $(el).parent();\n  var nodes = parent.css(\"border-left\").split(\"rgb\"); // let color = \"rgb\" + nodes[nodes.length - 1]\n\n  var label = parent.find(\".blocklyTreeLabel\").css(\"font-size\", \"0.8rem\").text().trim();\n  parent.css({\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    height: \"auto\",\n    padding: \"10px 0px\",\n    borderLeft: \"none\",\n    transition: \"all 0.2s ease-in-out\"\n  }).find(\".blocklyTreeIcon\").css({\n    height: \"auto\",\n    width: \"auto\"\n  });\n  var icon = document.createElement(\"i\");\n  $(icon).addClass(\"material-icons\");\n  parent.on(\"click\", function () {\n    setTimeout(function () {\n      $(\".blocklyTreeRow .material-icons\").css(\"color\", getTextColor());\n      var width = $(\".blocklyToolboxDiv\").innerWidth();\n      icon.style.color = \"white\";\n      $(\".blocklyFlyout\").css(\"transform\", \"translate(\" + width + \"px, 0px)\");\n      updateToolbarIconsColor();\n    }, 1);\n  });\n\n  if (label === \"Browser\") {\n    icon.textContent = \"public\";\n  } else if (label === \"HTML\") {\n    icon.textContent = \"code\";\n  } else if (label === \"Events\") {\n    icon.textContent = \"event\";\n  } else if (label === \"File I/O\") {\n    icon.textContent = \"folder\";\n  } else if (label === \"Logic\") {\n    icon.textContent = \"account_tree\";\n  } else if (label === \"Loops\") {\n    icon.textContent = \"repeat\";\n  } else if (label === \"Math\") {\n    icon.textContent = \"calculate\";\n  } else if (label === \"Text\") {\n    icon.textContent = \"text_fields\";\n  } else if (label === \"Lists\") {\n    icon.textContent = \"list\";\n  } else if (label === \"Variables\") {\n    icon.textContent = \"inventory\";\n  } else if (label === \"Functions\") {\n    icon.textContent = \"functions\";\n  } else if (label === \"Utils\") {\n    icon.textContent = \"settings\";\n  }\n\n  parent.prepend(icon);\n  parent.find(\".blocklyTreeIcon\").remove();\n});\n\nfunction handleColor() {\n  if (localStorage.getItem(\"isDark\") === \"true\") {\n    return \"#3c3a38\";\n  }\n\n  return \"#eee\";\n}\n\nif (localStorage.getItem(\"isToolbarToggleVisible\") === \"true\") {\n  setTimeout(function () {\n    var handle = $(document.createElement(\"div\"));\n    handle.addClass(\"blocklyTreeHandle\");\n    var bar1 = $(document.createElement(\"span\"));\n    bar1.addClass(\"blocklyTreeBar1\").css(\"background-color\", getTextColor());\n    var bar2 = $(document.createElement(\"span\"));\n    bar2.addClass(\"blocklyTreeBar2\").css(\"background-color\", getTextColor());\n    var bar3 = $(document.createElement(\"span\"));\n    bar3.addClass(\"blocklyTreeBar3\").css(\"background-color\", getTextColor());\n    handle.append(bar1);\n    handle.append(bar2);\n    handle.append(bar3);\n    $(\"#blockly-div\").append(handle);\n    var toolboxWidth = workspace.getToolbox().width;\n    workspace.getToolbox().width = 0;\n    workspace.deleteAreaToolbox_.right = 0;\n    document.querySelector(\".blocklyToolboxDiv\").style.display = \"none\";\n    handle.css(\"left\", \"0px\");\n    handle.css({\n      borderRadius: \"0px 10px 10px 0px\",\n      backgroundColor: handleColor(),\n      left: document.querySelector(\".blocklyToolboxDiv\").offsetWidth + \"px\"\n    }).on(\"click\", function (e) {\n      // workspace.getToolbox().width === 0\n      if ($(\".blocklyToolboxDiv\").css(\"display\") === \"none\") {\n        // workspace.getToolbox().width = toolboxWidth;\n        document.querySelector(\".blocklyToolboxDiv\").style.display = \"block\";\n        handle.css(\"left\", document.querySelector(\".blocklyToolboxDiv\").offsetWidth + \"px\");\n      } else {\n        workspace.getToolbox().width = 0;\n        workspace.deleteAreaToolbox_.right = 0;\n        document.querySelector(\".blocklyToolboxDiv\").style.display = \"none\";\n        handle.css(\"left\", \"0px\");\n      }\n    });\n  }, 300);\n} // $(\".blocklyTrash\").css({\n// \ttransform: \"translate(\" + (window.innerWidth - 80) + \"px, 80px)\",\n// })"],"names":["_createForOfIteratorHelper","o","allowArrayLike","i","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","s","F","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","BLOCKLY_TOOLBOX_XML","create","Blockly","Blocks","init","this","appendValueInput","setCheck","appendField","setPreviousStatement","setNextStatement","setColour","setTooltip","setHelpUrl","JavaScript","block","url","valueToCode","ORDER_NONE","JSON","stringify","cmd","pointer","appendDummyInput","FieldDropdown","op","getFieldValue","agent","script","index","setOutput","code","parse","Gumify","stack","id","FieldTextInput","selector","attr_name","elements","attr","setInputsInline","key","number_sec","_step","_iterator","inputList","ifCond","ifBlock","elseBlock","input","startsWith","push","cond","statementToCode","endsWith","else","EQ","NEQ","LT","LTE","GT","GTE","order","value1","value2","AND","OR","times","loopBlock","mode","variable","variableDB_","getName","VARIABLE_CATEGORY_NAME","to","list","flow","const","property","text","min","max","Variables","NAME_TYPE","VALUE","indexOf","substring","action","at","action1","action2","at1","at2","message","items","itemCount_","item","where","where1","where2","delim","regex","direction","type","PROCEDURE_CATEGORY_NAME","functionBlock","args","arguments_","argumentVarModels_","id_","condition","ret","arg_names","appendStatementInput","tryBlock","catchBlock","try","catch","window","HSV_SATURATION","Scrollbar","scrollbarThickness","localStorage","getItem","lastBlockId","getTextColor","darkTheme","Theme","defineTheme","base","Themes","Classic","componentStyles","workspaceBackgroundColour","toolboxBackgroundColour","toolboxForegroundColour","flyoutBackgroundColour","fontStyle","size","lightTheme","getTheme","workspace","inject","media","toolbox","zoom","controls","move","drag","wheel","comments","theme","switchTheme","isDark","setItem","Xml","domToText","workspaceToDom","location","reload","workspaceToCode","statement","blocks","getTopBlocks","disabled","blockToCode","isToolbarToggleVisible","genBtn","addChangeListener","element","updateToolbarIconsColor","group","oldValue","newValue","getBlockById","undefined","blockId","_block","Native","openBrowser","onHtmlElementSelector","getToolbox","width","deleteAreaToolbox_","right","document","querySelector","style","display","$","css","isVisible","each","el","getComputedStyle","handleColor","addEventListener","console","log","textContent","generate","xml","compile","updateLastBlock","dispose","atob","updateWorkspace","xmlFinal","decodeURIComponent","escape","stackFinal","domToWorkspace","textToDom","borderBottom","borderLeft","parent","label","split","find","trim","icon","alignItems","flexDirection","justifyContent","height","padding","transition","createElement","addClass","on","setTimeout","innerWidth","color","prepend","remove","handle","bar1","bar2","bar3","append","borderRadius","backgroundColor","left","offsetWidth"],"mappings":"aAEA,SAASA,2BAA2BC,EAAGC,GAAkB,IAAwOC,EAApOC,EAAuB,oBAAXC,QAA0BJ,EAAEI,OAAOC,WAAaL,EAAE,cAAe,IAAKG,EAAI,CAAE,GAAIG,MAAMC,QAAQP,KAAOG,EAAKK,4BAA4BR,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAES,OAA2E,OAAhDN,IAAIH,EAAIG,GAAQD,EAAI,EAAmC,CAAEQ,EAA9BC,EAAI,aAAgCC,EAAG,WAAe,OAAIV,GAAKF,EAAES,OAAe,CAAEI,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOd,EAAEE,OAAWa,EAAG,SAAWC,GAAM,MAAMA,GAAOC,EAAGN,GAAO,MAAM,IAAIO,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAEX,EAAG,WAAeP,EAAKA,EAAGmB,KAAKtB,IAAOY,EAAG,WAAe,IAAIW,EAAOpB,EAAGqB,OAAsC,OAA9BJ,EAAmBG,EAAKV,KAAaU,GAASR,EAAG,SAAWU,GAAOJ,GAAS,EAAMF,EAAMM,GAAQR,EAAG,WAAe,IAAWG,GAAoC,MAAhBjB,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIkB,EAAQ,MAAMF,KAE/9B,SAASX,4BAA4BR,EAAG0B,GAAU,GAAK1B,EAAL,CAAgB,GAAiB,iBAANA,EAAgB,OAAO2B,kBAAkB3B,EAAG0B,GAAS,IAAId,EAAIgB,OAAOC,UAAUC,SAASR,KAAKtB,GAAG+B,MAAM,GAAI,GAAiE,MAAU,SAAlCnB,EAA3B,WAANA,GAAkBZ,EAAEgC,YAAiBhC,EAAEgC,YAAYC,KAAUrB,IAAqB,QAANA,EAAoBN,MAAM4B,KAAKlC,GAAc,cAANY,GAAqB,2CAA2CuB,KAAKvB,GAAWe,kBAAkB3B,EAAG0B,QAAzG,GAE7S,SAASC,kBAAkBS,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI3B,UAAQ4B,EAAMD,EAAI3B,QAAQ,IAAK,IAAIP,EAAI,EAAGoC,EAAO,IAAIhC,MAAM+B,GAAMnC,EAAImC,EAAKnC,IAAOoC,EAAKpC,GAAKkC,EAAIlC,GAAM,OAAOoC,EAEhL,IAAIC,oBAAsBA,qBAAuBX,OAAOY,OAAO,MAC/DD,oBAA8B,SAAI,kkVAQlCE,QAAQC,OAAsB,cAAI,CAChCC,KAAM,WACJC,KAAKC,iBAAiB,OAAOC,SAAS,UAAUC,YAAY,iBAC5DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,yBAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA0B,cAAI,SAAUC,GAC1CC,EAAMd,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,YAK1E,OAAOC,KAAKC,UAJD,CACTC,IAAK,gBACLC,QAASN,IAEmB,KAGhCd,QAAQC,OAA0B,kBAAI,CACpCC,KAAM,WACJC,KAAKC,iBAAiB,OAAOC,SAAS,UAAUC,YAAY,qBAC5DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,yCAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA8B,kBAAI,SAAUC,GAC9CC,EAAMd,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,YAK1E,OAAOC,KAAKC,UAJD,CACTC,IAAK,oBACLC,QAASN,IAEmB,KAGhCd,QAAQC,OAAuB,eAAI,CACjCC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,qBAAqBA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,UAAW,WAAY,CAAC,SAAU,YAAa,MAChJnB,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA2B,eAAI,SAAUC,GAC3CU,EAAKV,EAAMW,cAAc,MAK7B,OAAOP,KAAKC,UAJD,CACTC,IAAK,iBACLC,QAASG,IAEmB,KAGhCvB,QAAQC,OAA0B,kBAAI,CACpCC,KAAM,WACJC,KAAKC,iBAAiB,SAASC,SAAS,UAAUC,YAAY,qBAC9DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA8B,kBAAI,SAAUC,GAC9CY,EAAQzB,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAK9E,OAAOC,KAAKC,UAJD,CACTC,IAAK,oBACLC,QAASK,IAEmB,KAGhCzB,QAAQC,OAA2B,mBAAI,CACrCC,KAAM,WACJC,KAAKC,iBAAiB,UAAUC,SAAS,UAAUC,YAAY,sBAC/DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA+B,mBAAI,SAAUC,GAC/Ca,EAAS1B,QAAQY,WAAWG,YAAYF,EAAO,SAAUb,QAAQY,WAAWI,YAKhF,OAAOC,KAAKC,UAJD,CACTC,IAAK,qBACLC,QAASM,IAEmB,KAGhC1B,QAAQC,OAAgB,QAAI,CAC1BC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,kBACpCH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,iCAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAoB,QAAI,SAAUC,GAIxC,OAAOI,KAAKC,UAHD,CACTC,IAAK,YAEuB,KAGhCnB,QAAQC,OAAmB,WAAI,CAC7BC,KAAM,WACJC,KAAKC,iBAAiB,SAASC,SAAS,UAAUC,YAAY,iBAC9DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,kCAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAuB,WAAI,SAAUC,GACvCc,EAAQ3B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAK9E,OAAOC,KAAKC,UAJD,CACTC,IAAK,aACLC,QAASO,IAEmB,KAGhC3B,QAAQC,OAAkB,UAAI,CAC5BC,KAAM,WACJC,KAAKC,iBAAiB,SAASC,SAAS,UAAUC,YAAY,aAC9DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,8BAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAsB,UAAI,SAAUC,GACtCc,EAAQ3B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAK9E,OAAOC,KAAKC,UAJD,CACTC,IAAK,YACLC,QAASO,IAEmB,KAKhC3B,QAAQC,OAAsB,cAAI,CAChCC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,iBACpCH,KAAKyB,WAAU,EAAM,SACrBzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA0B,cAAI,SAAUC,GAC1CgB,EAAO,CACTV,IAAK,gBACLC,QAASH,KAAKa,MAAMC,OAAOC,MAAMnB,EAAMoB,MAEzC,MAAO,CAAChB,KAAKC,UAAUW,GAAO7B,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAkC,0BAAI,CAC5CC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,6BAA6BA,YAAY,IAAIN,QAAQkC,eAAe,WAAY,YACpH/B,KAAKyB,WAAU,EAAM,SACrBzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAsC,0BAAI,SAAUC,GACtDsB,EAAWtB,EAAMW,cAAc,YAKnC,MAAO,CAACP,KAAKC,UAJF,CACTC,IAAK,4BACLC,QAASe,IAEmBnC,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAqB,aAAI,CAC/BC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,aAAaA,YAAY,IAAIN,QAAQkC,eAAe,QAAS,aAAa5B,YAAY,MAAMA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,MAAO,OAAQ,CAAC,QAAS,SAAU,CAAC,OAAQ,UAAW,MAC3PnB,KAAKyB,WAAU,EAAM,CAAC,SAAU,UAChCzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIuB,EAAYvB,EAAMW,cAAc,aAChCD,EAAKV,EAAMW,cAAc,MACzBa,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,YASpF,MAAO,CAACC,KAAKC,UARF,CACTC,IAAK,eACLC,QAAS,CACPiB,SAAUA,EACVC,KAAMF,EACNb,GAAIA,KAGsBvB,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAgB,QAAI,CAC1BC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,WAAWA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,MAAO,OAAQ,CAAC,QAAS,SAAU,CAAC,OAAQ,UAAW,MAC1KnB,KAAKyB,WAAU,EAAM,CAAC,SAAU,UAChCzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAoB,QAAI,SAAUC,GACxC,IAAIwB,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,YAChFO,EAAKV,EAAMW,cAAc,MAQ7B,MAAO,CAACP,KAAKC,UAPF,CACTC,IAAK,UACLC,QAAS,CACPiB,SAAUA,EACVd,GAAIA,KAGsBvB,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAoB,YAAI,CAC9BC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,eAAeA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,MAAO,OAAQ,CAAC,QAAS,SAAU,CAAC,OAAQ,UAAW,MAC9KnB,KAAKyB,WAAU,EAAM,CAAC,SAAU,UAChCzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIwB,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,YAChFO,EAAKV,EAAMW,cAAc,MAQ7B,MAAO,CAACP,KAAKC,UAPF,CACTC,IAAK,cACLC,QAAS,CACPiB,SAAUA,EACVd,GAAIA,KAGsBvB,QAAQY,WAAWI,aAGnDhB,QAAQC,OAA0B,kBAAI,CACpCC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,YAChEH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA8B,kBAAI,SAAUC,GAC9CwB,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,YAKpF,OAAOC,KAAKC,UAJD,CACTC,IAAK,oBACLC,QAASiB,IAEmB,KAGhCrC,QAAQC,OAA8B,sBAAI,CACxCC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,MAChEH,KAAKkB,mBAAmBf,YAAY,UACpCH,KAAKoC,iBAAgB,GACrBpC,KAAKyB,WAAU,EAAM,WACrBzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAkC,sBAAI,SAAUC,GAClDwB,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,YAKpF,MAAO,CAACC,KAAKC,UAJF,CACTC,IAAK,wBACLC,QAASiB,IAEmBrC,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAoB,YAAI,CAC9BC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,uBACpCH,KAAKyB,WAAU,EAAM,UACrBzB,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAwB,YAAI,SAAUC,GAI5C,MAAO,CAACI,KAAKC,UAHF,CACTC,IAAK,gBAEuBnB,QAAQY,WAAWI,aAKnDhB,QAAQC,OAAc,MAAI,CACxBC,KAAM,WACJC,KAAKC,iBAAiB,YAAYC,SAAS,SAASC,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,OAAQ,QAAS,CAAC,aAAc,eAAgB,MAAMhB,YAAY,gBAC9JH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAkB,MAAI,SAAUC,GACtC,IAAIU,EAAKV,EAAMW,cAAc,MACzBa,EAAWrC,QAAQY,WAAWG,YAAYF,EAAO,WAAYb,QAAQY,WAAWI,aAAe,GAQnG,OAAOC,KAAKC,UAPD,CACTC,IAAK,QACLC,QAAS,CACPiB,SAAUA,EACVd,GAAIA,KAGsB,KAGhCvB,QAAQC,OAAa,KAAI,CACvBC,KAAM,WACJC,KAAKC,iBAAiB,SAASC,SAAS,MAAMC,YAAY,QAC1DH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAiB,KAAI,SAAUC,GACjCxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAK9E,OAAOC,KAAKC,UAJD,CACTC,IAAK,OACLC,QAAS/C,IAEmB,KAGhC2B,QAAQC,OAAkB,UAAI,CAC5BC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,aAAaA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,QAAS,SAAU,CAAC,QAAS,SAAU,CAAC,OAAQ,QAAS,CAAC,YAAa,aAAc,CAAC,MAAO,OAAQ,CAAC,MAAO,SAAU,OAChNnB,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAsB,UAAI,SAAUC,GACtC2B,EAAM3B,EAAMW,cAAc,OAK9B,OAAOP,KAAKC,UAJD,CACTC,IAAK,YACLC,QAASoB,IAEmB,KAGhCxC,QAAQC,OAAiB,SAAI,CAC3BC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,YAAYA,YAAY,IAAIN,QAAQkC,eAAe,KAAM,WAAW5B,YAAY,WACpHH,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAqB,SAAI,SAAUC,GACrC4B,EAAa5B,EAAMW,cAAc,WAKrC,OAAOP,KAAKC,UAJD,CACTC,IAAK,WACLC,QAASqB,IAEmB,KAGhCzC,QAAQC,OAAe,OAAI,CACzBC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,UAAUA,YAAY,IAAIN,QAAQsB,cAAc,CAAC,CAAC,KAAM,MAAO,CAAC,OAAQ,UAAW,MACvHnB,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,IACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAmB,OAAI,SAAUC,GACnCU,EAAKV,EAAMW,cAAc,MAK7B,OAAOP,KAAKC,UAJD,CACTC,IAAK,SACLC,QAASG,IAEmB,KAKhCvB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAGI6B,EAHAb,EAAO,GAEPc,EAAYrF,2BAA2BuD,EAAM+B,WAGjD,IACE,IAAKD,EAAU1E,MAAOyE,EAAQC,EAAUxE,KAAKC,MAAO,CAClD,IAGMyE,EAKAC,EAQAC,EAhBFC,EAAQN,EAAMrE,MAEd2E,EAAMxD,KAAKyD,WAAW,OACpBJ,EAAS7C,QAAQY,WAAWG,YAAYF,EAAOmC,EAAMxD,KAAMQ,QAAQY,WAAWI,aAAe,QACjGa,EAAKqB,KAAK,CACRC,KAAMN,KAECG,EAAMxD,KAAKyD,WAAW,QAC3BH,EAAU9C,QAAQY,WAAWwC,gBAAgBvC,EAAOmC,EAAMxD,OAElD6D,SAAS,OACnBP,EAAUA,EAAQxD,MAAM,GAAI,IAG9BuC,EAAKA,EAAK7D,OAAS,GAAO,GAAI,IAAM8E,EAAU,KACtB,SAAfE,EAAMxD,QACXuD,EAAY/C,QAAQY,WAAWwC,gBAAgBvC,EAAOmC,EAAMxD,OAElD6D,SAAS,OACrBN,EAAYA,EAAUzD,MAAM,GAAI,IAGlCuC,EAAKqB,KAAK,CACRI,KAAQ,IAAMP,EAAY,QAIhC,MAAOrE,GACPiE,EAAUrE,EAAEI,GACZ,QACAiE,EAAUnE,IAGZ,OAAOyC,KAAKC,UAAU,CACpBC,IAAK,cACLC,QAASS,IACN,KAKP7B,QAAQY,WAA0B,cAAI,SAAUC,GAC9C,IAAIU,EAAK,CACPgC,GAAI,KACJC,IAAK,KACLC,GAAI,IACJC,IAAK,KACLC,GAAI,IACJC,IAAK,MACL/C,EAAMW,cAAc,OAClBqC,EAAQ7D,QAAQY,WAAWI,WAC3B8C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,IAC9DE,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,IAMlE,MAAO,CAAC5C,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAPS,CACTG,GAAIA,EACJuC,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA4B,gBAAI,SAAUC,GAChD,IAAIU,EAAK,CACPyC,IAAK,KACLC,GAAI,MACJpD,EAAMW,cAAc,OAClBqC,EAAQ7D,QAAQY,WAAWI,WAC3B8C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,CAChE1C,IAAK,gBACLC,SAAS,GAEP2C,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,CAChE1C,IAAK,gBACLC,SAAS,GAOX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,kBACLC,QAPS,CACTG,GAAIA,EACJuC,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CAClE1C,IAAK,gBACLC,SAAS,GAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,eACLC,QAAS/C,IACP2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAI5CxC,EADY,UAAVA,EAFQwC,EAAMW,cAAc,SAQhC,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAAS/C,IACP2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAuB,WAAI,SAAUC,GAC3C,MAAO,CAACI,KAAKC,UAAU,CACrBC,IAAK,aACLC,QAAS,OACPpB,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAC9C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3BmC,EAAOnD,QAAQY,WAAWG,YAAYF,EAAO,KAAMgD,IAAU,CAC/D1C,IAAK,gBACLC,SAAS,GAEP0C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CACnE1C,IAAK,aACLC,QAAS,MAEP2C,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CACnE1C,IAAK,aACLC,QAAS,MAQX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QARS,CACTG,GAAI,IACJ4B,KAAMA,EACNW,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAKzBhB,QAAQY,WAAgC,oBAAI,SAAUC,GACpD,IAAIqD,EAAQlE,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,cACLC,QAAS,GAEP+C,EAAYnE,QAAQY,WAAWwC,gBAAgBvC,EAAO,MAMtDgB,EAAO,CACTqC,MAAOA,EACPC,UAAW,KALXA,EADEA,EAAUd,SAAS,KACTc,EAAU7E,MAAM,GAAI,GAKf6E,GAAY,KAE/B,OAAOlD,KAAKC,UAAU,CACpBC,IAAK,sBACLC,QAASS,IACN,KAGP7B,QAAQY,WAAgC,oBAAI,SAAUC,GACpD,IAAIuD,EAAOvD,EAAMW,cAAc,QAC3BqC,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CAClE1C,IAAK,gBACLC,SAAS,GAEP+C,EAAYnE,QAAQY,WAAWwC,gBAAgBvC,EAAO,MAMtDgB,EAAO,CACTsB,KAAM9E,EACNA,MAAOA,EACP+F,KAAMA,EACND,UAAW,KAPXA,EADEA,EAAUd,SAAS,KACTc,EAAU7E,MAAM,GAAI,GAOf6E,GAAY,KAE/B,OAAOlD,KAAKC,UAAU,CACpBC,IAAK,sBACLC,QAASS,IACN,KAGP7B,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQwE,wBACtFX,EAAQ7D,QAAQY,WAAWI,WAC3BvB,EAAOO,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CACjE1C,IAAK,cACLC,QAAS,GAEPqD,EAAKzE,QAAQY,WAAWG,YAAYF,EAAO,KAAMgD,IAAU,CAC7D1C,IAAK,cACLC,QAAS,GAEPtC,EAAOkB,QAAQY,WAAWG,YAAYF,EAAO,KAAMgD,IAAU,CAC/D1C,IAAK,cACLC,QAAS,GAEP+C,EAAYnE,QAAQY,WAAWwC,gBAAgBvC,EAAO,MAMtDgB,EAAO,CACTwC,SAAUA,EACV5E,KAAMA,EACNgF,GAAIA,EACJ3F,KAAMA,EACNqF,UAAW,KARXA,EADEA,EAAUd,SAAS,KACTc,EAAU7E,MAAM,GAAI,GAQf6E,GAAY,KAE/B,OAAOlD,KAAKC,UAAU,CACpBC,IAAK,eACLC,QAASS,IACN,KAGP7B,QAAQY,WAA6B,iBAAI,SAAUC,GACjD,IAAIwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQwE,wBACtFX,EAAQ7D,QAAQY,WAAWI,WAC3B0D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CACjE1C,IAAK,mBACLC,QAAS,IAEP+C,EAAYnE,QAAQY,WAAWwC,gBAAgBvC,EAAO,MAMtDgB,EAAO,CACTwC,SAAUA,EACVK,KAAMA,EACNP,UAAW,KANXA,EADEA,EAAUd,SAAS,KACTc,EAAU7E,MAAM,GAAI,GAMf6E,GAAY,KAE/B,OAAOlD,KAAKC,UAAU,CACpBC,IAAK,mBACLC,QAASS,IACN,KAGP7B,QAAQY,WAAqC,yBAAI,SAAUC,GACrD8D,EAAO9D,EAAMW,cAAc,QAI/B,OAAOP,KAAKC,UAAU,CACpBC,IAAK,2BACLC,QALS,CACTuD,KAAMA,KAKH,KAKP3E,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,MAAO,CAACI,KAAKC,UAAU,CACrBC,IAAK,cACLC,QAASP,EAAMW,cAAc,SAC3BxB,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA4B,gBAAI,SAAUC,GAChD,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B8C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,CAChE1C,IAAK,cACLC,QAAS,GAEP2C,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,IAAKgD,IAAU,CAChE1C,IAAK,cACLC,QAAS,GAEPG,EAAKV,EAAMW,cAAc,MAM7B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,kBACLC,QAPS,CACTG,GAAIA,EACJuC,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,MAAOgD,IAAU,CACjE1C,IAAK,cACLC,QAAS,GAEPG,EAAKV,EAAMW,cAAc,MAK7B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,cACLC,QANS,CACTG,GAAIA,EACJlD,MAAOA,KAKL2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAsB,UAAI,SAAUC,GAC1C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,MAAOgD,IAAU,CACjE1C,IAAK,cACLC,QAAS,GAEPG,EAAKV,EAAMW,cAAc,MAK7B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,YACLC,QANS,CACTG,GAAIA,EACJlD,MAAOA,KAKL2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAC1CgB,EAAO,CACT+C,MAAS/D,EAAMW,cAAc,aAE/B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAASS,IACP7B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAiC,qBAAI,SAAUC,GACrD,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B8C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,kBAAmBgD,IAAU,CAC9E1C,IAAK,cACLC,QAAS,GAEP2C,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,UAAWgD,IAAU,CACtE1C,IAAK,cACLC,QAAS,GAEPyD,EAAWhE,EAAMW,cAAc,YAMnC,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,uBACLC,QAPS,CACTyD,SAAUA,EACVf,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAGzBhB,QAAQC,OAA+B,uBAAI,CACzCC,KAAM,WACJC,KAAKC,iBAAiB,QAAQC,SAAS,UAAUC,YAAY,WAC7DH,KAAKkB,mBAAmBf,YAAY,aACpCH,KAAKyB,WAAU,EAAM,UACrBzB,KAAKM,UAAU,KACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAmC,uBAAI,SAAUC,GACnDiE,EAAO9E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,YAK5E,MAAO,CAACC,KAAKC,UAJF,CACTC,IAAK,yBACLC,QAAS0D,IAEmB9E,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAuB,WAAI,SAAUC,GAC3C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3BO,EAAKV,EAAMW,cAAc,MACzBnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,MAAOgD,IAAU,CACjE1C,IAAK,cACLC,QAAS,GAMX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,aACLC,QANS,CACT/C,MAAOA,EACPkD,GAAIA,KAKFvB,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B0D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CACjE1C,IAAK,mBACLC,QAAS,IAEPG,EAAKV,EAAMW,cAAc,MAK7B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,eACLC,QANS,CACTG,GAAIA,EACJmD,KAAMA,KAKJ1E,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B8C,EAAS9D,QAAQY,WAAWG,YAAYF,EAAO,WAAYgD,IAAU,CACvE1C,IAAK,cACLC,QAAS,GAEP2C,EAAS/D,QAAQY,WAAWG,YAAYF,EAAO,UAAWgD,IAAU,CACtE1C,IAAK,cACLC,QAAS,GAMX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,cACLC,QANS,CACT0C,OAAQA,EACRC,OAAQA,KAKN/D,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA2B,eAAI,SAAUC,GAC/C,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASgD,IAAU,CACnE1C,IAAK,cACLC,QAAS,GAEP2D,EAAM/E,QAAQY,WAAWG,YAAYF,EAAO,MAAOgD,IAAU,CAC/D1C,IAAK,cACLC,QAAS,GAEP4D,EAAMhF,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CAChE1C,IAAK,cACLC,QAAS,GAOX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,iBACLC,QAPS,CACT/C,MAAOA,EACP0G,IAAKA,EACLC,IAAKA,KAKHhF,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA4B,gBAAI,SAAUC,GAChD,IAAIgD,EAAQ7D,QAAQY,WAAWI,WAC3B+D,EAAM/E,QAAQY,WAAWG,YAAYF,EAAO,OAAQgD,IAAU,CAChE1C,IAAK,cACLC,QAAS,GAEP4D,EAAMhF,QAAQY,WAAWG,YAAYF,EAAO,KAAMgD,IAAU,CAC9D1C,IAAK,cACLC,QAAS,GAMX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,kBACLC,QANS,CACT2D,IAAKA,EACLC,IAAKA,KAKHhF,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA8B,kBAAI,SAAUC,GAClD,MAAO,CAACI,KAAKC,UAAU,CACrBC,IAAK,sBACHnB,QAAQY,WAAWI,aAKzBhB,QAAQY,WAAiB,KAAI,SAAUC,GACrC,MAAO,CAACI,KAAKC,UAAU,CACrBC,IAAK,OACLC,QAASP,EAAMW,cAAc,UAC3BxB,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAsB,UAAI,SAAUC,GAG1C,IAFA,IAAI6D,EAAO,GAEFjH,EAAI,EAAGA,EAAIoD,EAAM+B,UAAU5E,OAAQP,IAAK,CAC/C,IAAIY,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,MAAQpD,EAAGuC,QAAQY,WAAWI,aAAe,CAC7FG,IAAK,OACLC,QAAS,IAEXsD,EAAKxB,KAAK7E,GAGZ,MAAO,CAAC4C,KAAKC,UAAU,CACrBC,IAAK,YACLC,QAASsD,IACP1E,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQiF,UAAUC,WAChGJ,EAAO9E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,OACLC,QAAS,IASX,OAAOH,KAAKC,UAPD,CACTC,IAAK,cACLC,QAAS,CACPiD,SAAUA,EACVS,KAAMA,KAGoB,KAGhC9E,QAAQY,WAAwB,YAAI,SAAUC,GACxCxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,OACLC,QAAS,IAMX,MAAO,CAACH,KAAKC,UAJF,CACTC,IAAK,cACLC,QAAS/C,IAEmB2B,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAyB,aAAI,SAAUC,GACzCxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,OACLC,QAAS,IAMX,MAAO,CAACH,KAAKC,UAJF,CACTC,IAAK,eACLC,QAAS/C,IAEmB2B,QAAQY,WAAWI,aAGnDhB,QAAQC,OAAwB,gBAAI,CAClCC,KAAM,WACJC,KAAKC,iBAAiB,SAASC,SAAS,MAAMC,YAAY,WAC1DH,KAAKkB,mBAAmBf,YAAY,WACpCH,KAAKyB,WAAU,EAAM,UACrBzB,KAAKM,UAAU,KACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA4B,gBAAI,SAAUC,GAC5CsE,EAAQnF,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAK9E,MAAO,CAACC,KAAKC,UAJF,CACTC,IAAK,kBACLC,QAAS+D,IAEmBnF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIuE,EAAUvE,EAAMW,cAAc,OAC9BnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,OACLC,QAAS,IAEPiE,EAAYrF,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CAC9FG,IAAK,OACLC,QAAS,IAUX,MAAO,CAACH,KAAKC,UARF,CACTC,IAAK,eACLC,QAAS,CACP/C,MAAOA,EACPgH,UAAWA,EACXD,QAASA,KAGiBpF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIyE,EAASzE,EAAMW,cAAc,UAAY,aACzCnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,OACLC,QAAS,IAEPmE,EAAKvF,QAAQY,WAAWG,YAAYF,EAAO,KAAMb,QAAQY,WAAWI,aAAe,CACrFG,IAAK,cACLC,QAAS,GAUX,MAAO,CAACH,KAAKC,UARF,CACTC,IAAK,cACLC,QAAS,CACP/C,MAAOA,EACPkH,GAAIA,EACJD,OAAQA,KAGkBtF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAA8B,kBAAI,SAAUC,GAClD,IAAI2E,EAAU3E,EAAMW,cAAc,WAAa,CAC7CL,IAAK,cACLC,QAAS,GAEPqE,EAAU5E,EAAMW,cAAc,WAAa,CAC7CL,IAAK,cACLC,QAAS,GAEP/C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,SAAUb,QAAQY,WAAWI,aAAe,CAC5FG,IAAK,OACLC,QAAS,IAEPsE,EAAM1F,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,aAAe,CACvFG,IAAK,cACLC,QAAS,GAEPuE,EAAM3F,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,aAAe,CACvFG,IAAK,cACLC,QAAS,GAYX,MAAO,CAACH,KAAKC,UAVF,CACTC,IAAK,oBACLC,QAAS,CACP/C,MAAOA,EACPqH,IAAKA,EACLC,IAAKA,EACLH,QAASA,EACTC,QAASA,KAGiBzF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAA4B,gBAAI,SAAUC,GAChD,IAAIyE,EAASzE,EAAMW,cAAc,QAC7BnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,OACLC,QAAS,IASX,MAAO,CAACH,KAAKC,UAPF,CACTC,IAAK,kBACLC,QAAS,CACP/C,MAAOA,EACPiH,OAAQA,KAGkBtF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAsB,UAAI,SAAUC,GAC1C,IAAIyE,EAASzE,EAAMW,cAAc,QAC7BnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,OACLC,QAAS,IASX,MAAO,CAACH,KAAKC,UAPF,CACTC,IAAK,YACLC,QAAS,CACP/C,MAAOA,EACPiH,OAAQA,KAGkBtF,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAuB,WAAI,SAAUC,GACvCxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,OACLC,QAAS,IAMX,OAAOH,KAAKC,UAJD,CACTC,IAAK,aACLC,QAAS/C,IAEmB,KAShC2B,QAAQC,OAAe,OAAI,CACzBC,KAAM,WACJC,KAAKkB,mBAAmBf,YAAY,UACpCH,KAAKC,iBAAiB,SAASC,SAAS,MAAMC,YAAY,cAC1DH,KAAKC,iBAAiB,WAAWC,SAAS,MAAMC,YAAY,gBAC5DH,KAAKoC,iBAAgB,GACrBpC,KAAKyB,WAAU,EAAM,UACrBzB,KAAKM,UAAU,KACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAmB,OAAI,SAAUC,GACvC,IAAIxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,YAC1E4E,EAAU5F,QAAQY,WAAWG,YAAYF,EAAO,UAAWb,QAAQY,WAAWI,YAQlF,MAAO,CAACC,KAAKC,UAPF,CACTC,IAAK,SACLC,QAAS,CACP/C,MAAOA,EACPuH,QAASA,KAGiB5F,QAAQY,WAAWI,aAKnDhB,QAAQY,WAA8B,kBAAI,SAAUC,GAGlD,IAFA,IAAIgF,EAAQ,GAEHpI,EAAI,EAAGA,EAAIoD,EAAMiF,WAAYrI,IAAK,CACzC,IAAIsI,EAAO/F,QAAQY,WAAWG,YAAYF,EAAO,MAAQpD,EAAGuC,QAAQY,WAAWI,aAAe,CAC5FG,IAAK,aACLC,QAAS,MAEXyE,EAAM3C,KAAK6C,GAGb,MAAO,CAAC9E,KAAKC,UAAU,CACrBC,IAAK,oBACLC,QAASyE,IACP7F,QAAQY,WAAWI,aAGzBhB,QAAQC,OAAsB,cAAI,CAChCC,KAAM,WACJC,KAAKC,iBAAiB,QAAQC,SAAS,SAASC,YAAY,kBAC5DH,KAAKyB,WAAU,EAAM,UACrBzB,KAAKM,UAAU,KACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA0B,cAAI,SAAUC,GAC1C6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,oBACLC,QAAS,IAMX,MAAO,CAACH,KAAKC,UAJF,CACTC,IAAK,gBACLC,QAASsD,IAEmB1E,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAyB,aAAI,SAAUC,GAC7C,IAAIxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,aACLC,QAAS,MAEP8C,EAAQlE,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,cACLC,QAAS,GAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,eACLC,QAAS,CACP/C,MAAOA,EACP6F,MAAOA,KAEPlE,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAyB,aAAI,SAAUC,GACzCxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,oBACLC,QAAS,IAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,eACLC,QAAS/C,IACP2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAC1CxC,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,oBACLC,QAAS,IAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAAS/C,IACP2B,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAC9C,IAAI6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,oBACLC,QAAS,IAEP2E,EAAO/F,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,aACLC,QAAS,MAEPgE,EAAUvE,EAAMW,cAAc,OAClC,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAAS,CACPsD,KAAMA,EACNqB,KAAMA,EACNX,QAASA,KAETpF,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA2B,eAAI,SAAUC,GAC/C,IAAI6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,oBACLC,QAAS,IAEPgD,EAAOvD,EAAMW,cAAc,QAC3BwE,EAAQnF,EAAMW,cAAc,SAC5BG,EAAQ3B,QAAQY,WAAWG,YAAYF,EAAO,KAAMb,QAAQY,WAAWI,aAAe,CACxFG,IAAK,cACLC,QAAS,GAGX,MAAa,WAATgD,EACKnD,KAAKC,UAAU,CACpBC,IAAK,iBACLC,QAAS,CACPsD,KAAMA,EACN/C,MAAOA,EACPyC,KAAMA,EACN4B,MAAOA,KAEN,IAGA,CAAC/E,KAAKC,UAAU,CACrBC,IAAK,iBACLC,QAAS,CACPsD,KAAMA,EACN/C,MAAOA,EACPyC,KAAMA,EACN4B,MAAOA,KAEPhG,QAAQY,WAAWI,aAGzBhB,QAAQY,WAA2B,eAAI,SAAUC,GAC/C,IAAI6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,oBACLC,QAAS,IAEP/C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,KAAMb,QAAQY,WAAWI,aAAe,CACxFG,IAAK,aACLC,QAAS,MAEPgD,EAAOvD,EAAMW,cAAc,QAC3BwE,EAAQnF,EAAMW,cAAc,SAC5BG,EAAQ3B,QAAQY,WAAWG,YAAYF,EAAO,KAAMb,QAAQY,WAAWI,aAAe,CACxFG,IAAK,cACLC,QAAS,GAEX,OAAOH,KAAKC,UAAU,CACpBC,IAAK,iBACLC,QAAS,CACPsD,KAAMA,EACNrG,MAAOA,EACPsD,MAAOA,EACPyC,KAAMA,EACN4B,MAAOA,KAEN,KAGPhG,QAAQY,WAA6B,iBAAI,SAAUC,GACjD,IAAI6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,oBACLC,QAAS,IAEP6E,EAASpF,EAAMW,cAAc,UAC7B0E,EAASrF,EAAMW,cAAc,UAC7BkE,EAAM1F,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,aAAe,CACvFG,IAAK,cACLC,QAAS,GAEPuE,EAAM3F,QAAQY,WAAWG,YAAYF,EAAO,MAAOb,QAAQY,WAAWI,aAAe,CACvFG,IAAK,cACLC,QAAS,GAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,mBACLC,QAAS,CACPsD,KAAMA,EACNuB,OAAQA,EACRC,OAAQA,EACRR,IAAKA,EACLC,IAAKA,KAEL3F,QAAQY,WAAWI,aAGzBhB,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIsF,EAAQnG,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,OACLC,QAAS,KAEPgD,EAAOvD,EAAMW,cAAc,QAC3BnD,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,oBACLC,QAAS,IAEX,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,cACLC,QAAS,CACP/C,MAAOA,EACP+F,KAAMA,EACN+B,MAAOA,KAEPnG,QAAQY,WAAWI,aAGzBhB,QAAQC,OAAoB,YAAI,CAC9BC,KAAM,WACJC,KAAKC,iBAAiB,QAAQC,SAAS,UAAUC,YAAY,MAC7DH,KAAKkB,mBAAmBf,YAAY,YAAYA,YAAY,IAAIN,QAAQkC,eAAe,SAAU,SACjG/B,KAAKoC,iBAAgB,GACrBpC,KAAKyB,WAAU,EAAM,SACrBzB,KAAKM,UAAU,KACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIiE,EAAO9E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,YACxEoF,EAAQvF,EAAMW,cAAc,SAQhC,MAAO,CAACP,KAAKC,UAPF,CACTC,IAAK,cACLC,QAAS,CACP0D,KAAMA,EACNsB,MAAOA,KAGmBpG,QAAQY,WAAWI,aAGnDhB,QAAQY,WAAuB,WAAI,SAAUC,GAC3C,IAAI6D,EAAO1E,QAAQY,WAAWG,YAAYF,EAAO,OAAQb,QAAQY,WAAWI,aAAe,CACzFG,IAAK,oBACLC,QAAS,IAEPiF,EAAYxF,EAAMW,cAAc,aAChC8E,EAAOzF,EAAMW,cAAc,QAC/B,MAAO,CAACP,KAAKC,UAAU,CACrBC,IAAK,aACLC,QAAS,CACPsD,KAAMA,EACN2B,UAAWA,EACXC,KAAMA,KAENtG,QAAQY,WAAWI,aAKzBhB,QAAQY,WAA0B,cAAI,SAAUC,GAC9C,IAAIwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQwE,wBACtFX,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASgD,IAAU,CACnE1C,IAAK,aACLC,QAAS,MAMX,OAAOH,KAAKC,UAAU,CACpBC,IAAK,gBACLC,QANS,CACTiD,SAAUA,EACVhG,MAAOA,KAKJ,KAGP2B,QAAQY,WAAwB,YAAI,SAAUC,GAC5C,IAAIwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQwE,wBACtFX,EAAQ7D,QAAQY,WAAWI,WAC3B3C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASgD,IAAU,CACnE1C,IAAK,cACLC,QAAS,GAMX,OAAOH,KAAKC,UAAU,CACpBC,IAAK,cACLC,QANS,CACTiD,SAAUA,EACVhG,MAAOA,KAKJ,KAGP2B,QAAQY,WAA0B,cAAI,SAAUC,GAC1CwD,EAAWrE,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,OAAQxB,QAAQwE,wBAC1F,MAAO,CAACvD,KAAKC,UAAU,CACrBC,IAAK,gBACLC,QAASiD,IACPrE,QAAQY,WAAWI,aAKzBhB,QAAQY,WAAmC,uBAAI,SAAUC,GAUvD,IATA,IAAIrB,EAAOQ,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,QAASxB,QAAQuG,yBACnFC,EAAgBxG,QAAQY,WAAWwC,gBAAgBvC,EAAO,SAM1D4F,GAJAD,EAAcnD,SAAS,OACzBmD,EAAgBA,EAAclH,MAAM,GAAI,IAG/B,IAEF7B,EAAI,EAAGA,EAAIoD,EAAM6F,WAAW1I,OAAQP,IAC3CgJ,EAAKhJ,GAAKuC,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAM6F,WAAWjJ,GAAIuC,QAAQwE,wBAQhF,OAAOvD,KAAKC,UAAU,CACpBC,IAAK,yBACLC,QAPS,CACT5B,KAAMA,EACNiH,KAAMA,EACND,cAAe,IAAMA,EAAgB,OAKlC,KAIPxG,QAAQY,WAAoC,wBAAI,SAAUC,GAIxD,IAHA,IAAIrB,EAAOQ,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,QAASxB,QAAQuG,yBACnFE,EAAO,GAEFhJ,EAAI,EAAGA,EAAIoD,EAAM8F,mBAAmB3I,OAAQP,IAEnDgJ,EADezG,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAM8F,mBAAmBlJ,GAAGmJ,IAAK5G,QAAQwE,yBAC9ExE,QAAQY,WAAWG,YAAYF,EAAO,MAAQpD,EAAGuC,QAAQY,WAAWI,aAAe,CAClGG,IAAK,aACLC,QAAS,MAQb,OAAOH,KAAKC,UAAU,CACpBC,IAAK,0BACLC,QANS,CACT5B,KAAMA,EACNiH,KAAMA,KAKH,KAGPzG,QAAQY,WAAgC,oBAAI,SAAUC,GACpD,IAAIgG,EAAY7G,QAAQY,WAAWG,YAAYF,EAAO,YAAab,QAAQY,WAAWI,aAAe,CACnGG,IAAK,gBACLC,SAAS,GAEP/C,EAAQ2B,QAAQY,WAAWG,YAAYF,EAAO,QAASb,QAAQY,WAAWI,aAAe,CAC3FG,IAAK,aACLC,QAAS,MAMX,OAAOH,KAAKC,UAAU,CACpBC,IAAK,sBACLC,QANS,CACTyF,UAAWA,EACXxI,MAAOA,KAKJ,KAGP2B,QAAQY,WAAiC,qBAAI,SAAUC,GAcrD,IAbA,IAAIrB,EAAOQ,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,QAASxB,QAAQuG,yBACnFO,EAAM9G,QAAQY,WAAWG,YAAYF,EAAO,SAAUb,QAAQY,WAAWI,aAAe,CAC1FG,IAAK,aACLC,QAAS,MAEPoF,EAAgBxG,QAAQY,WAAWwC,gBAAgBvC,EAAO,SAM1D4F,GAJAD,EAAcnD,SAAS,OACzBmD,EAAgBA,EAAclH,MAAM,GAAI,IAG/B,IAEF7B,EAAI,EAAGA,EAAIoD,EAAM6F,WAAW1I,OAAQP,IAC3CgJ,EAAKhJ,GAAKuC,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAM6F,WAAWjJ,GAAIuC,QAAQwE,wBAShF,OAAOvD,KAAKC,UAAU,CACpBC,IAAK,uBACLC,QARS,CACT5B,KAAMA,EACNiH,KAAMA,EACND,cAAe,IAAMA,EAAgB,IACrCM,IAAKA,KAKF,KAGP9G,QAAQY,WAAkC,sBAAI,SAAUC,GAKtD,IAJA,IAAIkG,EAAYlG,EAAM6F,WAClBlH,EAAOQ,QAAQY,WAAW0D,YAAYC,QAAQ1D,EAAMW,cAAc,QAASxB,QAAQuG,yBACnFE,EAAO,GAEFhJ,EAAI,EAAGA,EAAIsJ,EAAU/I,OAAQP,IACpCgJ,EAAKM,EAAUtJ,IAAMuC,QAAQY,WAAWG,YAAYF,EAAO,MAAQpD,EAAGuC,QAAQY,WAAWI,aAAe,CACtGG,IAAK,aACLC,QAAS,MAQb,MAAO,CAACH,KAAKC,UAAU,CACrBC,IAAK,wBACLC,QANS,CACT5B,KAAMA,EACNiH,KAAMA,KAKJzG,QAAQY,WAAWI,aAKzBhB,QAAQC,OAAuB,eAAI,CACjCC,KAAM,WACJC,KAAK6G,qBAAqB,OAAO3G,SAAS,MAAMC,YAAY,OAC5DH,KAAK6G,qBAAqB,SAAS3G,SAAS,MAAMC,YAAY,SAC9DH,KAAKoC,iBAAgB,GACrBpC,KAAKI,sBAAqB,EAAM,MAChCJ,KAAKK,kBAAiB,EAAM,MAC5BL,KAAKM,UAAU,WACfN,KAAKO,WAAW,IAChBP,KAAKQ,WAAW,MAIpBX,QAAQY,WAA2B,eAAI,SAAUC,GAC/C,IAAIoG,EAAWjH,QAAQY,WAAWwC,gBAAgBvC,EAAO,OACrDqG,EAAalH,QAAQY,WAAWwC,gBAAgBvC,EAAO,SAUvDgB,EAAO,CACTV,IAAK,iBACLC,QAAS,CACP+F,IAAO,KAVTF,EADEA,EAAS5D,SAAS,KACT4D,EAAS3H,MAAM,GAAI,GAUf2H,GAAW,IACxBG,MAAS,KAPXF,EADEA,EAAW7D,SAAS,KACT6D,EAAW5H,MAAM,GAAI,GAOjB4H,GAAa,MAGhC,OAAOjG,KAAKC,UAAUW,GAAQ,KAGhCwF,OAAOtF,OAAS,GAChB/B,QAAQsH,eAAiB,EAEzBtH,QAAQuH,UAAUC,mBAAqB,GAEvC,IACEH,OAAOtF,OAAOC,MAAQf,KAAKa,MAAM2F,aAAaC,QAAQ,kBACtD,MAAOpJ,GACP+I,OAAOtF,OAAOC,MAAQ,GAGxBqF,OAAOtF,OAAO4F,YAAc,KAE5BN,OAAOO,aAAe,WACpB,MAAuC,SAAnCH,aAAaC,QAAQ,UAChB,OAGF,WAGT,IAAIG,UAAY7H,QAAQ8H,MAAMC,YAAY,iBAAkB,CAC1DC,KAAMhI,QAAQiI,OAAOC,QACrBC,gBAAiB,CACfC,0BAA2B,UAC3BC,wBAAyB,UACzBC,wBAAyB,OACzBC,uBAAwB,yBAE1BC,UAAW,CACTC,KAAM,MAGNC,WAAa1I,QAAQ8H,MAAMC,YAAY,kBAAmB,CAC5DC,KAAMhI,QAAQiI,OAAOC,QACrBC,gBAAiB,CACfC,0BAA2B,OAC3BC,wBAAyB,OACzBC,wBAAyB,OACzBC,uBAAwB,4BAE1BC,UAAW,CACTC,KAAM,MAIV,SAASE,WACP,MAAuC,SAAnClB,aAAaC,QAAQ,UAChBG,UAGFa,WAGTrB,OAAOuB,UAAY5I,QAAQ6I,OAAO,cAAe,CAC/CC,MAAO,uBACPC,QAASjJ,oBAA8B,SACvCkJ,KAAM,CACJC,UAAU,GAEZC,KAAM,CACJC,MAAM,EACNC,OAAO,GAETC,UAAU,EACVC,MAAOX,aAGTtB,OAAOkC,YAAc,SAAUC,GAC7B/B,aAAagC,QAAQ,MAAOzJ,QAAQ0J,IAAIC,UAAU3J,QAAQ0J,IAAIE,eAAehB,aAC7EnB,aAAagC,QAAQ,SAAUD,GAC/BK,SAASC,UAGX9J,QAAQY,WAAWV,KAAK0I,WAExB5I,QAAQY,WAAWmJ,gBAAkB,SAAUnB,GAI7C,IAHA,IAKMoB,EALFnI,EAAO,IACPoI,EAASrB,EAAUsB,cAAa,GAE3BzM,EAAI,EAAUoD,EAAQoJ,EAAOxM,GAAIA,IACpCoD,EAAMsJ,WAWVtI,IAHEmI,GAJAA,GAHEA,EAAYhK,QAAQY,WAAWwJ,YAAYvJ,cAEtBhD,MACXmM,EAAU,GAGpBA,GAAU3G,SAAS,KACT2G,EAAU1K,MAAM,GAAI,GAG1B0K,GAAY,KAQtB,OALInI,EAAKwB,SAAS,OAChBxB,EAAOA,EAAKvC,MAAM,GAAI,IAGxBuC,GAAQ,KAiBV,IAAIwI,uBAA4E,SAAnD5C,aAAaC,QAAQ,0BA6C9C4C,QA5CJ1B,UAAU2B,kBAAkB,SAAUjM,GASpC,GAR4B,OAAxB+I,OAAOtF,OAAOC,QAChBqF,OAAOtF,OAAOC,MAAQ,IAGN,aAAd1D,EAAEkM,SAAwC,cAAdlM,EAAEkM,SAChCC,0BAGgB,aAAdnM,EAAEkM,SAAsC,KAAZlM,EAAEoM,OAA+B,OAAfpM,EAAEqM,UAAoC,OAAfrM,EAAEsM,SACzE,IAGqB,kBAFPhC,UAAUiC,aAAavM,EAAEqM,UAE3BrE,WAAyDwE,IAA7B/I,OAAOC,MAAM1D,EAAEsM,YACnD7I,OAAOC,MAAM1D,EAAEsM,UAAY7I,OAAOC,MAAM1D,EAAEqM,WAE5C,MAAOrM,IAGX,GAAkB,aAAdA,EAAEkM,cAAsDM,IAA5B/I,OAAOC,MAAM1D,EAAEyM,SAC7C,IACE,IAAIC,EAASpC,UAAUiC,aAAavM,EAAEyM,SAEtChJ,OAAO4F,YAAcqD,EAAO/I,GAER,kBAAhB+I,EAAO1E,OACTvE,OAAOC,MAAM1D,EAAEyM,SAAW,GAEtB1D,OAAO4D,OACT5D,OAAO4D,OAAOC,cAEV7D,OAAO8D,uBAAuB9D,OAAO8D,yBAG7C,MAAO7M,IAGO,cAAdA,EAAEkM,SAA2BH,yBAC/BzB,UAAUwC,aAAaC,MAAQ,EAC/BzC,UAAU0C,mBAAmBC,MAAQ,EACrCC,SAASC,cAAc,sBAAsBC,MAAMC,QAAU,OAC7DC,EAAE,sBAAsBC,IAAI,OAAQ,UAG3BL,SAASC,cAAc,SAqDpC,SAAShB,0BACP,IAAIqB,GAAY,EAChBF,EAAE,kBAAkBG,KAAK,SAAUC,GAC5BF,GAAqD,UAAxCzE,OAAO4E,iBAAiBD,GAAIL,UAC5CG,GAAY,KAIXA,GACHF,EAAE,mCAAmCC,IAAI,QAASjE,gBAuEtD,SAASsE,cACP,MAAuC,SAAnCzE,aAAaC,QAAQ,UAChB,UAGF,OAxIM,OAAX4C,QACFA,OAAO6B,iBAAiB,QAAS,WAC/B,IAAItK,EAAO7B,QAAQY,WAAWmJ,gBAAgBnB,WAC9CwD,QAAQC,IAAIxK,GACZ2J,SAASC,cAAc,SAASa,YAAczK,EAC9C4F,aAAagC,QAAQ,MAAOzJ,QAAQ0J,IAAIC,UAAU3J,QAAQ0J,IAAIE,eAAehB,eAIjF7G,OAAOwK,SAAW,WAChB,IAIS/J,EAJLX,EAAOZ,KAAKa,MAAM9B,QAAQY,WAAWmJ,gBAAgBnB,YACrD4D,EAAMxM,QAAQ0J,IAAIE,eAAehB,WACjC5G,EAAQD,OAAOC,MAEnB,IAASQ,KAAOR,EACsB,OAAhC4G,UAAUiC,aAAarI,WAClBR,EAAMQ,GAIjB,MAAO,CACLX,KAAMA,EACN2K,IAAKxM,QAAQ0J,IAAIC,UAAU6C,GAC3BxK,MAAOA,IAIXD,OAAO0K,QAAU,WACf,IAAI5K,EAAO7B,QAAQY,WAAWmJ,gBAAgBnB,WAC9C,OAAO3H,KAAKa,MAAMD,IAGpBE,OAAO2K,gBAAkB,SAAUrO,GACjC,GAAc,OAAVA,GAA4B,SAAVA,GAA8B,KAAVA,EAGxC,OAFYuK,UAAUiC,aAAa9I,OAAO4F,aACpCgF,UACC,KAGLxK,EAAWyK,KAAKvO,GAEpB,OADA0D,OAAOC,MAAMD,OAAO4F,aAAexF,GAIrCJ,OAAO8K,gBAAkB,SAAUL,EAAKxK,GAClC8K,EAAWC,mBAAmBC,OAAO3F,OAAOuF,KAAKJ,KACjDS,EAAaF,mBAAmBC,OAAO3F,OAAOuF,KAAK5K,KACvDD,OAAOC,MAAQf,KAAKa,MAAMmL,GAC1BjN,QAAQ0J,IAAIwD,eAAelN,QAAQ0J,IAAIyD,UAAUL,GAAWlE,YAgB9DgD,EAAE,yBAAyBC,IAAI,CAC7BuB,aAAc,qCACdC,WAAY,SAEd7B,SAASW,iBAAiB,QAAS,SAAU7N,GAC3CmM,4BACC,GACHmB,EAAE,oCAAoCG,KAAK,SAAUC,GACnD,IAAIsB,EAAS1B,EAAEI,GAAIsB,SAGfC,GAFQD,EAAOzB,IAAI,eAAe2B,MAAM,OAEhCF,EAAOG,KAAK,qBAAqB5B,IAAI,YAAa,UAAU/G,OAAO4I,QAc3EC,GAbJL,EAAOzB,IAAI,CACTF,QAAS,OACTiC,WAAY,SACZC,cAAe,SACfC,eAAgB,SAChBC,OAAQ,OACRC,QAAS,WACTX,WAAY,OACZY,WAAY,yBACXR,KAAK,oBAAoB5B,IAAI,CAC9BkC,OAAQ,OACR1C,MAAO,SAEEG,SAAS0C,cAAc,MAClCtC,EAAE+B,GAAMQ,SAAS,kBACjBb,EAAOc,GAAG,QAAS,WACjBC,WAAW,WACTzC,EAAE,mCAAmCC,IAAI,QAASjE,gBAClD,IAAIyD,EAAQO,EAAE,sBAAsB0C,aACpCX,EAAKjC,MAAM6C,MAAQ,QACnB3C,EAAE,kBAAkBC,IAAI,YAAa,aAAeR,EAAQ,YAC5DZ,2BACC,KAGS,YAAV8C,EACFI,EAAKrB,YAAc,SACA,SAAViB,EACTI,EAAKrB,YAAc,OACA,WAAViB,EACTI,EAAKrB,YAAc,QACA,aAAViB,EACTI,EAAKrB,YAAc,SACA,UAAViB,EACTI,EAAKrB,YAAc,eACA,UAAViB,EACTI,EAAKrB,YAAc,SACA,SAAViB,EACTI,EAAKrB,YAAc,YACA,SAAViB,EACTI,EAAKrB,YAAc,cACA,UAAViB,EACTI,EAAKrB,YAAc,OACA,cAAViB,EACTI,EAAKrB,YAAc,YACA,cAAViB,EACTI,EAAKrB,YAAc,YACA,UAAViB,IACTI,EAAKrB,YAAc,YAGrBgB,EAAOkB,QAAQb,GACfL,EAAOG,KAAK,oBAAoBgB,WAWqB,SAAnDhH,aAAaC,QAAQ,2BACvB2G,WAAW,WACT,IAAIK,EAAS9C,EAAEJ,SAAS0C,cAAc,QAElCS,GADJD,EAAOP,SAAS,qBACLvC,EAAEJ,SAAS0C,cAAc,UAEhCU,GADJD,EAAKR,SAAS,mBAAmBtC,IAAI,mBAAoBjE,gBAC9CgE,EAAEJ,SAAS0C,cAAc,UAEhCW,GADJD,EAAKT,SAAS,mBAAmBtC,IAAI,mBAAoBjE,gBAC9CgE,EAAEJ,SAAS0C,cAAc,UACpCW,EAAKV,SAAS,mBAAmBtC,IAAI,mBAAoBjE,gBACzD8G,EAAOI,OAAOH,GACdD,EAAOI,OAAOF,GACdF,EAAOI,OAAOD,GACdjD,EAAE,gBAAgBkD,OAAOJ,GACN9F,UAAUwC,aAAaC,MAC1CzC,UAAUwC,aAAaC,MAAQ,EAC/BzC,UAAU0C,mBAAmBC,MAAQ,EACrCC,SAASC,cAAc,sBAAsBC,MAAMC,QAAU,OAC7D+C,EAAO7C,IAAI,OAAQ,OACnB6C,EAAO7C,IAAI,CACTkD,aAAc,oBACdC,gBAAiB9C,cACjB+C,KAAMzD,SAASC,cAAc,sBAAsByD,YAAc,OAChEd,GAAG,QAAS,SAAU9P,GAEwB,SAA3CsN,EAAE,sBAAsBC,IAAI,YAE9BL,SAASC,cAAc,sBAAsBC,MAAMC,QAAU,QAC7D+C,EAAO7C,IAAI,OAAQL,SAASC,cAAc,sBAAsByD,YAAc,QAE9EtG,UAAUwC,aAAaC,MAAQ,EAC/BzC,UAAU0C,mBAAmBC,MAAQ,EACrCC,SAASC,cAAc,sBAAsBC,MAAMC,QAAU,OAC7D+C,EAAO7C,IAAI,OAAQ,WAGtB"}